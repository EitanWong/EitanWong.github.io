[{"content":"The verb to be indicates a state of being or existence.\nTo be is an irregular verb.\nThere are eight forms of the verb to be: 1. Present: amã€isã€are Example:\nI am a student.\nShe is a teacher.\nThey are the audience.\nThey are teachers.\n2. Simple past: wasã€were Example\nHe was back.\nThey were back.\nHe was a teacher before\n3. Infinitive: be infinitive is a verbal consisting of the word to plus a verb (in its simplest \u0026ldquo;stem\u0026rdquo; form) and functioning as a noun, adjective, or adverb. The term verbal indicates that an infinitive, like the other two kinds of verbals, is based on a verb and therefore expresses action or state of being.\nExample\nWe need to win.\n4. Present participle: being Example\nI'm always being criticized.\nYou're being stupid.\n5. Past participle: been Example\nHe has been a teacher for 3 years.\nUsage of the verb be Followed by nouns, adjectives, adverbs of location or phrases as complements.\nThe man is a teacher. Mary's new dresses are colorful. My mother was in the kitchen. ","permalink":"https://EitanWong.github.io/en/posts/english/lesson2_the_verb_to_be/","summary":"The verb to be indicates a state of being or existence. To be is an irregular verb. There are eight forms of the verb to be: 1. Present: amã€isã€are Example: I am a student. She is a teacher. They are the audience. They are teachers. 2. Simple past: wasã€were Example He was back. They were back. He was a teacher before 3. Infinitive: be infinitive is a verbal consisting of the word to plus a verb (in its simplest \u0026ldquo;stem\u0026rdquo; form) and functioning as a noun, adjective, or adverb. The term verbal indicates that an infinitive, like the other two kinds of verbals, is based on a verb and therefore expresses action or state of being. Example We need to win. 4. Present participle: being","title":"Lesson2: The Verb 'To Be'"},{"content":"English is an international language, and being proficient in it allows individuals to communicate effectively with English speakers worldwide.\nIn English, there are five basic sentence patterns.\nPatterns 1: Subject + Verb Example:\nSentence: The universe remains.\nNote:\n\u0026lsquo;The universe\u0026rsquo; is the subject of the action of this sentence, certainly, it\u0026rsquo;s the subject of this sentence \u0026lsquo;Remains\u0026rsquo; is the action of this sentence, so it\u0026rsquo;s the verb of this sentence Patterns 2: Subject + Linking Verb + Predicative Example:\nSentence: The food is delicious.\nNote:\nWhat is a sentence subject? sentence subject is the subject of the action in the sentence. In English, use a Linking verb to link the subject and Predicative, so is is a Linking Verb. Predicative is relating to or occurring within the predicate of a sentence. Predicate is the part of a sentence that gives information about the subject. In this sentence case, food is the subject of this sentence, and is is a Linking Verb, delicious is a Predicative of this sentence. Patterns 3: Subject + Verb + Object Example:\nSentence: He too his bag and left.\nNote:\nIn this sentence case, He is the subject of this sentence. took and left is the action of this sentence, so they are Verbs. his bag is the object of this sentence, so it\u0026rsquo;s Object. Patterns 4: Subject + Verb + Indirect object + Direct object Example:\nSentence: Her father bought her a dictionary.\nNote:\nHer father is the subject of this sentence. Bought is the verb of this sentence. her is people, so it\u0026rsquo;s the Indirect object of this sentence. dictionary is a thing, so it\u0026rsquo;s the Direct object of this sentence. Patterns 5: Subject + Verb + Object + Complement Example:\nSentence: We made him our monitor\nNote:\nWe is the subject of this sentence. Made is the verb of this sentence. him is the object of this sentence. Our monitor is a Complement of the object of this sentence, so it\u0026rsquo;s the Complement of this sentence. ","permalink":"https://EitanWong.github.io/en/posts/english/lesson1_the_basic_sentence_patterns/","summary":"English is an international language, and being proficient in it allows individuals to communicate effectively with English speakers worldwide. In English, there are five basic sentence patterns. Patterns 1: Subject + Verb Example: Sentence: The universe remains. Note: \u0026lsquo;The universe\u0026rsquo; is the subject of the action of this sentence, certainly, it\u0026rsquo;s the subject of this sentence \u0026lsquo;Remains\u0026rsquo; is the action of this sentence, so it\u0026rsquo;s the verb of this sentence Patterns 2: Subject + Linking Verb + Predicative Example: Sentence: The food is delicious. Note: What is a sentence subject? sentence subject is the subject of the action in the sentence. In English, use a Linking verb to link the subject and Predicative, so is is a Linking Verb. Predicative is relating to or occurring within the predicate of a sentence. Predicate is the part of a sentence that gives","title":"Lesson1: The basic sentence patterns"},{"content":" 1.ç®—æ³•çš„å¤æ‚åº¦ ç®—æ³•åœ¨ç¼–å†™æˆå¯æ‰§è¡Œç¨‹åºå,è¿è¡Œéœ€è¦è€—è´¹æ—¶é—´å’Œç©ºé—´èµ„æº å› æ­¤è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¥½å,ä¸€èˆ¬æ˜¯ä»æ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦æ¥è¡¡é‡çš„ å³ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦\næ—¶é—´å¤æ‚åº¦ä¸»è¦è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¿«æ…¢,è€Œç©ºé—´å¤æ‚åº¦ä¸»è¦è¡¡é‡ä¸€ä¸ªç®—æ³•è¿è¡Œæ‰€éœ€çš„é¢å¤–ç©ºé—´\nåœ¨è®¡ç®—æœºå‘å±•çš„æ—©æœŸ,è®¡ç®—æœºçš„å­˜å‚¨å®¹é‡å¾ˆå°,æ‰€ä»¥å¯¹ç©ºé—´çš„å¤æ‚åº¦æ˜¯å¾ˆåœ¨ä¹,ä½†æ˜¯ç»è¿‡è®¡ç®—æœºè¡Œä¸šçš„è¿…é€Ÿå‘å±•,\nè®¡ç®—æœºçš„å­˜å‚¨å®¹é‡å·²è¿‡è¾¾åˆ°äº†å¾ˆé«˜çš„ç¨‹åº¦,æ‰€ä»¥æˆ‘ä»¬å¦‚ä»Šå·²ç»ä¸å†ç‰¹åˆ«éœ€è¦å…³æ³¨ä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦äº†\n2 å¤§ O çš„æ¸è¿›è¡¨ç¤ºæ³• å¤§ O ç¬¦å·ï¼ˆBig O notationï¼‰æ˜¯ç”¨äºæè¿°å‡½æ•°æ¸è¿›è¡Œä¸ºçš„æ•°å­¦ç¬¦å· æ¨å¯¼å¤§ O é˜¶çš„æ–¹æ³•\n1.ç”¨å¸¸æ•° 1 å–ä»£è¿è¡Œæ—¶é—´ä¸­çš„æ‰€ä»¥åŠ æ³•å¸¸æ•°\n2.åœ¨ä¿®æ”¹åçš„è¿è¡Œæ¬¡æ•°å‡½æ•°ä¸­ï¼Œåªä¿ç•™æœ€é«˜é˜¶çš„é¡¹\n3.å¦‚æœæœ€é«˜é˜¶çš„é¡¹å­˜åœ¨ä¸”ä¸æ˜¯ 1ï¼Œåˆ™é™¤å»ä¸è¿™ä¸ªé¡¹ç›®ç›¸ä¹˜çš„å¸¸æ•°ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯å¤§ O é˜¶\n3.æ—¶é—´å¤æ‚åº¦æ¦‚å¿µ æ—¶é—´å¤æ‚åº¦çš„å®šä¹‰: åœ¨è®¡ç®—æœºç§‘å­¦å½“ä¸­,ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦,æ˜¯ä¸€ä¸ªå‡½æ•°,\nå®ƒæ˜¯å®šé‡æè¿°äº†è¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´.ä¸€ä¸ªç®—æ³•æ‰§è¡Œæ‰€è€—è´¹çš„æ—¶é—´\nä»ç†è®ºä¸Šæ¥è¯´,æ˜¯ä¸èƒ½ç®—å‡ºæ¥çš„,åªæœ‰ä½ æŠŠä½ çš„ç¨‹åºæ”¾åœ¨æœºå™¨ä¸Šè·‘èµ·æ¥,æ‰èƒ½çŸ¥é“, ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦è¿™ä¹ˆåš\næ‰€ä»¥æˆ‘ä»¬å°±æœ‰äº†æ—¶é—´å¤æ‚åº¦çš„åˆ†ææ–¹å¼:\nä¸€ä¸ªç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´ä¸å…¶ä¸­è¯­å¥æ‰§è¡Œçš„æ¬¡æ•°æˆæ­£æ¯”,ç®—æ³•ä¸­çš„åŸºæœ¬æ“ä½œçš„æ¬¡æ•°,ä¸ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦\nå³æ‰¾åˆ°æŸæ¡è¯­å¥ä¸é—®é¢˜è§„æ¨¡ N ä¹‹é—´çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå°±æ˜¯ç®—å‡ºäº†è¯¥ç®—æ³•çš„å¤æ‚åº¦\næ‰€ä»¥è®¡ç®—ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦,å°±æ˜¯è®¡ç®—ç®—æ³•ä¸­çš„åŸºæœ¬æ“ä½œçš„æ‰§è¡Œæ¬¡æ•°\n3.1 æ—¶é—´å¤æ‚åº¦åˆ†ææ¡ˆä¾‹ ä¾‹é¢˜ 1: æ±‚å¾— Func1 çš„äº‹ä»¶å¤æ‚åº¦ï¼ŒF(n)=N*N+2*N+10\néšç€ N çš„å¢å¤§ï¼Œå¸¸æ•° 10 å¯¹ F(n)çš„å½±å“è¾ƒå°\næ‰€ä»¥è¿™é“é¢˜çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)\nä¾‹é¢˜ 2: F(n)=2N+10\néšç€ N çš„å¢å¤§ï¼Œå¸¸æ•° 10 å¯¹ F(n)çš„å½±å“è¾ƒå°\nå½“ N æ— é™å¤§çš„æ—¶å€™ N å’Œ 2N æ˜¯åŒä¸€ä¸ªçº§åˆ«\næœ€é«˜é˜¶ä¸º 2ï¼Œåˆ™é™¤å»ä¸è¿™ä¸ªé¡¹ç›®ç›¸ä¹˜çš„å¸¸æ•° 2\næ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(N)\nä¾‹é¢˜ 3: è¿™é“é¢˜ M å’Œ N éƒ½æ˜¯ O(n)çº§åˆ«çš„\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦è®¡ç®—æ—¶æœªçŸ¥æ•°ç”¨çš„éƒ½æ˜¯ Nï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å­—ç¬¦\nå¦‚æœæ²¡æœ‰ç»™å®šæ¡ä»¶ï¼Œé‚£ä¹ˆè¿™é“é¢˜çš„å¤æ‚åº¦æ˜¯ O(M+N)\nå¦‚æœç»™å®šæ¡ä»¶ M è¿œå¤§äº Nï¼Œåˆ™ä¸º O(M)\nå¦‚æœ N è¿œå¤§äº Mï¼Œåˆ™ä¸º O(N)\nå¦‚æœå·®ä¸å¤šå¤§ï¼Œå¯ä»¥ä¸º O(M) ä¹Ÿå¯ä»¥ä¸º O(N)\nä¾‹é¢˜ 4: å¯ä»¥çœ‹å‡º ++count æ‰§è¡Œäº† 100 æ¬¡ï¼Œä¹Ÿå°±æ˜¯å¸¸æ•°æ¬¡\næ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n)\nä¾‹é¢˜ 5: å†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦çš„åˆ†æï¼Œæ ¹æ®å…¶æ€æƒ³ï¼Œæ¯æ¬¡å†…éƒ¨å¾ªç¯å®Œæˆï¼Œéƒ½ä¼šæŠŠæ’å¥½çš„æ•°å­—æ”¾åˆ°æœ€å\næ‰€ä»¥å¾ªç¯å®Œæ¯•åï¼Œå¯ä»¥çœ‹å‡ºï¼Œå†’æ³¡æ’åºæ‰§è¡Œçš„æ•°æ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—æ±‚å’Œå³((N-1)+1)=*(N-1)/2=N*(N-1)/2\næ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(N^2)\nä¾‹é¢˜ 6: äºŒåˆ†æŸ¥æ‰¾ï¼Œæ¯æ¬¡éƒ½ä¼šä»å½“å‰æ•°ç»„çš„ä¸€åŠå¼€å§‹æ‰¾ï¼Œç›¸å½“äºæ¯æ¬¡éƒ½é™¤ä»¥ 2\næœ€å¥½çš„æƒ…å†µæ˜¯ O(1)\næœ€åçš„æƒ…å†µä¹Ÿå°±æ˜¯æ‰¾ä¸åˆ°æˆ–è€…æœ€è¾¹ä¸Šï¼Œä¹Ÿå°±æ˜¯ 2^x=N,å³æ±‚ N çš„å¯¹æ•°\nå¯¹äºä¸€ä¸ªç®—æ³•ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šçœ‹ä»–çš„æœ€åæƒ…å†µ\næ‰€ä»¥äºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log2n)\nä¾‹é¢˜ 7: æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’å†™æ³•,æ˜¯ä¸€ä¸ªè¿è¡Œæ•ˆç‡ç‰¹åˆ«æ…¢çš„å†™æ³•\nä»¥ Fib(8) ä¸ºä¾‹ ç¬¬ä¸€å±‚èŠ‚ç‚¹ä¸ªæ•°ä¸º 2^0,ç¬¬äºŒå±‚ä¸º 2^1,ç¬¬ä¸‰æ¬¡ 2^2 ä»¥æ­¤ç±»æ¨ç›´åˆ° 2^(n-1),é¡¹æ•°ä¸º nï¼Œè¿˜æœ‰ä¸€ä¾§èŠ‚ç‚¹æ˜¯ä¸æ»¡çš„ï¼Œä¸æ»¡çš„èŠ‚ç‚¹æ•°è®°å½•ä¸º x\næ‰€ä»¥æ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„æ“ä½œæ•°ï¼ŒF(n)=2^n-1+x\næ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(2^n)\n4.ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªæ•°å­¦è¡¨è¾¾å¼,æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å°çš„åº¦é‡\nç©ºé—´å¤æ‚åº¦ä¸æ˜¯ç¨‹åºå ç”¨äº†å¤šå°‘å­—èŠ‚çš„ç©ºé—´,å› ä¸ºè¿™ä¸ªæ²¡å¤§æ„ä¹‰,æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ç®—å¾—æ˜¯å˜é‡çš„ä¸ªæ•°\nç©ºé—´å¤æ‚åº¦è®¡ç®—è§„åˆ™åŸºæœ¬è·Ÿæ—¶é—´å¤æ‚åº¦ç±»ä¼¼,ä¹Ÿä½¿ç”¨å¤§ O æ¸è¿›è¡¨ç¤ºæ³•\nå‡½æ•°è¿è¡Œæ‰€éœ€çš„æ ˆç©ºé—´(å­˜å‚¨å‚æ•°,å±€éƒ¨å˜é‡,å¯„å­˜å™¨ä¿¡æ¯)åœ¨ç¼–è¯‘æœŸé—´å·²ç»ç¡®å®šå¥½äº†,\nå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸»è¦é€šè¿‡å‡½æ•°åœ¨è¿è¡Œæ—¶æ˜¾ç¤ºç”³è¯·çš„é¢å¤–ç©ºé—´æ¥ç¡®å®š\n4.1 ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åˆ†ææ¡ˆä¾‹ ä¾‹é¢˜ 1: æ ¹æ®å†’æ³¡æ’åºçš„æ€æƒ³, æ€»å…±æœ‰ä¸¤ä¸ªå˜é‡åœ¨å¾ªç¯å½“ä¸­\nå¾ªç¯å†…éƒ¨å˜é‡ j æ¯æ¬¡å¾ªç¯å®Œåä¼šé‡Šæ”¾,ç„¶åå†æ¬¡åˆ›å»º\næ‰€ä»¥,æ€»å…±å°± 2 ä¸ªå˜é‡,ç©ºé—´å¤æ‚åº¦ä¸º O(1)\nä¾‹é¢˜ 2: ç”±äºæ˜¯è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—å‰ N é¡¹çš„æ•°ç»„\næ‰€ä»¥æ¯æ¬¡,éƒ½ä¼šåœ¨æ•°ç»„åé¢å¢åŠ ä¸€ä¸ªå…ƒç´ ,å ç”¨ä¸€ä¸ªç©ºé—´\næ‰€ä»¥ç©ºé—´å¤æ‚åº¦å°±æ˜¯ O(N)\nä¾‹é¢˜ 3: é€’å½’è¿‡ç¨‹ä¸­,æ¯ä¸ªæ ˆå¸§çš„åˆ›å»ºéƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„ç©ºé—´\næ‰€ä»¥è®¡ç®—é˜¶ä¹˜çš„ç©ºé—´å¤æ‚åº¦,å°±æ˜¯è®¡ç®—é€’å½’æ·±åº¦\næ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º O(N)\nä¾‹é¢˜ 4: åœ¨è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’çš„ç©ºé—´å¤æ‚åº¦,çš„æ—¶å€™\nè¦æ³¨æ„,ç©ºé—´æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨,ä¸ç´¯è®¡çš„,æ—¶é—´æ˜¯ä¸€å»ä¸å¤è¿”,ç´¯è®¡çš„\næ‰€ä»¥ç©ºé—´å¤æ‚åº¦,ä¸æ˜¯ O(2^n), å› ä¸ºæ¯æ¬¡é€’å½’å®Œæœ€æ·±å¤„å,å†…å­˜ç©ºé—´ä¼šè¢«å›æ”¶\næ‰€ä»¥,å…¶ç©ºé—´å¤æ‚åº¦å°±æ˜¯é€’å½’çš„æ·±åº¦ O(N)\n","permalink":"https://EitanWong.github.io/en/posts/coding/%E7%AE%97%E6%B3%95%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90/","summary":"1.ç®—æ³•çš„å¤æ‚åº¦ ç®—æ³•åœ¨ç¼–å†™æˆå¯æ‰§è¡Œç¨‹åºå,è¿è¡Œéœ€è¦è€—è´¹æ—¶é—´å’Œç©ºé—´èµ„æº å› æ­¤è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¥½å,ä¸€èˆ¬æ˜¯ä»æ—¶é—´å’Œç©ºé—´ä¸¤ä¸ªç»´åº¦æ¥è¡¡é‡çš„ å³ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ä¸»è¦è¡¡é‡ä¸€ä¸ªç®—æ³•çš„å¿«æ…¢,è€Œç©ºé—´å¤æ‚åº¦ä¸»è¦è¡¡é‡ä¸€ä¸ªç®—æ³•è¿è¡Œæ‰€éœ€çš„é¢å¤–ç©ºé—´ åœ¨è®¡ç®—æœºå‘å±•çš„æ—©æœŸ,è®¡ç®—æœºçš„å­˜å‚¨å®¹é‡å¾ˆå°,æ‰€","title":"ç®—æ³•çš„å¤æ‚åº¦åˆ†æ"},{"content":"æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„åŸºäºLambertã€Phongã€BlinnPhongå…‰ç…§æ¨¡å‹çš„Shader\nå­˜åœ¨ä¸€ä¸ªé—®é¢˜ğŸ™‹\né‚£å°±æ˜¯: ** ä¸èƒ½æ¥å—é˜´å½±**\nå·¦å›¾: è‡ªå·±ç¼–å†™çš„Shader\nå³å›¾: å®˜æ–¹å†…å»ºçš„Shader\næ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¦åœ¨è‡ªå·±çš„ç€è‰²å™¨å½“ä¸­å®ç°ShadowCaster\nå…³äºä¸åŒæ¸²æŸ“è·¯å¾„ä¸‹çš„Shadow Unityæ”¯æŒå¤šç§ç±»å‹çš„æ¸²æŸ“è·¯å¾„ï¼Œåœ¨5.0ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸»è¦æœ‰3ä¸­æ¸²æŸ“è·¯å¾„\nåˆ†åˆ«ä¸ºæ­£å‘æ¸²æŸ“ï¼Œå»¶è¿Ÿæ¸²æŸ“ä»¥åŠé¡¶ç‚¹ç…§æ˜æ¸²æŸ“\nåœ¨5.0ä¹‹åï¼ŒUnityæŠ›å¼ƒäº†é¡¶ç‚¹ç…§æ˜æ¸²æŸ“è·¯å¾„ï¼Œå¹¶ç”¨æ–°çš„å»¶è¿Ÿæ¸²æŸ“è·¯å¾„æ¥æ›¿ä»£äº†æ—§çš„å»¶è¿Ÿæ¸²æŸ“è·¯å¾„\nUnityä¸­çš„æ­£å‘æ¸²æŸ“ Unityä¸­çš„æ­£å‘æ¸²æŸ“æœ‰3ä¸­å¤„ç†å…‰ç…§çš„æ–¹å¼\nåˆ†åˆ«ä¸ºé€é¡¶ç‚¹å¤„ç†ï¼Œé€åƒç´ å¤„ç†ä»¥åŠçƒè°å‡½æ•°å¤„ç†\nè€Œå†³å®šå“ªä¸€ä¸ªå…‰æºæŒ‰ç…§ä½¿ç”¨é‚£ç§å¤„ç†æ¨¡å¼å–å†³äºå…‰æºçš„ç±»å‹å’Œæ¸²æŸ“æ¨¡å¼\nå…‰æºçš„ç±»å‹æŒ‡çš„æ˜¯è¯¥å…‰æºæ˜¯å¹³è¡Œå…‰æˆ–è€…å…¶ä»–ç±»å‹çš„å…‰\næ¸²æŸ“æ¨¡å¼åˆ™æŒ‡çš„æ˜¯è¯¥å…‰æºæ˜¯å¦è¢«æŒ‡å®šä¸ºé‡è¦å…‰æº\nåœ¨æ­£å‘æ¸²æŸ“ä¸­ä¸€å…±åŒ…å«ä¸¤ç§Passï¼ŒBase Passå’ŒAdditional Pass\nBase Passåªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºè®¡ç®—å…‰ç…§çº¹ç†ï¼Œç¯å¢ƒå…‰ï¼Œè‡ªå‘å…‰ï¼Œé˜´å½±ç­‰æ•ˆæœ\nè€ŒAdditional Passåˆ™èƒ½å¤Ÿè¢«æ‰§è¡Œå¤šæ¬¡ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹ä¸æ”¯æŒé˜´å½±ï¼Œä½†æ˜¯èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨å®æŒ‡ä»¤æ¥å¼€å¯é˜´å½±\nAdditional Passä¼šæ ¹æ®å½±å“ç‰©ä½“çš„å…¶ä»–é€åƒç´ å…‰æºæ•°ç›®è¢«å¤šæ¬¡è°ƒç”¨\nUnityä¸­çš„é¡¶ç‚¹ç…§æ˜æ¸²æŸ“ é¡¶ç‚¹ç…§æ˜æ¸²æŸ“æ˜¯å¯¹ç¡¬ä»¶é…ç½®è¦æ±‚æœ€å°‘ï¼Œè¿ç®—æ€§èƒ½æœ€é«˜ï¼Œ\nåŒæ—¶æ•ˆæœä¹Ÿæ˜¯æœ€å·®çš„ä¸€ç§æ¸²æŸ“è·¯å¾„ã€‚å®ƒå¯ä»¥è¢«è§†ä¸ºæ­£å‘æ¸²æŸ“çš„ä¸€ä¸ªå­é›†ï¼Œ\nå› ä¸ºå®ƒåªèƒ½é€šè¿‡é€é¡¶ç‚¹çš„æ–¹å¼å»è®¡ç®—å…‰ç…§ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬æ— æ³•ä½¿ç”¨ä¸€äº›é€åƒç´ å…‰ç…§å˜é‡ã€‚\né¡¶ç‚¹ç…§æ˜æ¸²æŸ“åœ¨5.0ä»¥åçš„ç‰ˆæœ¬ä¸­ä½œä¸ºä¸€ç§è¢«é—ç•™çš„æ¸²æŸ“è·¯å¾„å­˜åœ¨ï¼Œå°†æ¥ä¹Ÿæœ‰è¢«ç§»é™¤çš„å¯èƒ½ã€‚\nUnityä¸­çš„å»¶è¿Ÿæ¸²æŸ“ Unityä¸­çš„æ–°æ—§å»¶è¿Ÿæ¸²æŸ“ç³»ç»Ÿçš„å·®åˆ«éå¸¸å°ï¼Œåªæ˜¯æ˜¯ç”¨æ¥ä¸åŒçš„æŠ€æœ¯æ¥æƒè¡¡ä¸åŒçš„éœ€æ±‚ã€‚ \u0026ndash; å…¶ä¸­åŒ…å«ä¸¤ä¸ªPassï¼Œç¬¬ä¸€ä¸ªPassç”¨äºæ¸²æŸ“Gç¼“å†²ï¼Œåœ¨è¿™ä¸ªPassä¸­ä¼šæŠŠç‰©ä½“çš„æ¼«åå°„é¢œè‰²ï¼Œé«˜å…‰åå°„é¢œè‰²ï¼Œå¹³æ»‘åº¦ï¼Œæ³•çº¿ï¼Œè‡ªå‘å…‰å’Œæ·±åº¦ç­‰ä¿¡æ¯æ¸²æŸ“åˆ°å±å¹•ç©ºé—´çš„Gç¼“å†²ä¸­ï¼Œå¯¹äºæ¯ä¸ªç‰©ä½“æ¥è¯´è¿™ä¸ªPassåªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚\nç¬¬äºŒä¸ªPassç”¨äºè®¡ç®—çœŸæ­£çš„å…‰ç…§æ¨¡å‹ï¼Œè¿™ä¸ªPassä¼šä½¿ç”¨ä¸Šä¸€ä¸ªPassä¸­æ¸²æŸ“çš„æ•°æ®æ¥è®¡ç®—æœ€ç»ˆå…‰ç…§çš„é¢œè‰²ï¼Œå†å­˜å‚¨åˆ°å¸§ç¼“å†²ä¸­ã€‚ è¿™é‡Œè¦æ³¨æ„çš„æ˜¯,å¦‚æœè¢«æ¥å—ç‰©ä½“çš„Shaderæ˜¯Legacyçš„Diffuseé‚£ä¹ˆåœ¨Forwardä¸­ï¼Œæ˜¯åªèƒ½æ¥å—åˆ°Directional Lightçš„é˜´å½±çš„,å¦‚æœè¦è®©å…¶æ”¯æŒå…¶ä»–ç±»å‹å…‰æºçš„é˜´å½±ï¼Œéœ€è¦ä¿®æ”¹æ¸²æŸ“è·¯å¾„ä¸ºå»¶è¿Ÿæ¸²æŸ“\nè¿˜éœ€è¦æ³¨æ„æ˜¯æ¸²æŸ“è·¯å¾„ä¸ºé¡¶ç‚¹ç…§æ˜Legacy Vertex Litçš„æƒ…å†µä¸‹ï¼Œç‰‡å…ƒç€è‰²å™¨æ˜¯æ— æ³•æ­£å¸¸å·¥ä½œçš„\nåœ¨æ–°çš„Passé€šé“ä¸­æ¸²æŸ“Shadow é€šè¿‡Unityçš„å®˜æ–¹æ–‡æ¡£,å¯ä»¥çŸ¥é“ åœ¨æ–°çš„Passé€šé“ä¸­ä½¿ç”¨å†…ç½®æ¸²æŸ“ç®¡çº¿ä¸­çš„é¢„å®šä¹‰é€šé“æ ‡è®°Tagsï¼Œä¸ºLightMode å¢åŠ ShadowCaster\nä½¿å¯¹è±¡æ·±åº¦æ¸²æŸ“åˆ°é˜´å½±è´´å›¾æˆ–æ·±åº¦çº¹ç†ä¸­.\nPass{ Tags{\u0026#34;LightMode\u0026#34;=\u0026#34;ShadowCaster\u0026#34;} } ä½¿ç”¨FallBackæ¸²æŸ“Shadow å¯ä»¥é€šè¿‡FallBackï¼Œå½“Unityç‰©ä½“éœ€è¦æŠ•å°„é˜´å½±ä½†æ˜¯æ²¡æœ‰ç›¸å…³çš„Passï¼Œå°±ä¼šå›è½åˆ°FallbBackå½“ä¸­\nFallback \u0026#34;Diffuse\u0026#34; æ‰‹åŠ¨å®ç°ShadowCaster ä»¥ä¸Šæ–¹å¼å®ç°çš„Shadowå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ç€è‰²å™¨æœ¬èº«çš„å¯¹è±¡ï¼Œä¸èƒ½æ¥å—é˜´å½±\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·¦ä¾§çš„ç€è‰²å™¨ä¹‹é—´å¹¶æ²¡æœ‰æŠ•å°„é˜´å½±\nUnityçš„æ–‡æ¡£å½“ä¸­å¯¹ä¸€å—å†…å®¹å¹¶æ²¡æœ‰å¾ˆæ¸…æ™°çš„æè¿°\né€šè¿‡ç¿»é˜…AutoLight.cgincå¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¸­å¯¹äºé˜´å½±æŠ•å°„éƒ¨åˆ†åšäº†å¾ˆå¤šçš„å®å®šä¹‰\nä»¥æ—§ç‰ˆæœ¬4.xä¸ºä¾‹ï¼Œå…‰ç…§ä»¥åŠé˜´å½±çš„å®å®šä¹‰å¦‚ä¸‹\n// ----------------------------- // Light/Shadow helpers (4.x version) // ----------------------------- // This version computes light coordinates in the vertex shader and passes them to the fragment shader. // ---- Spot light shadows #if defined (SHADOWS_DEPTH) \u0026amp;\u0026amp; defined (SPOT) #define SHADOW_COORDS(idx1) unityShadowCoord4 _ShadowCoord : TEXCOORD##idx1; #define TRANSFER_SHADOW(a) a._ShadowCoord = mul (unity_WorldToShadow[0], mul(unity_ObjectToWorld,v.vertex)); #define SHADOW_ATTENUATION(a) UnitySampleShadowmap(a._ShadowCoord) #endif // ---- Point light shadows #if defined (SHADOWS_CUBE) #define SHADOW_COORDS(idx1) unityShadowCoord3 _ShadowCoord : TEXCOORD##idx1; #define TRANSFER_SHADOW(a) a._ShadowCoord.xyz = mul(unity_ObjectToWorld, v.vertex).xyz - _LightPositionRange.xyz; #define SHADOW_ATTENUATION(a) UnitySampleShadowmap(a._ShadowCoord) #define READ_SHADOW_COORDS(a) unityShadowCoord4(a._ShadowCoord.xyz, 1.0) #endif // ---- Shadows off #if !defined (SHADOWS_SCREEN) \u0026amp;\u0026amp; !defined (SHADOWS_DEPTH) \u0026amp;\u0026amp; !defined (SHADOWS_CUBE) #define SHADOW_COORDS(idx1) #define TRANSFER_SHADOW(a) #define SHADOW_ATTENUATION(a) 1.0 #define READ_SHADOW_COORDS(a) 0 #else #ifndef READ_SHADOW_COORDS #define READ_SHADOW_COORDS(a) a._ShadowCoord #endif #endif #ifdef POINT # define DECLARE_LIGHT_COORDS(idx) unityShadowCoord3 _LightCoord : TEXCOORD##idx; # define COMPUTE_LIGHT_COORDS(a) a._LightCoord = mul(unity_WorldToLight, mul(unity_ObjectToWorld, v.vertex)).xyz; # define LIGHT_ATTENUATION(a) (tex2D(_LightTexture0, dot(a._LightCoord,a._LightCoord).rr).r * SHADOW_ATTENUATION(a)) #endif #ifdef SPOT # define DECLARE_LIGHT_COORDS(idx) unityShadowCoord4 _LightCoord : TEXCOORD##idx; # define COMPUTE_LIGHT_COORDS(a) a._LightCoord = mul(unity_WorldToLight, mul(unity_ObjectToWorld, v.vertex)); # define LIGHT_ATTENUATION(a) ( (a._LightCoord.z \u0026gt; 0) * UnitySpotCookie(a._LightCoord) * UnitySpotAttenuate(a._LightCoord.xyz) * SHADOW_ATTENUATION(a) ) #endif #ifdef DIRECTIONAL # define DECLARE_LIGHT_COORDS(idx) # define COMPUTE_LIGHT_COORDS(a) # define LIGHT_ATTENUATION(a) SHADOW_ATTENUATION(a) #endif #ifdef POINT_COOKIE # define DECLARE_LIGHT_COORDS(idx) unityShadowCoord3 _LightCoord : TEXCOORD##idx; # define COMPUTE_LIGHT_COORDS(a) a._LightCoord = mul(unity_WorldToLight, mul(unity_ObjectToWorld, v.vertex)).xyz; # define LIGHT_ATTENUATION(a) (tex2D(_LightTextureB0, dot(a._LightCoord,a._LightCoord).rr).r * texCUBE(_LightTexture0, a._LightCoord).w * SHADOW_ATTENUATION(a)) #endif #ifdef DIRECTIONAL_COOKIE # define DECLARE_LIGHT_COORDS(idx) unityShadowCoord2 _LightCoord : TEXCOORD##idx; # define COMPUTE_LIGHT_COORDS(a) a._LightCoord = mul(unity_WorldToLight, mul(unity_ObjectToWorld, v.vertex)).xy; # define LIGHT_ATTENUATION(a) (tex2D(_LightTexture0, a._LightCoord).w * SHADOW_ATTENUATION(a)) #endif #define UNITY_LIGHTING_COORDS(idx1, idx2) DECLARE_LIGHT_COORDS(idx1) UNITY_SHADOW_COORDS(idx2) #define LIGHTING_COORDS(idx1, idx2) DECLARE_LIGHT_COORDS(idx1) SHADOW_COORDS(idx2) #define UNITY_TRANSFER_LIGHTING(a, coord) COMPUTE_LIGHT_COORDS(a) UNITY_TRANSFER_SHADOW(a, coord) #define TRANSFER_VERTEX_TO_FRAGMENT(a) COMPUTE_LIGHT_COORDS(a) TRANSFER_SHADOW(a) #endif UNITY_LIGHTING_COORDS\tä¸ºå®å®šä¹‰çš„é˜´å½±çº¹ç†\nTRANSFER_VERTEX_TO_FRAGMENT\tå°†é˜´å½±çš„çº¹ç†ä»é¡¶ç‚¹ä¼ åˆ°ç‰‡å…ƒç¨‹åº\nLIGHT_ATTENUATION\tå…‰è¡°å‡ï¼Œå…¶ä¸­åŒ…å«äº†é˜´å½±è¡°å‡éƒ¨åˆ†ï¼Œä¸æœ€ç»ˆè¿”å›çš„é¢œè‰²rgbå€¼ç›¸ä¹˜å¯ä»¥å¾—åˆ°æ­£ç¡®çš„é˜´å½±æŠ•å°„éƒ¨åˆ†çš„é¢œè‰²\nå®Œæ•´ä»£ç â¬‡ï¸\nShader \u0026#34;ShaderLearning/ShadowCaster/VertexShadowBlinnPhongShader\u0026#34; { Properties { _MainColor (\u0026#34;MainColor\u0026#34;, Color) = (1,1,1,1) _SpecularColor (\u0026#34;SpecularColor\u0026#34;, Color) = (0.5,0.5,0.5,1) _Shineness(\u0026#34;Shineness\u0026#34;,Range(1,32))=8 } SubShader { Pass { Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34; } CGPROGRAM #pragma multi_compile_fwdbase #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; #include \u0026#34;AutoLight.cginc\u0026#34; struct v2f { float4 pos : SV_POSITION; float3 normal : TEXCOORD0; float4 vertex: POSITION1; LIGHTING_COORDS(1,2) }; fixed4 _MainColor; fixed4 _SpecularColor; float _Shineness; v2f vert (appdata_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); o.normal=v.normal; o.vertex=v.vertex; TRANSFER_VERTEX_TO_FRAGMENT(o) return o; } fixed4 frag (v2f i) : COLOR { //ç¯å¢ƒå…‰é¢œè‰² fixed4 col=UNITY_LIGHTMODEL_AMBIENT; //æ¨¡å‹åæ ‡ç³»ä¸‹çš„æ³•çº¿è½¬ä½ä¸–ç•Œåæ ‡ç³»ä¸‹ float3 N=UnityObjectToWorldNormal(i.normal); //è·å–ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰ç…§æ–¹å‘ float3 L=normalize(WorldSpaceLightDir(i.vertex)); //è®¡ç®—æ¼«åå°„ float diffuse=saturate(dot(L,N)); //è®¡ç®—æ‘„åƒæœºè§‚å¯Ÿè§†è§’å‘é‡ float3 V=normalize(WorldSpaceViewDir(i.vertex)); //è®¡ç®—é•œé¢é«˜å…‰,ä½¿ç”¨åŠè§’å‘é‡ float specular=pow(saturate(dot(N,normalize(L+V))),_Shineness); //å åŠ ä¸Šæ¼«åå°„ä¸é•œé¢é«˜å…‰çš„é¢œè‰²ä¹˜ä¸Šå…‰ç…§é¢œè‰² col+= _LightColor0*((_MainColor*diffuse)+(_SpecularColor*specular)); //è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„é¡¶ç‚¹ä½ç½® float3 wpos=mul(unity_ObjectToWorld,i.vertex).xyz; //è®¡ç®—4ä¸ªç‚¹å…‰æºé¢œè‰² col.rgb+=Shade4PointLights(unity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0, unity_LightColor[0].rgb,unity_LightColor[1].rgb, unity_LightColor[2].rgb,unity_LightColor[3].rgb, unity_4LightAtten0,wpos,N); float atten = LIGHT_ATTENUATION(i); col.rgb*=atten; return col; } ENDCG } } Fallback \u0026#34;Diffuse\u0026#34; } é€šè¿‡ä½¿ç”¨AutoLight.cgincå½“ä¸­çš„å®ï¼Œå®ç°äº†é˜´å½±çš„æŠ•å°„\nä½†æ˜¯å¯¹äºç‚¹å…‰æºçš„é˜´å½±ï¼Œå¹¶æ²¡æœ‰å¾—åˆ°æ­£ç¡®çš„ç»“æœ\nå®ç°Forward Add é€šé“ä¸­ç‚¹å…‰æºé˜´å½±çš„æ”¯æŒ åœ¨æ ‡å‡†çš„Forwardå‰å‘æ¸²æŸ“å½“ä¸­ï¼Œunityä¸­åˆ†ä¸ºä¸¤ç§ä¸åŒçš„å…‰ç…§æ¨¡å¼é€šé“\nForwardBase\nä¸»è¦åº”ç”¨äºç¯å¢ƒå…‰ï¼Œå¹³è¡Œå…‰ï¼Œå®ƒä½¿ç”¨æ ‡å‡†ç…§æ˜å‡½æ•°è®¡ç®—ä¸€ä¸ªï¼Œå¹¶é€šè¿‡å°†å®ƒä»¬è¿‘ä¼¼ä¸ºçƒè°å‡½æ•°æ¥è®¡ç®—é¢å¤–çš„å®šå‘å…‰\nForwardAdd\nä¸»è¦åº”ç”¨é™„åŠ çš„åƒç´ ç¯ï¼Œä»¥åŠèšå…‰ç¯ï¼Œæ¯ä¸ªç¯ä¸€ä¸ªé€šé“\næ³¨æ„ForwardBaseå’ŒForwardAddä¹‹å‰é‡‡ç”¨Blendæ··åˆç‰‡æ®µè¾“å‡ºçš„é¢œè‰²\næ··åˆæ–¹ç¨‹ä¸ºï¼š\nfinalValue = sourceFactor * sourceValue operation destinationFactor * destinationValue åœ¨è¿™ä¸ªç­‰å¼ä¸­ï¼š\nfinalValueæ˜¯ GPU å†™å…¥ç›®æ ‡ç¼“å†²åŒºçš„å€¼ã€‚ sourceFactoråœ¨ Blend å‘½ä»¤ä¸­å®šä¹‰ã€‚ sourceValueæ˜¯ç‰‡æ®µç€è‰²å™¨è¾“å‡ºçš„å€¼ã€‚ operationæ˜¯æ··åˆæ“ä½œã€‚ destinationFactoråœ¨ Blend å‘½ä»¤ä¸­å®šä¹‰ã€‚ destinationValueæ˜¯ç›®æ ‡ç¼“å†²åŒºä¸­å·²æœ‰çš„å€¼ã€‚ æ‰€ä»¥åœ¨ForwardAdd Passå½“ä¸­ç‰‡æ®µè¾“å‡ºçš„ä¸€å¥æ”¾åœ¨äº†ç›®æ ‡ç¼“å†²åŒºä¸­ï¼Œåœ¨ForwardAdd Passä¸­ä½¿ç”¨Blendå‘½ä»¤æ··åˆä¸¤è€…çš„ç»“æœ\nç”¨æ³• ç¤ºä¾‹è¯­æ³• åŠŸèƒ½ Blend \u0026lt;state\u0026gt; Blend Off ç¦ç”¨é»˜è®¤æ¸²æŸ“ç›®æ ‡çš„æ··åˆã€‚è¿™æ˜¯é»˜è®¤å€¼ã€‚ Blend \u0026lt;render target\u0026gt; \u0026lt;state\u0026gt; Blend 1 Off å¦‚ä¸Šæ‰€è¿°ï¼Œä½†å¯¹äºç»™å®šçš„æ¸²æŸ“ç›®æ ‡ã€‚(1) Blend \u0026lt;source factor\u0026gt; \u0026lt;destination factor\u0026gt; Blend One Zero ä¸ºé»˜è®¤æ¸²æŸ“ç›®æ ‡å¯ç”¨æ··åˆã€‚è®¾ç½® RGBA å€¼çš„æ··åˆå› å­ã€‚ Blend \u0026lt;render target\u0026gt; \u0026lt;source factor\u0026gt; \u0026lt;destination factor\u0026gt; Blend 1 One Zero å¦‚ä¸Šæ‰€è¿°ï¼Œä½†å¯¹äºç»™å®šçš„æ¸²æŸ“ç›®æ ‡ã€‚(1) Blend \u0026lt;source factor RGB\u0026gt; \u0026lt;destination factor RGB\u0026gt;, \u0026lt;source factor alpha\u0026gt; \u0026lt;destination factor alpha\u0026gt; Blend One Zero, Zero One å¯ç”¨æ··åˆé»˜è®¤æ¸²æŸ“ç›®æ ‡ã€‚ä¸º RGB å’Œ alpha å€¼è®¾ç½®å•ç‹¬çš„æ··åˆå› å­ã€‚(2) Blend \u0026lt;render target\u0026gt; \u0026lt;source factor RGB\u0026gt; \u0026lt;destination factor RGB\u0026gt;, \u0026lt;source factor alpha\u0026gt; \u0026lt;destination factor alpha\u0026gt; Blend 1 One Zero, Zero One å¦‚ä¸Šæ‰€è¿°ï¼Œä½†å¯¹äºç»™å®šçš„æ¸²æŸ“ç›®æ ‡ã€‚(1) (2) æœ‰æ•ˆå‚æ•°å€¼ èŒƒå›´ ä»·å€¼ åŠŸèƒ½ æ¸²æŸ“ç›®æ ‡ æ•´æ•°ï¼ŒèŒƒå›´ä¸º 0 åˆ° 7 æ¸²æŸ“ç›®æ ‡ç´¢å¼•ã€‚ çŠ¶æ€ Off ç¦ç”¨æ··åˆã€‚ å› ç´  One æ­¤è¾“å…¥çš„å€¼ä¸ºä¸€ã€‚ä½¿ç”¨å®ƒæ¥ä½¿ç”¨æºé¢œè‰²æˆ–ç›®æ ‡é¢œè‰²çš„å€¼ã€‚ Zero æ­¤è¾“å…¥çš„å€¼ä¸ºé›¶ã€‚ä½¿ç”¨å®ƒæ¥åˆ é™¤æºæˆ–ç›®æ ‡å€¼ã€‚ SrcColor GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥æºé¢œè‰²å€¼ã€‚ SrcAlpha GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥æº alpha å€¼ã€‚ SrcAlphaSaturate source alphaGPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥å’Œçš„æœ€å°å€¼(1 - destination alpha) DstColor GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥å¸§ç¼“å†²åŒºæºé¢œè‰²å€¼ã€‚ DstAlpha GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥å¸§ç¼“å†²åŒºæº alpha å€¼ã€‚ OneMinusSrcColor GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥ï¼ˆ1 - æºé¢œè‰²ï¼‰ã€‚ OneMinusSrcAlpha GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥ï¼ˆ1 - æº alphaï¼‰ã€‚ OneMinusDstColor GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥ï¼ˆ1 - ç›®æ ‡é¢œè‰²ï¼‰ã€‚ OneMinusDstAlpha GPU å°†æ­¤è¾“å…¥çš„å€¼ä¹˜ä»¥ï¼ˆ1 - ç›®æ ‡ alphaï¼‰ã€‚ ç€è‰²å™¨å˜ä½“å’Œå…³é”®å­— åœ¨Unityä¸­å¯ä»¥ç¼–å†™ç€è‰²å™¨ä»£ç ç‰‡æ®µæ¥å…±äº«é€šç”¨ä»£ç ï¼Œä½†åœ¨å¯ç”¨æˆ–ç¦ç”¨ç»™å®šå…³é”®å­—æ—¶å…·æœ‰ä¸åŒåŠŸèƒ½ã€‚\nUnity ç¼–è¯‘è¿™äº›ç€è‰²å™¨ä»£ç ç‰‡æ®µæ—¶ï¼Œå®ƒå°†ä¸ºå·²å¯ç”¨å’Œå·²ç¦ç”¨å…³é”®å­—çš„ä¸åŒç»„åˆåˆ›å»ºå•ç‹¬çš„ç€è‰²å™¨ç¨‹åºã€‚\nè¿™äº›å„ä¸ªç€è‰²å™¨ç¨‹åºè¢«ç§°ä¸ºç€è‰²å™¨å˜ä½“ã€‚\nç®€è€Œè¨€ä¹‹å°±æ˜¯å¯ä»¥å¯ç”¨æˆ–è€…å…³é—­ç»™å®šçš„å…³é”®å­—ï¼Œæ¥ä½¿ç”¨å„ç§ç€è‰²å™¨å˜ä½“å½“ä¸­çš„åŠŸèƒ½ï¼Œä»è€Œå®ç°ç€è‰²å™¨çš„æ•ˆæœ\né¢„ç¼–è¯‘æŒ‡ä»¤multi_compile çš„å·¥ä½œæ–¹å¼ æŒ‡ä»¤ç¤ºä¾‹ï¼š\n# pragma multi_compile FANCY_STUFF_OFF FANCY_STUFF_ON æ­¤æŒ‡ä»¤ç¤ºä¾‹ç”Ÿæˆä¸¤ä¸ªç€è‰²å™¨å˜ä½“ï¼šä¸€ä¸ªå®šä¹‰äº† FANCY_STUFF_OFFï¼Œå¦ä¸€ä¸ªå®šä¹‰äº† FANCY_STUFF_ONã€‚åœ¨è¿è¡Œæ—¶ï¼ŒUnity æ ¹æ®æè´¨æˆ–å…¨å±€ç€è‰²å™¨å…³é”®å­—æ¥æ¿€æ´»å…¶ä¸­ä¸€ä¸ªå˜ä½“ã€‚å¦‚æœè¿™ä¸¤ä¸ªå…³é”®å­—å‡æœªå¯ç”¨ï¼Œåˆ™ Unity ä½¿ç”¨ç¬¬ä¸€ä¸ªå…³é”®å­—ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ä¸º FANCY_STUFF_OFFï¼‰ã€‚\nå†…ç½® multi_compile å¿«æ·æ–¹å¼ æœ‰å‡ ä¸ªâ€œå¿«æ·æ–¹å¼â€ç¬¦å·ç”¨äºç¼–è¯‘å¤šä¸ªç€è‰²å™¨å˜ä½“ã€‚è¿™äº›å˜ä½“ä¸»è¦å¤„ç† Unity ä¸­çš„ä¸åŒå…‰æºã€é˜´å½±å’Œå…‰ç…§è´´å›¾ç±»å‹ã€‚è¯·å‚é˜…æœ‰å…³æ¸²æŸ“ç®¡çº¿çš„æ–‡æ¡£ä»¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚\nmulti_compile_fwdbase ç¼–è¯‘ PassType.ForwardBase æ‰€éœ€çš„æ‰€æœ‰å˜ä½“ã€‚è¿™äº›å˜ä½“å¤„ç†ä¸åŒçš„å…‰ç…§è´´å›¾ç±»å‹ä»¥åŠå¯ç”¨æˆ–ç¦ç”¨çš„æ–¹å‘å…‰ä¸»è¦é˜´å½±ã€‚ multi_compile_fwdadd ç¼–è¯‘ PassType.ForwardAdd çš„å˜ä½“ã€‚è¿™å°†ç¼–è¯‘å˜ä½“æ¥å¤„ç†æ–¹å‘å…‰ã€èšå…‰ç¯æˆ–ç‚¹å…‰æºç±»å‹ï¼Œä»¥åŠå®ƒä»¬å¸¦æœ‰å‰ªå½±çº¹ç†çš„å˜ä½“ã€‚ multi_compile_fwdadd_fullshadows - ä¸ multi_compile_fwdadd ç›¸åŒï¼Œä½†è¿˜èƒ½å¤Ÿè®©å…‰æºå…·æœ‰å®æ—¶é˜´å½±ã€‚ multi_compile_fog æ‰©å±•ä¸ºå¤šä¸ªå˜ä½“ä»¥å¤„ç†ä¸åŒçš„é›¾æ•ˆç±»å‹ (off/linear/exp/exp2)ã€‚ æ‰€ä»¥æƒ³è¦å®ç°èƒ½å¤Ÿæ¥å—ç‚¹å…‰æºçš„é˜´å½±æŠ•å°„ï¼Œå°±éœ€è¦åœ¨ForwardAddé€šé“ä¸­ æ·»åŠ é¢„ç¼–è¯‘æŒ‡ä»¤multi_compile_fwdadd_fullshadows\nå®Œæ•´çš„å…‰ç…§ä»¥åŠé˜´å½±æŠ•å½±æ”¯æŒçš„ä»£ç å¦‚ä¸‹ï¼š\nShader \u0026#34;ShaderLearning/ShadowCaster/VertexShadowBlinnPhongShader\u0026#34; { Properties { _MainColor (\u0026#34;MainColor\u0026#34;, Color) = (1,1,1,1) _SpecularColor (\u0026#34;SpecularColor\u0026#34;, Color) = (0.5,0.5,0.5,1) _Shineness(\u0026#34;Shineness\u0026#34;,Range(1,32))=8 } SubShader { Pass { Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34; } CGPROGRAM #pragma multi_compile_fwdbase #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; #include \u0026#34;AutoLight.cginc\u0026#34; struct v2f { float4 pos : SV_POSITION; float3 normal : TEXCOORD0; float4 vertex: POSITION1; LIGHTING_COORDS(1,2) }; fixed4 _MainColor; fixed4 _SpecularColor; float _Shineness; v2f vert (appdata_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); o.normal=v.normal; o.vertex=v.vertex; TRANSFER_VERTEX_TO_FRAGMENT(o) return o; } fixed4 frag (v2f i) : COLOR { //ç¯å¢ƒå…‰é¢œè‰² fixed4 col=UNITY_LIGHTMODEL_AMBIENT; //æ¨¡å‹åæ ‡ç³»ä¸‹çš„æ³•çº¿è½¬ä½ä¸–ç•Œåæ ‡ç³»ä¸‹ float3 N=UnityObjectToWorldNormal(i.normal); //è·å–ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰ç…§æ–¹å‘ float3 L=normalize(WorldSpaceLightDir(i.vertex)); //è®¡ç®—æ¼«åå°„ float diffuse=saturate(dot(L,N)); //è®¡ç®—æ‘„åƒæœºè§‚å¯Ÿè§†è§’å‘é‡ float3 V=normalize(WorldSpaceViewDir(i.vertex)); //è®¡ç®—é•œé¢é«˜å…‰,ä½¿ç”¨åŠè§’å‘é‡ float specular=pow(saturate(dot(N,normalize(L+V))),_Shineness); //å åŠ ä¸Šæ¼«åå°„ä¸é•œé¢é«˜å…‰çš„é¢œè‰²ä¹˜ä¸Šå…‰ç…§é¢œè‰² col+= _LightColor0*((_MainColor*diffuse)+(_SpecularColor*specular)); //è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„é¡¶ç‚¹ä½ç½® float3 wpos=mul(unity_ObjectToWorld,i.vertex).xyz; //è®¡ç®—4ä¸ªç‚¹å…‰æºé¢œè‰² col.rgb+=Shade4PointLights(unity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0, unity_LightColor[0].rgb,unity_LightColor[1].rgb, unity_LightColor[2].rgb,unity_LightColor[3].rgb, unity_4LightAtten0,wpos,N); float atten = LIGHT_ATTENUATION(i); col.rgb*=atten; return col; } ENDCG } Pass { Blend One One//ä½¿ç”¨Blendæ··åˆ å¸§ç¼“å†²é‡Œçš„ç»“æœ é»˜è®¤æ–¹æ³•ä¸ºAdd Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardAdd\u0026#34; }// ForwarAdd é™„åŠ æ”¯æŒé€åƒç´ å…‰ä»¥åŠèšå…‰ç¯ CGPROGRAM //ä½¿ç”¨ #pragma multi_compile_fwdadd_fullshadows #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; #include \u0026#34;AutoLight.cginc\u0026#34; struct v2f { float4 pos : SV_POSITION; float3 normal : TEXCOORD0; float4 vertex: POSITION1; LIGHTING_COORDS(1,2) }; fixed4 _MainColor; fixed4 _SpecularColor; float _Shineness; v2f vert (appdata_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); o.normal=v.normal; o.vertex=v.vertex; TRANSFER_VERTEX_TO_FRAGMENT(o) return o; } fixed4 frag (v2f i) : COLOR { //ç¯å¢ƒå…‰é¢œè‰² //æ¨¡å‹åæ ‡ç³»ä¸‹çš„æ³•çº¿è½¬ä½ä¸–ç•Œåæ ‡ç³»ä¸‹ float3 N=UnityObjectToWorldNormal(i.normal); //è·å–ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰ç…§æ–¹å‘ float3 L=normalize(WorldSpaceLightDir(i.vertex)); //è®¡ç®—æ¼«åå°„ float diffuse=saturate(dot(L,N)); //è®¡ç®—æ‘„åƒæœºè§‚å¯Ÿè§†è§’å‘é‡ float3 V=normalize(WorldSpaceViewDir(i.vertex)); //è®¡ç®—é•œé¢é«˜å…‰,ä½¿ç”¨åŠè§’å‘é‡ float specular=pow(saturate(dot(N,normalize(L+V))),_Shineness); //å åŠ ä¸Šæ¼«åå°„ä¸é•œé¢é«˜å…‰çš„é¢œè‰²ä¹˜ä¸Šå…‰ç…§é¢œè‰² fixed4 col = _LightColor0*((_MainColor*diffuse)+(_SpecularColor*specular)); // //è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„é¡¶ç‚¹ä½ç½® float3 wpos=mul(unity_ObjectToWorld,i.vertex).xyz; //è®¡ç®—4ä¸ªç‚¹å…‰æºé¢œè‰² col.rgb+=Shade4PointLights(unity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0, unity_LightColor[0].rgb,unity_LightColor[1].rgb, unity_LightColor[2].rgb,unity_LightColor[3].rgb, unity_4LightAtten0,wpos,N); float atten = LIGHT_ATTENUATION(i); col.rgb*=atten; return col; } ENDCG } } Fallback \u0026#34;Diffuse\u0026#34; } ","permalink":"https://EitanWong.github.io/en/posts/shader/shadowcaster-%E6%B8%B2%E6%9F%93%E9%98%B4%E5%BD%B1/","summary":"æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„åŸºäºLambertã€Phongã€BlinnPhongå…‰ç…§æ¨¡å‹çš„Shader å­˜åœ¨ä¸€ä¸ªé—®é¢˜ğŸ™‹ é‚£å°±æ˜¯: ** ä¸èƒ½æ¥å—é˜´å½±** å·¦å›¾: è‡ªå·±ç¼–å†™çš„Shader å³å›¾: å®˜æ–¹å†…å»ºçš„Shader æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¦åœ¨è‡ªå·±çš„ç€è‰²å™¨å½“ä¸­å®ç°ShadowCaster å…³äºä¸åŒæ¸²æŸ“è·¯å¾„ä¸‹çš„S","title":"ShadowCaster-æ¸²æŸ“é˜´å½±"},{"content":" ä¹‹å‰åœ¨ç¼–å†™Phongä¸BlinnPhongçš„æ—¶å€™ï¼Œæˆ‘å°†å…‰ç…§è®¡ç®—çš„éƒ¨åˆ†æ”¾åœ¨é¡¶ç‚¹ç¨‹åºvertå½“ä¸­\né¡¶ç‚¹ç¨‹åºæ˜¯é’ˆå¯¹é¡¶ç‚¹çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¨¡å‹æœ‰8ä¸ªé¡¶ç‚¹ï¼Œå°±ä¼šè®¡ç®—8æ¬¡\nè€Œç‰‡æ®µç¨‹åºå½“ä¸­æ˜¯é’ˆå¯¹åƒç´ çš„ï¼Œæœ‰nä¸ªåƒç´ å°±ä¼šè®¡ç®—næ¬¡\næ‰€ä»¥åœ¨ä¹‹å‰ç¼–å†™çš„ç€è‰²å™¨å½“ä¸­ï¼Œç”±äºåœ¨é¡¶ç‚¹å½“ä¸­è¿›è¡Œ,æœ€åå…‰ç…§çš„æ•ˆæœï¼Œå‡ºç°äº†æ–‘å—ï¼Œæ•ˆæœä¸å¤Ÿå¹³æ»‘\nåœ¨ä»¥å‰ç”±äºå›¾åƒå¤„ç†å™¨æ€§èƒ½ä¸å¼ºï¼Œæ‰€ä»¥å¾ˆå¤šçš„è®¡ç®—æ”¾åœ¨é¡¶ç‚¹ç¨‹åºå½“ä¸­è¿›è¡Œ\nä½†æ˜¯éšç€ç°ä»£å›¾åƒå¤„ç†å™¨çš„å‘å±•ï¼ŒGPUä»¥åŠå¸®æˆ‘ä»¬ä¼˜åŒ–å¥½äº†è¿™ä¸€éƒ¨åˆ†çš„é—®é¢˜\næ‰€ä»¥ç°åœ¨å¾ˆå¤šå…‰ç…§çš„è®¡ç®—éƒ¨åˆ†å¯ä»¥æ”¾åœ¨ç‰‡å…ƒç¨‹åºå½“ä¸­è¿›è¡Œäº†\nä¸‹é¢å°±æ˜¯æ”¹å†™ä¸ºç‰‡å…ƒç¨‹åºå®ç°çš„å…‰ç…§æ•ˆæœ\nåŸºäºç‰‡å…ƒç¨‹åºçš„Phongå†¯æ°å…‰ç…§æ¨¡å‹ åœ¨è®¡ç®—Phongçš„å…‰ç…§è¿‡ç¨‹ä¸­éœ€è¦åˆ©ç”¨åˆ°æ¨¡å‹çš„æ³•çº¿normalä»¥åŠæ¨¡å‹åæ ‡ç³»ä¸‹çš„é¡¶ç‚¹vertex\næ‰€ä»¥å°±éœ€è¦åœ¨v2fä¸­ä¼ é€’æ¨¡å‹åæ ‡ç³»ä¸‹çš„vertexä¸normal\nåœ¨v2fä½¿ç”¨çš„å‚æ•°ç¬¦åˆç±»å‹ä¸”ä¸å ç”¨è¯­ä¹‰å³å¯ï¼Œå³TEXCOORD0ä¸POSITION1\nä¸ºäº†åŒºåˆ†å˜æ¢è¿‡åçš„vertexï¼Œæ‰€ä»¥åœ¨ä¼ é€’å˜æ¢è¿‡åçš„é¡¶ç‚¹åæ ‡æ—¶é‡‡ç”¨çš„è¯­ä¹‰ä¸ºSV_POSITION\nå…³äºSV_POSITION SV_POSITIONï¼šSV_å‰ç¼€çš„å˜é‡ä»£è¡¨system valueï¼Œ\nåœ¨DX10ä»¥åçš„è¯­ä¹‰ç»‘å®šä¸­è¢«ä½¿ç”¨ä»£è¡¨ç‰¹æ®Šçš„æ„ä¹‰ï¼Œå’ŒPOSITIONç”¨æ³•å¹¶æ— ä¸åŒã€‚\nå”¯ä¸€åŒºåˆ«æ˜¯ SV_POSTIONä¸€æ—¦è¢«ä½œä¸ºvertex shaderçš„è¾“å‡ºè¯­ä¹‰ï¼Œ\né‚£ä¹ˆè¿™ä¸ªæœ€ç»ˆçš„é¡¶ç‚¹ä½ç½®å°±è¢«å›ºå®šäº†(ä¸èƒ½tensellateï¼Œä¸èƒ½å†è¢«åç»­æ”¹å˜å®ƒçš„ç©ºé—´ä½ç½®ï¼Ÿ)ï¼Œ\nå·²ç»æˆä¸ºäº†è½¬æ¢è£å‰ªä¸–ç•Œçš„åæ ‡ï¼Œæ˜¯å¯ä»¥ç›´æ¥ç”¨æ¥è¿›å…¥å…‰æ …åŒ–å¤„ç†çš„åæ ‡ï¼Œ\nå¦‚æœä½œä¸ºfragment shaderçš„è¾“å…¥è¯­ä¹‰é‚£ä¹ˆå’ŒPOSITIONæ˜¯ä¸€æ ·çš„ï¼Œ\nä»£è¡¨ç€æ¯ä¸ªåƒç´ ç‚¹åœ¨å±å¹•ä¸Šçš„ä½ç½®ï¼ˆè¿™ä¸ªè¯´æ³•å…¶å®å¹¶ä¸å‡†ç¡®ï¼Œ\näº‹å®æ˜¯fragment åœ¨ view spaceç©ºé—´ä¸­çš„ä½ç½®ï¼Œä½†ç›´è§‚çš„æ„Ÿå—æ˜¯å¦‚æ‹¬å·ä¹‹å‰æ‰€è¿°ä¸€èˆ¬ï¼‰\nå…¶æ¬¡ï¼šåœ¨DX10ç‰ˆæœ¬ä¹‹å‰æ²¡æœ‰å¼•å…¥SV_çš„é¢„å®šä¹‰è¯­ä¹‰ï¼ŒPOSITIONè¢«ç”¨ä½œvertex shaderçš„è¾“å…¥ï¼Œè¾“å‡ºï¼Œ\nfragment shaderçš„è¾“å…¥å‚æ•°ã€‚ä½†DX10ä¹‹åå°±æ¨èä½¿ç”¨SV_POSITIONä½œä¸ºvertex shaderçš„è¾“å‡ºå’Œfragment shaderçš„è¾“å…¥äº†ï¼Œ\næ³¨æ„vertex shaderçš„è¾“å…¥è¿˜æ˜¯ä½¿ç”¨POSITIONï¼åˆ‡è®°ã€‚\nä½†æ˜¯DX10ä»¥åçš„ä»£ç ä¾æ—§å…¼å®¹POSITIONä½œä¸ºå…¨ç¨‹è¡¨è¾¾ï¼Œä¼°è®¡ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ¤æ–­å¹¶æ›¿æ¢\næ€»ç»“ï¼š\nä¸¤ä¸ªçš„ç”¨æ³•å¤§è‡´ç›¸åŒï¼Œéƒ½æ˜¯å­˜å‚¨åæ ‡ä¿¡æ¯ï¼Œä½†æ˜¯ä¸€ä¸ªæ˜¯è½¬æ¢å‰çš„ï¼Œä¸€ä¸ªæ˜¯è½¬æ¢åçš„ã€‚\nPOSITIONï¼šç”¨æ¥å­˜å‚¨ï¼Œæ¨¡å‹åœ¨æœ¬åœ°åæ ‡ä¸‹ï¼Œæ¨¡å‹ç©ºé—´ä¸­ï¼ˆobjcet spaceï¼‰çš„é¡¶ç‚¹åæ ‡ï¼Œè½¬æ¢ä¸ºå‰ªè£ç©ºé—´åæ ‡å‰çš„åæ ‡ï¼Œunityå‘Šè¯‰æˆ‘ä»¬çš„æ¨¡å‹é¡¶ç‚¹åæ ‡ï¼Œæ²¡ç»è¿‡è½¬æ¢çš„ã€‚å¯ç”¨ä½œå®šç‚¹ç€è‰²å™¨ï¼ˆvertex shaderï¼‰çš„è¾“å…¥ã€è¾“å‡ºï¼›ç‰‡å…ƒç€è‰²å™¨ï¼ˆfragï¼‰çš„è¾“å…¥ã€‚\nSV_POSITIONï¼šç”¨æ¥å­˜å‚¨ï¼Œæ¨¡å‹åœ¨å‰ªè£ç©ºé—´ï¼ŒæŠ•å½±ç©ºé—´ä¸­çš„ä½ç½®ä¿¡æ¯ï¼Œå³æŠŠæ¨¡å‹ç©ºé—´çš„å®šç‚¹åæ ‡ï¼Œè½¬åŒ–ä¸ºå‰ªè£ç©ºé—´çš„åæ ‡ï¼Œå¯ç”¨ä½œå®šç‚¹ç€è‰²å™¨ï¼ˆvertex shaderï¼‰çš„è¾“å‡ºï¼›ç‰‡å…ƒç€è‰²å™¨ï¼ˆfragï¼‰çš„è¾“å…¥ã€‚\nShader \u0026#34;ShaderLearning/FragmentDiffuseShader/FrgmentPhongShader\u0026#34; { Properties { \\_MainColor (\u0026#34;MainColor\u0026#34;, Color) = (1,1,1,1) \\_SpecularColor (\u0026#34;SpecularColor\u0026#34;, Color) = (0.5,0.5,0.5,1) \\_Shineness(\u0026#34;Shineness\u0026#34;,Range(1,32))=8 } SubShader { Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34; } â€‹ Pass { CGPROGRAM #pragma multi\\_compile\\_fwdbase #pragma vertex vert #pragma fragment frag â€‹ #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 pos : SV\\_POSITION; float3 normal : TEXCOORD0; float4 vertex: POSITION1; }; â€‹ fixed4 \\_MainColor; fixed4 \\_SpecularColor; float \\_Shineness; â€‹ v2f vert (appdata\\_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); o.normal=v.normal; o.vertex=v.vertex; â€‹ return o; } â€‹ fixed4 frag (v2f i) : COLOR { //ç¯å¢ƒå…‰é¢œè‰² fixed4 col=UNITY\\_LIGHTMODEL\\_AMBIENT; //æ¨¡å‹åæ ‡ç³»ä¸‹çš„æ³•çº¿è½¬ä½ä¸–ç•Œåæ ‡ç³»ä¸‹ float3 N=UnityObjectToWorldNormal(i.normal); //è·å–ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰ç…§æ–¹å‘ float3 L=normalize(WorldSpaceLightDir(i.vertex)); //è®¡ç®—æ¼«åå°„ float diffuse=saturate(dot(L,N)); //è®¡ç®—æ‘„åƒæœºè§‚å¯Ÿè§†è§’å‘é‡ float3 V=normalize(WorldSpaceViewDir(i.vertex)); //è®¡ç®—å…¥å°„å…‰åå°„å‘é‡,Lå–åå°±æ˜¯å…¥å°„å…‰å‘é‡ float3 R=reflect(-L,N); //è®¡ç®—é•œé¢é«˜å…‰ float specular=pow(saturate(dot(V,R)),\\_Shineness); //å åŠ ä¸Šæ¼«åå°„ä¸é•œé¢é«˜å…‰çš„é¢œè‰²ä¹˜ä¸Šå…‰ç…§é¢œè‰² col+= \\_LightColor0\\*((\\_MainColor\\*diffuse)+(\\_SpecularColor\\*specular)); //è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„é¡¶ç‚¹ä½ç½® float3 wpos=mul(unity\\_ObjectToWorld,i.vertex).xyz; //è®¡ç®—4ä¸ªç‚¹å…‰æºé¢œè‰² col.rgb+=Shade4PointLights(unity\\_4LightPosX0, unity\\_4LightPosY0, unity\\_4LightPosZ0, unity\\_LightColor\\[0\\].rgb,unity\\_LightColor\\[1\\].rgb, unity\\_LightColor\\[2\\].rgb,unity\\_LightColor\\[3\\].rgb, unity\\_4LightAtten0,wpos,N); â€‹ return col; } ENDCG } } } â€‹\næ•ˆæœå›¾â¬‡ï¸\nåŸºäºç‰‡å…ƒç¨‹åºçš„BlinnPhongå¸ƒæ—å†¯å…‰ç…§æ¨¡å‹ æ›´æ”¹ä¸ºBlinnPhongåªéœ€è¦å°†è®¡ç®—é•œé¢é«˜å…‰éƒ¨åˆ†æ”¹ä¸ºä½¿ç”¨åŠè§’å‘é‡è¿›è¡Œè®¡ç®—å³å¯\n//è®¡ç®—é•œé¢é«˜å…‰,ä½¿ç”¨åŠè§’å‘é‡\nfloat specular=pow(saturate(dot(N,normalize(L+V))),_Shineness);\nå®Œæ•´ä»£ç  Shader \u0026#34;ShaderLearning/FragmentDiffuseShader/FrgmentBlinnPhongShader\u0026#34; { Properties { \\_MainColor (\u0026#34;MainColor\u0026#34;, Color) = (1,1,1,1) \\_SpecularColor (\u0026#34;SpecularColor\u0026#34;, Color) = (0.5,0.5,0.5,1) \\_Shineness(\u0026#34;Shineness\u0026#34;,Range(1,32))=8 } SubShader { Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34; } â€‹ Pass { CGPROGRAM #pragma multi\\_compile\\_fwdbase #pragma vertex vert #pragma fragment frag â€‹ #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 pos : SV\\_POSITION; float3 normal : TEXCOORD0; float4 vertex: POSITION1; }; â€‹ fixed4 \\_MainColor; fixed4 \\_SpecularColor; float \\_Shineness; â€‹ v2f vert (appdata\\_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); o.normal=v.normal; o.vertex=v.vertex; â€‹ return o; } â€‹ fixed4 frag (v2f i) : COLOR { //ç¯å¢ƒå…‰é¢œè‰² fixed4 col=UNITY\\_LIGHTMODEL\\_AMBIENT; //æ¨¡å‹åæ ‡ç³»ä¸‹çš„æ³•çº¿è½¬ä½ä¸–ç•Œåæ ‡ç³»ä¸‹ float3 N=UnityObjectToWorldNormal(i.normal); //è·å–ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰ç…§æ–¹å‘ float3 L=normalize(WorldSpaceLightDir(i.vertex)); //è®¡ç®—æ¼«åå°„ float diffuse=saturate(dot(L,N)); //è®¡ç®—æ‘„åƒæœºè§‚å¯Ÿè§†è§’å‘é‡ float3 V=normalize(WorldSpaceViewDir(i.vertex)); //è®¡ç®—é•œé¢é«˜å…‰,ä½¿ç”¨åŠè§’å‘é‡ float specular=pow(saturate(dot(N,normalize(L+V))),\\_Shineness); //å åŠ ä¸Šæ¼«åå°„ä¸é•œé¢é«˜å…‰çš„é¢œè‰²ä¹˜ä¸Šå…‰ç…§é¢œè‰² col+= \\_LightColor0\\*((\\_MainColor\\*diffuse)+(\\_SpecularColor\\*specular)); //è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„é¡¶ç‚¹ä½ç½® float3 wpos=mul(unity\\_ObjectToWorld,i.vertex).xyz; //è®¡ç®—4ä¸ªç‚¹å…‰æºé¢œè‰² col.rgb+=Shade4PointLights(unity\\_4LightPosX0, unity\\_4LightPosY0, unity\\_4LightPosZ0, unity\\_LightColor\\[0\\].rgb,unity\\_LightColor\\[1\\].rgb, unity\\_LightColor\\[2\\].rgb,unity\\_LightColor\\[3\\].rgb, unity\\_4LightAtten0,wpos,N); â€‹ return col; } ENDCG } } } æ•ˆæœå›¾(Phongä¸BlinnPhongå¯¹æ¯”)\nå·¦ä¾§Phongï¼Œå³ä¾§BlinnPhong\n","permalink":"https://EitanWong.github.io/en/posts/shader/fragmentshader-%E7%89%87%E5%85%83%E7%BA%A7%E5%85%89%E7%85%A7/","summary":"ä¹‹å‰åœ¨ç¼–å†™Phongä¸BlinnPhongçš„æ—¶å€™ï¼Œæˆ‘å°†å…‰ç…§è®¡ç®—çš„éƒ¨åˆ†æ”¾åœ¨é¡¶ç‚¹ç¨‹åºvertå½“ä¸­ é¡¶ç‚¹ç¨‹åºæ˜¯é’ˆå¯¹é¡¶ç‚¹çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¨¡å‹æœ‰8ä¸ªé¡¶ç‚¹ï¼Œå°±ä¼šè®¡ç®—8æ¬¡ è€Œç‰‡æ®µç¨‹åºå½“ä¸­æ˜¯é’ˆå¯¹åƒç´ çš„ï¼Œæœ‰nä¸ªåƒç´ å°±ä¼šè®¡ç®—næ¬¡ æ‰€ä»¥åœ¨ä¹‹å‰ç¼–å†™çš„ç€è‰²å™¨å½“ä¸­ï¼Œç”±äºåœ¨é¡¶ç‚¹å½“ä¸­è¿›è¡Œ,æœ€åå…‰ç…§çš„æ•ˆæœï¼Œå‡ºç°äº†æ–‘å—ï¼Œæ•ˆæœ","title":"FragmentShader-ç‰‡å…ƒçº§å…‰ç…§"},{"content":"Phongå†¯æ°å…‰ç…§æ¨¡å‹ åœ¨ç°å®ç”Ÿæ´»å½“ä¸­ï¼Œå…‰ç…§æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œåœ¨è®¡ç®—æœºå½“ä¸­æ¨¡æ‹Ÿè¿™æ ·çš„å…‰ç…§æ˜¯éå¸¸å¤æ‚çš„\næˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§ç®€åŒ–çš„æ¨¡å‹æ¥å¯¹ç°å®ä¸–ç•Œè¿›è¡Œè¿‘ä¼¼çš„å…‰ç…§æ¨¡æ‹Ÿ\nPhongå†¯æ°å…‰ç…§å°±æ˜¯å…¶ä¸­çš„ä¸€ç§æ¯”è¾ƒç®€å•çš„å…‰ç…§æ¨¡å‹ï¼Œ\nå®ƒæ˜¯ä¸€ä¸ªå…³äºæ¨¡å‹è¡¨é¢ä¸Šç‚¹çš„å±€éƒ¨ç…§æ˜çš„ç»éªŒæ¨¡å‹(empirical model)\nç”± å‘æ˜\nä¸€ä¸ªæ ‡å‡†çš„Phongæ¨¡å‹ç”±ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ\nAmbient(ç¯å¢ƒå…‰) Diffuse(æ¼«åå°„) Specular(é«˜å…‰/é•œé¢åå°„) Ambient(ç¯å¢ƒå…‰) åœ¨ç”Ÿæ´»å½“ä¸­ï¼Œå³ä½¿æ˜¯é»‘æš—çš„ç¯å¢ƒå½“ä¸­ï¼Œä¹Ÿå­˜åœ¨ä¸€äº›å…‰ç…§ï¼Œä¾‹å¦‚æ˜Ÿå…‰ã€æœˆå…‰ç­‰ï¼Œç¯å¢ƒå…‰å°±æ˜¯æ¨¡æ‹Ÿè¿™äº›å…‰ç…§æ•ˆæœï¼Œç‰©ä½“ä¸€èˆ¬æ¥è¯´ä¸å¯èƒ½æ˜¯ç»å¯¹çš„é»‘æš—ï¼Œæ‰€ä»¥åœ¨Phongæ¨¡å‹å½“ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨ä¸€ä¸ªambientç³»æ•°ä¹˜ä¸Šä¸€ä¸ªé¢œè‰²ï¼Œæ¥æ¨¡æ‹Ÿç¯å¢ƒå…‰\nfloat ambientStrength=0.1;//ç¯å¢ƒå…‰çš„å¼ºåº¦ç³»æ•°\nvec3 ambient = ambientStrength * lightColor;//ç¯å¢ƒå…‰\nDiffuse(æ¼«åå°„) åœ¨æˆ‘ä»¬ç”Ÿæ´»å½“ä¸­å…‰çº¿ç…§å°„åˆ°ç‰©ä½“è¡¨é¢ï¼Œç‰©ä½“è¶Šé è¿‘å…‰æºçš„é¢å…¶äº®åº¦ç³»æ•°ä¹Ÿå°±è¶Šé«˜\næ¼«åå°„èƒ½è¡¨ç°ç‰©ä½“çš„æ–¹å‘æ€§,è¿™ä¹Ÿæ˜¯Phongå½“ä¸­æ•ˆæœæœ€æ˜¾è‘—çš„éƒ¨åˆ†\nä¸ºäº†è®¡ç®—å…‰æºçš„æ–¹å‘ä¸äº®åº¦çš„å…³ç³»ï¼Œæˆ‘ä»¬å°±è¦å¼•å…¥æ³•çº¿,é€šè¿‡å…¥å°„å…‰ä¸æ³•çº¿ç›´çº¿çš„è§’åº¦å…³ç³»ï¼Œå¾—åˆ°å…‰ç…§çš„å¼ºåº¦\nä¸‹é¢æ˜¯å…·ä½“çš„è®¡ç®—ä»£ç \n//è®¡ç®—å‡ºæ³•å‘é‡å’Œå…‰çº¿æ–¹å‘çš„å•ä½å‘é‡\nvec3 norm = normalize(Normal); vec3 lightDir = normalize(lightPos - FragPos);\n//åˆ¤æ–­æ¼«åå°„å¼ºåº¦ç³»æ•°\nfloat diff = max(dot(norm, lightDir), 0.0);\n//è®¡ç®—æ¼«åå°„å…‰ç…§\nvec3 diffuse = diff * lightColor;\né¦–å…ˆè¦å¯¹è®¡ç®—çš„æ³•å‘é‡å’Œå…¥å°„å…‰å‘é‡ï¼Œè¿›è¡Œå½’ä¸€åŒ–ï¼Œ\nå°†ä¸¤ä¸ªå‘é‡è¿›è¡Œç‚¹ç§¯æ“ä½œï¼Œå¹¶ä¸”é™åˆ¶åœ¨0~1ä¹‹é—´å¾—åˆ°å…‰ç…§çš„äº®åº¦ç³»æ•°\næœ€åäº®åº¦ç³»æ•°ä¹˜ä¸Šé¢œè‰²å³å¯\nSpecular(é«˜å…‰/é•œé¢åå°„) åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œä¸€äº›å…‰æ»‘çš„ç‰©ä½“é™¤äº†åŸºæœ¬çš„æ¼«åå°„ï¼Œè¿˜æœ‰é«˜å…‰çš„éƒ¨åˆ†\nâ€‹\nå…‰æ»‘ç‰©ä½“è¡¨é¢çš„é«˜å…‰ï¼Œä¼šéšç€äººçœ¼çš„è§†çº¿å‘ç”Ÿæ”¹å˜,å®ƒä¾èµ–ä¸äººçš„è§‚å¯Ÿæ–¹å‘\nâ€‹\næ‰€ä»¥ï¼Œæˆ‘ä»¬å°±éœ€è¦å¼•å…¥åå°„å…‰å‘é‡ä¸æ‘„åƒæœºè§†è§’å‘é‡\n$ \\vec{R} $ä»£è¡¨å…‰çº¿çš„åå°„å…‰çº¿ã€‚ äººçš„è§†çº¿ä¸åå°„å…‰çº¿çš„å¤¹è§’Î¸è¶Šå°ï¼Œè§‚å¯Ÿåˆ°çš„é•œé¢åå°„çš„æ•ˆæœè¶Šæ˜æ˜¾\nfloat specularStrength = 0.5; //é•œé¢åå°„å¼ºåº¦\nvec3 viewDir = normalize(viewPos - FragPos); //è§†çº¿æ–¹å‘\nvec3 reflectDir = reflect(-lightDir, norm); //åå°„å…‰çº¿\nfloat spec = pow(max(dot(viewDir, reflectDir), 0.0), 32); vec3 specular = specularStrength * spec * lightColor; //é•œé¢åå°„å…‰çº¿\nä½¿ç”¨reflectå‡½æ•°å¾—åˆ°åå°„å…‰å‘é‡ï¼Œreflectå‡½æ•°çš„æ¨å¯¼è¿‡ç¨‹å¯ä»¥å‚è€ƒçš„å¦å¤–ä¸€ç¯‡ float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32);ä¸­çš„32ä»£è¡¨é«˜å…‰çš„åå°„åº¦(Shininess)ã€‚åå°„åº¦è¶Šé«˜ï¼Œåå°„å…‰çš„èƒ½åŠ›è¶Šå¼ºï¼Œé«˜å…‰ç‚¹è¶Šå°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nBlinn Phong(å¸ƒæ—å†¯å…‰ç…§æ¨¡å‹) Phongçš„ä¸»è¦é—®é¢˜åœ¨äºè§†çº¿æ–¹å‘å’Œåå°„æ–¹å‘ä¹‹é—´çš„å¤¹è§’å¿…é¡»å°äº90åº¦ï¼Œæ‰èƒ½ä½¿é•œé¢å…‰é¡¹éé›¶\nVå’ŒRä¹‹é—´çš„è§’åº¦å¤§äº90åº¦ã€‚ Phong æ²¡æœ‰æ­£ç¡®æ¨¡æ‹Ÿè¿™æ ·çš„æƒ…å†µã€‚\nåœ¨é¢å‘ç›¸æœºçš„ç‚¹å¯èƒ½æœ‰å¾®é¢ï¼Œä½† Phong æ— æ³•æ­£ç¡®å»ºæ¨¡ã€‚\né—®é¢˜åœ¨äºè§‚å¯Ÿæ–¹å‘å’Œåå°„æ–¹å‘ä¹‹é—´çš„ç‚¹ç§¯å¯èƒ½ä¸ºè´Ÿï¼Œè¿™åœ¨é€šè¿‡æ–¹ç¨‹çš„å…¶ä½™éƒ¨åˆ†æ—¶ä¸ä¼šå¯¼è‡´åˆç†çš„ç»“æœã€‚\nå…³äºPhongæ¨¡å‹ä¸­åå°„å’Œè§†è§’å¤§äº90åº¦çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ”¹å˜è®¡ç®—æ–¹å¼æ¥è§£å†³\nâ€‹\nè¿™ä¸ªä¿®æ”¹åçš„æ¨¡å‹ç§°ä¸ºBlinn-Phongé«˜å…‰æ¨¡å‹æˆ–è€…ä»…ä»…æ˜¯Blinné«˜å…‰æ¨¡å‹\nå®ƒåœ¨ç‰©ç†ä¸Šå¹¶ä¸æ¯”Phongæ¨¡å‹æ›´æ­£ç¡®ã€‚ä½†å®ƒç¡®å®æ¯”Phongæ¨¡å‹æ›´åŠ å…¨é¢\nBlinn æ¨¡å‹ä½¿ç”¨ä¸€ç»„ä¸åŒçš„å‘é‡è¿›è¡Œè®¡ç®—ï¼Œè¿™äº›å‘é‡åœ¨æ‰€æœ‰æœ‰æ•ˆæƒ…å†µä¸‹éƒ½å°äº 90 åº¦\nBlinn æ¨¡å‹éœ€è¦è®¡ç®—åŠè§’å‘é‡ã€‚ åŠè§’çŸ¢é‡æ˜¯è§†å›¾æ–¹å‘å’Œå…‰ä½ç½®ä¹‹é—´çš„ä¸­é—´æ–¹å‘\nè®¡ç®—åŠè§’å‘é‡ Blinnæ¨¡å‹å½“ä¸­ï¼Œä½¿ç”¨å…¥å°„å…‰$\\vec{L}$ä¸æ‘„åƒæœºè§†è§’$\\vec{V}$ï¼Œç›¸åŠ å¾—åˆ°åŠè§’å‘é‡$\\vec{H}$\nå³$ \\vec{H} = \\vec{L}+\\vec{V} $\nå†ç”¨æ±‚å¾—çš„åŠè§’å‘é‡$\\vec{H}$ä¸æ³•å‘é‡$\\vec{N}$è¿›è¡Œç‚¹ç§¯è¿ç®—ï¼Œæ±‚å¾—äº®åº¦ç³»æ•°\nè®°å¾—éƒ½è¦å½’ä¸€åŒ–å“¦ï¼å¹¶ä¸”è¦é™åˆ¶åœ¨0ï½1ä¹‹é—´\nä¸‹é¢æ˜¯åœ¨Unityå½“ä¸­å®ç°çš„BlinnPhong\nShader \u0026ldquo;ShaderLearning/ShaderLearning\u0026rdquo;\n{\nProperties\n{\n_Shininess(\u0026ldquo;Shininess\u0026rdquo;,Range(1,64))=1\n}\nSubShader\n{\nâ€‹\nTags {\u0026ldquo;LightMode\u0026rdquo;=\u0026ldquo;ForwardBase\u0026rdquo;}\nPass\n{\nCGPROGRAM\n#pragma vertex vert\n#pragma fragment frag\nâ€‹\n#include \u0026ldquo;UnityCG.cginc\u0026rdquo;\n#include \u0026ldquo;Lighting.cginc\u0026rdquo;\nâ€‹\nstruct v2f\n{\nfloat4 vertex : SV_POSITION;\nfixed4 color : COLOR;\n};\nâ€‹\nâ€‹\nfloat _Shininess;\nâ€‹\nv2f vert (appdata_full v)\n{\nv2f o;\no.vertex=UnityObjectToClipPos(v.vertex);\n//è®¡ç®—ä¸–ç•Œåæ ‡ç³»ä¸‹çš„å…‰å‘é‡\nfloat3 L=normalize(WorldSpaceLightDir(v.vertex));\n//ç‰©ä½“åæ ‡ç³»æ³•çº¿è½¬ä¸ºä¸–ç•Œåæ ‡ç³»æ³•çº¿\nfloat3 N=UnityObjectToWorldNormal(v.normal);\n//è®¡ç®—ä¸–ç•Œç©ºé—´ä¸‹å½’ä¸€åŒ–çš„çš„æ‘„åƒæœºè§‚å¯Ÿæ–¹å‘\nfloat3 V=normalize(_WorldSpaceCameraPos-mul(unity_ObjectToWorld,v.vertex));\n//è®¡ç®—æ¼«åå°„\nfloat diffuse=saturate(dot(L,N));\n//è®¡ç®—é•œé¢é«˜å…‰ï¼Œä½¿ç”¨åŠè§’å‘é‡\nfloat specular=pow(saturate(dot(N,normalize(L+V))),_Shininess);\n//å…‰æºé¢œè‰²åˆ†åˆ«å’Œæ¼«åå°„å’Œé•œé¢é«˜å…‰çš„å¼ºåº¦ç³»æ•°ç›¸ä¹˜ï¼Œæœ€ç»ˆèµ‹ç»™é¢œè‰²\no.color=_LightColor0*(diffuse+specular);\nreturn o;\n}\nâ€‹\nfixed4 frag (v2f i) : COLOR\n{\n//ç‰‡è¿œç€è‰²å™¨ï¼Œæœ€ç»ˆçš„é¢œè‰²åŠ ä¸Šå›ºå®šçš„ç¯å¢ƒå…‰é¢œè‰²\nreturn i.color+UNITY_LIGHTMODEL_AMBIENT;\n}\nENDCG\n}\n}\n}\nâ€‹\nPhongä¸Blinn Phongçš„æ•ˆæœå¯¹æ¯” å·¦è¾¹Phongå†¯æ°å…‰ç…§æ¨¡å‹æ•ˆæœ\nå³è¾¹BlinnPhong å¸ƒæ—å†¯å…‰ç…§æ¨¡å‹æ•ˆæœ\n","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B-phong%E4%B8%8Eblinnphong/","summary":"Phongå†¯æ°å…‰ç…§æ¨¡å‹ åœ¨ç°å®ç”Ÿæ´»å½“ä¸­ï¼Œå…‰ç…§æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œåœ¨è®¡ç®—æœºå½“ä¸­æ¨¡æ‹Ÿè¿™æ ·çš„å…‰ç…§æ˜¯éå¸¸å¤æ‚çš„ æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ç§ç®€åŒ–çš„æ¨¡å‹æ¥å¯¹ç°å®ä¸–ç•Œè¿›è¡Œè¿‘ä¼¼çš„å…‰ç…§æ¨¡æ‹Ÿ Phongå†¯æ°å…‰ç…§å°±æ˜¯å…¶ä¸­çš„ä¸€ç§æ¯”è¾ƒç®€å•çš„å…‰ç…§æ¨¡å‹ï¼Œ å®ƒæ˜¯ä¸€ä¸ªå…³äºæ¨¡å‹è¡¨é¢ä¸Šç‚¹çš„å±€éƒ¨ç…§æ˜çš„ç»éªŒæ¨¡å‹(empirical model) ç”± å‘æ˜ ä¸€ä¸ª","title":"å…‰ç…§æ¨¡å‹-Phongä¸BlinnPhong"},{"content":"å‰è¨€ğŸ’¬ åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œå…‰ç…§æ¨¡å‹æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚\nä¸ºäº†æ¨¡æ‹Ÿç°å®ä¸­çš„å…‰ç…§æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸€äº›åŸºæœ¬çš„å…‰å­¦åŸç†ã€‚\næœ¬æ–‡å°†ä»‹ç»åå°„å‘é‡çš„æ¦‚å¿µä»¥åŠå¦‚ä½•åœ¨Unityå¼•æ“ä¸­ä½¿ç”¨Cg reflectå‡½æ•°å®ç°åå°„æ•ˆæœ\nä¸€ã€ä»€ä¹ˆæ˜¯åå°„å‘é‡ åœ¨å›¾å½¢å­¦ä¸­ï¼Œåå°„å‘é‡æ˜¯ä¸€ä¸ªæè¿°å…‰çº¿å¦‚ä½•åå°„çš„é‡è¦æ¦‚å¿µã€‚å½“å…‰çº¿ç…§å°„åˆ°ä¸€ä¸ªè¡¨é¢ä¸Šï¼Œå®ƒä¼šè¢«åå°„åˆ°ä¸åŒçš„æ–¹å‘ã€‚åå°„å‘é‡çš„è®¡ç®—æ˜¯åŸºäºå…‰çº¿çš„å…¥å°„è§’å’Œæ³•çº¿å‘é‡çš„ã€‚é€šè¿‡è®¡ç®—åå°„å‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿå‡ºå…‰çº¿åœ¨è¡¨é¢ä¸Šçš„åå°„æ•ˆæœï¼Œä»è€Œåˆ¶ä½œå‡ºé€¼çœŸçš„å…‰ç…§æ•ˆæœã€‚\näºŒã€Cg reflectå‡½æ•° Cgä¸­çš„reflectå‡½æ•°å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿè®¡ç®—åå°„å‘é‡\nåœ¨Unityä¸­æ”¹å‡½æ•°è¢«å®šä¹‰åœ¨\nå‡½æ•°åŸå‹å¦‚ä¸‹ï¼š\nfloat3 reflect(float3 incidentVector, float3 normalVector); å…¶ä¸­ï¼ŒincidentVector æ˜¯å…¥å°„å…‰çº¿çš„æ–¹å‘ï¼ŒnormalVector æ˜¯è¡¨é¢çš„æ³•çº¿å‘é‡ã€‚\nå‡½æ•°è¿”å›ä¸€ä¸ªåå°„å…‰çº¿çš„æ–¹å‘å‘é‡ã€‚\nåŸç† CGå½“ä¸­reflectå‡½æ•°çš„å®ç°\n// iä¸ºå…¥å°„å…‰çº¿ï¼Œnä¸ºæ³•çº¿ float3 reflect( float3 i, float3 n ) { return i - 2.0 \\* n \\* dot(n,i); } æ¨å¯¼è¿‡ç¨‹ æ±‚åå°„å‘é‡OB\n$$ \\vec{OB}=\\vec{AB}-\\vec{AO} $$\n$$ \\vec{OB}=2\\vec{AP}-\\vec{AO}=2(\\vec{AO}+\\vec{OP})-\\vec{AO}=\\vec{AO}+2\\vec{OP} $$\næ‰€ä»¥æ­¤æ—¶é‡ç‚¹åœ¨äºæ±‚å‘é‡OP\né‚£ä¹ˆå¦‚ä½•æ±‚å‘é‡OP\næˆ‘ä»¬æ®ä¸‹å›¾ä¸¾ä¾‹æ¨¡å‹è¿›è¡Œæ¨å¯¼\næ ¹æ®ç‚¹ç§¯çš„æ€§è´¨å¯çŸ¥ï¼š\n$$ \\vec{OA}\\cdot\\cosÎ¸=\\vec{OA^{\u0026rsquo;}}\n$$\n$$ \\vec{OA}\\cdot\\vec{n}=\\vec{OA}\\cdot\\vec{n}\\cdot\\cosÎ¸\n$$\næ‰€ä»¥å°±æœ‰\n$$ \\vec{OA^{\u0026rsquo;}}=\\vec{OA}\\cdot\\cosÎ¸\\cdot\\vec{n}\n$$\n$$ \\vec{OA^{\u0026rsquo;}}=\\vec{OA}\\cdot\\frac{\\vec{OA}\\cdot\\vec{n}}{\\vec{OA}*\\vec{n}}\\cdot\\vec{n} $$\n$$ è®¾\\vec{n}=1,å°±æœ‰\\vec{OA^{\u0026rsquo;}}=(\\vec{OA}\\cdot\\vec{n})\\cdot\\vec{n} $$\næ‰€ä»¥æ ¹æ®æ­¤æ¨å¯¼çš„åŸç†å¯çŸ¥\n$$ \\vec{OP}=-(\\vec{AO}\\cdot\\vec{n})\\cdot\\vec{n} $$\nå³ï¼š\n$$ \\vec{OB}=\\vec{AO}-2\\vec{n}\\cdot(\\vec{AO}\\cdot\\vec{n})\n$$\næ‰€ä»¥Cgå½“ä¸­çš„reflectå‡½æ•°ä¸­çš„å®ç°\ni - 2.0 * n * dot(n,i)\nå°±æ˜¯è¿™æ ·æ¨å¯¼æ¥çš„\næ›´è¯¦ç»†çš„æ¨å¯¼è¿‡ç¨‹å¯ä»¥çœ‹ä¸‹å›¾\nä¸‰ã€å®ç°Specularé«˜å…‰ é¦–å…ˆæˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºåå°„å…‰çš„å‘é‡ï¼Œåˆ©ç”¨reflectå‡½æ•°\nfloat3 N=normalize(mul(unity_WorldToObject,v.normal));\nfloat3 L=normalize(_WorldSpaceLightPos0);\n// Lä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºWorldSpaceLightDir(v.vertex)\nfloat3 R= reflect(-L,N);//ç”±äºLæ˜¯æœå‘å…‰æºæ–¹å‘çš„å‘é‡å–å-Lå°±ç¤ºå…¥å°„å…‰çš„å‘é‡äº†\nè®¡ç®—å‡ºåå°„å…‰å‘é‡åï¼Œç”¨åå°„å…‰å‘é‡å’Œæœå‘æ‘„åƒæœºè§†è§’å‘é‡è¿›è¡Œç‚¹ç§¯ï¼Œå¹¶ä¸”å°†å€¼æ˜ å°„åœ¨0ï½1ä¹‹é—´\nfloat3 V= normalize(WorldSpaceViewDir(v.vertex));\nfloat specularL= saturate(dot(V,R));\nä¸ºäº†å®ç°æŒ‡æ•°çº§çš„è¡°å‡æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨powå‡½æ•°,æ ¹æ®_Shininessè°ƒæ•´è¡°å‡æ•ˆæœ,_Shininesså¯ä»¥åœ¨Propertiesä¸­å®šä¹‰æš´éœ²çš„å‚æ•°\nspecularL=pow(specularL,_Shininess);\næœ€åå°†ç¯å…‰é¢œè‰²ä¹˜ä¸ŠSpecularçš„äº®åº¦ï¼Œé™„åŠ åˆ°colorä¸Š,å³å¯\no.color+=_LightColor0*specularL;\nå››ã€å®Œæ•´ä»£ç  Shader \u0026#34;ShaderLearning/Diffuse/SpecularDiffuse\u0026#34; { Properties { \\_Shininess(\u0026#34;Shininess\u0026#34;,Range(1,64))=1 } SubShader { Tags { \u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34; } Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 vertex: POSITION; fixed4 color: COLOR; }; float \\_Shininess; v2f vert (appdata\\_full v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); float3 N=normalize(mul(unity\\_WorldToObject,v.normal)); float3 L=normalize(\\_WorldSpaceLightPos0); float dotL=saturate(dot(N,L)); o.color=\\_LightColor0\\*dotL; // Lä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºWorldSpaceLightDir(v.vertex) float3 R= reflect(-L,N); float3 V= normalize(WorldSpaceViewDir(v.vertex)); float specularL= saturate(dot(V,R)); specularL=pow(specularL,\\_Shininess); o.color+=\\_LightColor0\\*specularL; return o; } fixed4 frag (v2f i) : COLOR { return i.color+UNITY\\_LIGHTMODEL\\_AMBIENT; } ENDCG } } } æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º\nå®ç°äº†ä¸€ä¸ªç®€å•çš„Specularçš„æ•ˆæœ\nè¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨reflectçš„å‡½æ•°çš„è¦æ³¨æ„ï¼Œå…¥å°„å…‰å’Œæ³•çº¿è¦åœ¨åŒä¸€ä¸ªåæ ‡ç³»ç©ºé—´\n","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%85%A5%E9%97%A8-%E5%8F%8D%E5%B0%84%E5%90%91%E9%87%8F%E4%B8%8Ecg-reflect%E5%87%BD%E6%95%B0-2/","summary":"å‰è¨€ğŸ’¬ åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œå…‰ç…§æ¨¡å‹æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ ä¸ºäº†æ¨¡æ‹Ÿç°å®ä¸­çš„å…‰ç…§æ•ˆæœï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸€äº›åŸºæœ¬çš„å…‰å­¦åŸç†ã€‚ æœ¬æ–‡å°†ä»‹ç»åå°„å‘é‡çš„æ¦‚å¿µä»¥åŠå¦‚ä½•åœ¨Unityå¼•æ“ä¸­ä½¿ç”¨Cg reflectå‡½æ•°å®ç°åå°„æ•ˆæœ ä¸€ã€ä»€ä¹ˆæ˜¯åå°„å‘é‡ åœ¨å›¾å½¢å­¦ä¸­ï¼Œåå°„å‘é‡æ˜¯ä¸€ä¸ªæè¿°å…‰çº¿å¦‚ä½•åå°„çš„é‡è¦æ¦‚å¿µã€‚å½“å…‰çº¿ç…§å°„","title":"å›¾å½¢å­¦å…¥é—¨-åå°„å‘é‡ä¸Cg reflectå‡½æ•°"},{"content":"å‰è¨€ğŸ’¬ åœ¨åœºæ™¯å½“ä¸­å¯èƒ½ä¸æ­¢åªæœ‰Directional Lightï¼Œè¿˜æœ‰å¯èƒ½å­˜åœ¨ç‚¹å…‰æºç­‰ï¼Œå…¶ä»–çš„å…‰æº æˆ‘ä»¬ä¹‹å‰å®ç°çš„Diffuse Shaderï¼Œåªæ˜¯é’ˆå¯¹äº†Directional Lightè¿›è¡Œå…‰ç…§ç€è‰²\nä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå®˜æ–¹çš„Diffuseç€è‰²å™¨é’ˆå¯¹ä¸åŒçš„ç¯å…‰ï¼Œéƒ½æœ‰ä¸åŒçš„å“åº” å¦‚æœæˆ‘ä»¬è¦å»å®ç°æˆ‘ä»¬åŸºäºé¡¶ç‚¹å’Œç‰‡å…ƒçš„å…‰ç…§ç¨‹åºçš„æ—¶å€™ï¼Œéœ€è¦å»è€ƒè™‘åœºæ™¯ä¸­å“ªäº›ç¯å…‰å¯¹ç‰©ä½“æœ‰ä½œç”¨ï¼Œå“ªäº›æ²¡æœ‰ä½œç”¨ï¼Œå…³äºè¿™äº›å†…å®¹ï¼ŒUnityä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å‰å‘æ¸²æŸ“è·¯å¾„çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥å‚è€ƒ å‰å‘æ¸²æŸ“è·¯å¾„Forward Rendering Path å‰å‘æ¸²æŸ“æ ¹æ®å½±å“å¯¹è±¡çš„å…‰æºåœ¨ä¸€ä¸ªæˆ–å¤šä¸ªé€šé“ä¸­æ¸²æŸ“æ¯ä¸ªå¯¹è±¡ã€‚å…‰æºæœ¬èº«ä¹Ÿå¯ä»¥é€šè¿‡å‰å‘æ¸²æŸ“è¿›è¡Œä¸åŒçš„å¤„ç†ï¼Œå…·ä½“å–å†³äºå®ƒä»¬çš„è®¾ç½®å’Œå¼ºåº¦ã€‚\nå¦‚æœç€è‰²å™¨ä¸­æœ‰ä¸€ä¸ªPasså°±ä¼šæ¸²æŸ“ä¸€æ¬¡ï¼Œå¦‚æœæœ‰å¤šä¸ªPasså°±ä¼šæ¸²æŸ“å¤šæ¬¡ å› ä¸ºæœ‰å¤šä¸ªä¸åŒçš„ç¯å…‰éœ€è¦å»å½±å“è¿™ä¸ªç‰©ä½“ï¼Œæ‰€ä»¥å°±ä¼šé’ˆå¯¹å¤šä¸ªPassæ¸²æŸ“å¤šæ¬¡\nå®ç°è¯¦ç»†ä¿¡æ¯ åœ¨å‰å‘æ¸²æŸ“ä¸­ï¼Œå½±å“æ¯ä¸ªå¯¹è±¡çš„ä¸€äº›æœ€äº®çš„å…‰æºä»¥å®Œå…¨é€åƒç´ å…‰ç…§æ¨¡å¼æ¸²æŸ“ã€‚ç„¶åï¼Œæœ€å¤š 4 ä¸ªç‚¹å…‰æºé‡‡ç”¨æ¯é¡¶ç‚¹è®¡ç®—æ–¹å¼ã€‚å…¶ä»–å…‰æºä»¥çƒè°å‡½æ•° (SH) è®¡ç®—ï¼Œè¿™ç§è®¡ç®—æ–¹å¼ä¼šå¿«å¾—å¤šï¼Œä½†ä»…å¾—åˆ°è¿‘ä¼¼å€¼ã€‚å…‰æºæ˜¯å¦ä¸ºæ¯åƒç´ å…‰æºæ ¹æ®ä»¥ä¸‹åŸåˆ™è€Œå®šï¼š\nRender Mode è®¾ç½®ä¸º Not Important çš„å…‰æºå§‹ç»ˆä¸ºæ¯é¡¶ç‚¹æˆ– SH å…‰æºã€‚ æœ€äº®çš„æ–¹å‘å…‰å§‹ç»ˆä¸ºæ¯åƒç´ å…‰æºã€‚ Render Mode è®¾ç½®ä¸º Important çš„å…‰æºå§‹ç»ˆä¸ºæ¯åƒç´ å…‰æºã€‚ If the above results in fewer lights than current Pixel Light Count , then more lights are rendered per-pixel, in order of decreasing brightness. Unityå†…ç½®çš„å…‰ç…§ğŸŒè¾…åŠ©å‡½æ•° åœ¨Unity.cgincå½“ä¸­æœ‰å¾ˆå¤šå…‰ç…§çš„è¾…åŠ©å‡½æ•°ï¼Œä¾‹å¦‚ä¸‹æ–¹çš„ShadeSH9\n// normal should be normalized, w=1.0 // output in active color space half3 ShadeSH9 (half4 normal) { // Linear + constant polynomial terms half3 res = SHEvalLinearL0L1 (normal); // Quadratic polynomials res += SHEvalLinearL2 (normal); # ifdef UNITY_COLORSPACE_GAMMA res = LinearToGammaSpace (res); # endif return res; } åœ¨æˆ‘ä»¬è¦ä½¿ç”¨å…‰ç…§çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚å“ªäº›æƒ…å†µä¸‹ç”¨å“ªäº›å…‰ç…§å‡½æ•° åœ¨ä¸åŒæ¸²æŸ“çš„Passé€šé“å½“ä¸­ï¼Œä¼šæœ‰ä¸åŒçš„å¤„ç† ä¾‹å¦‚ShadeVertexLightsFullçš„å…‰ç…§å‡½æ•°\n// Used in Vertex pass: Calculates diffuse lighting from lightCount lights. Specifying true to spotLight is more expensive // to calculate but lights are treated as spot lights otherwise they are treated as point lights. float3 ShadeVertexLightsFull (float4 vertex, float3 normal, int lightCount, bool spotLight) { float3 viewpos = UnityObjectToViewPos (vertex.xyz); float3 viewN = normalize (mul ((float3x3)UNITY_MATRIX_IT_MV, normal)); float3 lightColor = UNITY_LIGHTMODEL_AMBIENT.xyz; for (int i = 0; i \u0026lt; lightCount; i++) { float3 toLight = unity_LightPosition[i].xyz - viewpos.xyz * unity_LightPosition[i].w; float lengthSq = dot(toLight, toLight); // don\u0026#39;t produce NaNs if some vertex position overlaps with the light lengthSq = max(lengthSq, 0.000001); toLight *= rsqrt(lengthSq); float atten = 1.0 / (1.0 + lengthSq * unity_LightAtten[i].z); if (spotLight) { float rho = max (0, dot(toLight, unity_SpotDirection[i].xyz)); float spotAtt = (rho - unity_LightAtten[i].x) * unity_LightAtten[i].y; atten *= saturate(spotAtt); } float diff = max (0, dot (viewN, toLight)); lightColor += unity_LightColor[i].rgb * (diff * atten); } return lightColor; } è¿™ä¸ªå‡½æ•°æ˜¯å¤„ç†é¡¶ç‚¹å…¨éƒ¨çš„é¡¶ç‚¹å…‰ç…§\næ‰€ä»¥å¯ä»¥åœ¨é¡¶ç‚¹ç¨‹åºå½“ä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°å®ç°é¡¶ç‚¹å…‰ç…§ è¿™ä¸ªå‡½æ•°åˆä¼šåšä¸€æ¬¡åŒ…è£…\nfloat3 ShadeVertexLights (float4 vertex, float3 normal) { return ShadeVertexLightsFull (vertex, normal, 4, false); } è°ƒç”¨ShadeVertexLightsçš„æ—¶å€™ï¼Œä¼šåˆ¶å®š4ä¸ªå…‰æºï¼Œå¹¶ä¸”ç¦ç”¨èšå…‰ç¯\nè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå‡½æ•°åªèƒ½ä½¿ç”¨åœ¨Vertexçš„Passé€šé“å½“ä¸­\næ‰€ä»¥éœ€è¦å°†Passé€šé“å½“ä¸­çš„\ntags{\u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34;} ä¿®æ”¹ä¸º\ntags{\u0026#34;LightMode\u0026#34;=\u0026#34;Vertex\u0026#34;} å®Œå–„Diffuseç€è‰²å™¨ğŸ–Œï¸ ä½¿ç”¨ShadeVertexLightså‡½æ•°ï¼ŒåŠ ä¸Šç‚¹å…‰æºçš„å…‰ç…§\nShader \u0026#34;ShaderLearning/diffuse2\u0026#34; { SubShader { Pass { tags{\u0026#34;LightMode\u0026#34;=\u0026#34;Vertex\u0026#34;} CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 vertex: POSITION; fixed4 color : COLOR; }; sampler2D _MainTex; float4 _MainTex_ST; v2f vert (appdata_base v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); float3 N=normalize(mul(v.normal,(float3x3)unity_WorldToObject)); float3 L=normalize(_WorldSpaceLightPos0); float ndotl=saturate(dot(N,L)); o.color=_LightColor0*ndotl; o.color.rgb=ShadeVertexLights(v.vertex,v.normal); return o; } fixed4 frag (v2f i) : COLOR { return i.color+UNITY_LIGHTMODEL_AMBIENT; } ENDCG } } } è¦æ³¨æ„çš„æ˜¯ï¼ŒShadeVertexLightsä¼ å…¥çš„é¡¶ç‚¹çš„æ³•å‘é‡ï¼Œç›´æ¥æ˜¯æ¨¡å‹ç©ºé—´ä¸‹çš„å³å¯ï¼Œå› ä¸ºåœ¨å†…éƒ¨çš„ShadeVertexLightsFullå‡½æ•°å½“ä¸­å·²ç»è¿›è¡Œäº†åæ ‡ç³»çš„å˜æ¢\nä½†æ˜¯å¯ç”¨è¿™ä¸ªæ¨¡å¼è¿‡åã€‚ä½ ä¼šæ³•çº¿è¿™ä¸ªçƒä½“å…‰ç…§ç€è‰²çš„æ•ˆæœå’Œç³»ç»Ÿå†…ç½®çš„æ•ˆæœï¼Œæœ‰å¾ˆå¤§çš„ä¸åŒ æˆ‘ä»¬å¯ä»¥å°è¯•æ”¹å˜ä¸€ä¸‹æ¨¡å¼\nForward Baseæ¨¡å¼ä¸‹çš„å…‰ç…§ğŸŒ æˆ‘ä»¬ç»§ç»­æŸ¥çœ‹Unity.cgincï¼Œæ³•çº¿Shade4PointLightså‡½æ•°æ˜¯åœ¨ForwardBase passé€šé“ä¸‹çš„\n// Used in ForwardBase pass: Calculates diffuse lighting from 4 point lights, with data packed in a special way. float3 Shade4PointLights ( float4 lightPosX, float4 lightPosY, float4 lightPosZ, float3 lightColor0, float3 lightColor1, float3 lightColor2, float3 lightColor3, float4 lightAttenSq, float3 pos, float3 normal) { // to light vectors float4 toLightX = lightPosX - pos.x; float4 toLightY = lightPosY - pos.y; float4 toLightZ = lightPosZ - pos.z; // squared lengths float4 lengthSq = 0; lengthSq += toLightX * toLightX; lengthSq += toLightY * toLightY; lengthSq += toLightZ * toLightZ; // don\u0026#39;t produce NaNs if some vertex position overlaps with the light lengthSq = max(lengthSq, 0.000001); // NdotL float4 ndotl = 0; ndotl += toLightX * normal.x; ndotl += toLightY * normal.y; ndotl += toLightZ * normal.z; // correct NdotL float4 corr = rsqrt(lengthSq); ndotl = max (float4(0,0,0,0), ndotl * corr); // attenuation float4 atten = 1.0 / (1.0 + lengthSq * lightAttenSq); float4 diff = ndotl * atten; // final color float3 col = 0; col += lightColor0 * diff.x; col += lightColor1 * diff.y; col += lightColor2 * diff.z; col += lightColor3 * diff.w; return col; } æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå…‰ç…§å‡½æ•° lightPosX, lightPosY, lightPosZæ˜¯å…‰æºçš„ä½ç½® lightColor0, lightColor1, lightColor2, lightColor3æ˜¯å…‰çš„é¢œè‰² lightAttenSqæ˜¯å…‰çš„è¡°å‡ç³»æ•° pos å’Œ normal,è¦ä¼ å…¥ä¸–ç•Œç©ºé—´ä¸‹çš„åæ ‡ è¿™ä¸ªå‡½æ•°è¦ä¼ å…¥çš„å‡½æ•°å¾ˆå¤šï¼Œå…³äºå…‰æºä½ç½®ï¼Œå…‰çš„é¢œè‰²ï¼Œè¿˜æœ‰å…‰çš„è¡°å‡ç³»æ•°ï¼Œå¯ä»¥ä»Unityå†…ç½®çš„å˜é‡å½“ä¸­è·å– åœ¨UnityShader Variables.cginc\nfloat4 unity_4LightPosX0; float4 unity_4LightPosY0; float4 unity_4LightPosZ0; half4 unity_4LightAtten0; half4 unity_LightColor[8]; è°ƒç”¨ä»£ç å¦‚ä¸‹æ–¹æ‰€ç¤º\no.color.rgb=Shade4PointLights(unity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0, unity_LightColor[0].rgb,unity_LightColor[1].rgb, unity_LightColor[2].rgb,unity_LightColor[3].rgb, unity_4LightAtten0,wpos,N); è¿™æ ·å†™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¼šå°†æˆ‘ä»¬ä¹‹å‰_LightColor0*ndotlçš„é¢œè‰²ç»™è¦†ç›–æ‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰å§Directional Lightå‚ä¸è®¡ç®—çš„å…‰ç…§ç»™é™„åŠ ä¸Šå»ï¼Œæ‰€ä»¥å°±ä¼šå‘ˆç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•ˆæœ(æœ€ä¸‹é¢çš„ç‰©ä½“)\næˆ‘ä»¬åªéœ€è¦å°†=å·æ”¹æˆ+=å³å¯ å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\nShader \u0026#34;ShaderLearning/diffuse3\u0026#34; { SubShader { Pass { tags{\u0026#34;LightMode\u0026#34;=\u0026#34;ForwardBase\u0026#34;} CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 vertex: POSITION; fixed4 color : COLOR; }; sampler2D _MainTex; float4 _MainTex_ST; v2f vert (appdata_base v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); float3 N=normalize(mul(v.normal,(float3x3)unity_WorldToObject)); float3 L=normalize(_WorldSpaceLightPos0); float ndotl=saturate(dot(N,L)); o.color=_LightColor0*ndotl; float3 wpos=mul(unity_ObjectToWorld,v.vertex).xyz; o.color.rgb+=Shade4PointLights(unity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0, unity_LightColor[0].rgb,unity_LightColor[1].rgb, unity_LightColor[2].rgb,unity_LightColor[3].rgb, unity_4LightAtten0,wpos,N); return o; } fixed4 frag (v2f i) : COLOR { return i.color+UNITY_LIGHTMODEL_AMBIENT; } ENDCG } } } æœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºâ¬‡ï¸\nåœ¨Forward rendering pathä¸­å…³äºä¸åŒæ•°é‡çš„ç¯å…‰\nå½±å“æ¯ä¸ªå¯¹è±¡çš„ä¸€äº›æœ€äº®çš„å…‰æºä»¥å®Œå…¨é€åƒç´ å…‰ç…§æ¨¡å¼æ¸²æŸ“ã€‚ç„¶åï¼Œæœ€å¤š 4 ä¸ªç‚¹å…‰æºé‡‡ç”¨æ¯é¡¶ç‚¹è®¡ç®—æ–¹å¼ã€‚å…¶ä»–å…‰æºä»¥çƒè°å‡½æ•° (SH) è®¡ç®—\nA åˆ° H å…·æœ‰ç›¸åŒçš„é¢œè‰²å’Œå¼ºåº¦ï¼Œå¹¶ä¸”æ‰€æœ‰å…‰æºéƒ½å…·æœ‰è‡ªåŠ¨æ¸²æŸ“æ¨¡å¼ï¼Œ å› æ­¤å®ƒä»¬å°†ä¸¥æ ¼æŒ‰ç…§æ­¤å¯¹è±¡çš„ä»¥ä¸‹é¡ºåºæ’åºã€‚ æœ€äº®çš„å…‰æºå°†ä»¥æ¯åƒç´ å…‰ç…§æ¨¡å¼æ¸²æŸ“ï¼ˆA åˆ° Dï¼‰ï¼Œ ç„¶åæœ€å¤š 4 ä¸ªå…‰æºä»¥æ¯é¡¶ç‚¹å…‰ç…§æ¨¡å¼æ¸²æŸ“ï¼ˆD åˆ° Gï¼‰ï¼Œ æœ€åå…¶ä½™å…‰æºä»¥ SH è¿›è¡Œæ¸²æŸ“ï¼ˆG åˆ° Hï¼‰\nå¦‚æœè¦å®ç°æ›´å¤æ‚çš„å…‰ç…§ï¼Œç¼–å†™æœ‰å…³å…‰å’Œç‰©ä½“äº¤äº’çš„Shaderï¼Œ Unityå®˜æ–¹å»ºè®®ç¼–å†™SurfaceShaderæ¥è¾¾åˆ°æ•ˆæœ\n","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%85%A5%E9%97%A8-%E5%8F%8D%E5%B0%84%E5%90%91%E9%87%8F%E4%B8%8Ecg-reflect%E5%87%BD%E6%95%B0/","summary":"å‰è¨€ğŸ’¬ åœ¨åœºæ™¯å½“ä¸­å¯èƒ½ä¸æ­¢åªæœ‰Directional Lightï¼Œè¿˜æœ‰å¯èƒ½å­˜åœ¨ç‚¹å…‰æºç­‰ï¼Œå…¶ä»–çš„å…‰æº æˆ‘ä»¬ä¹‹å‰å®ç°çš„Diffuse Shaderï¼Œåªæ˜¯é’ˆå¯¹äº†Directional Lightè¿›è¡Œå…‰ç…§ç€è‰² ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œå®˜æ–¹çš„Diffuseç€è‰²å™¨é’ˆå¯¹ä¸åŒçš„ç¯å…‰ï¼Œéƒ½æœ‰ä¸åŒçš„å“åº” å¦‚æœæˆ‘ä»¬è¦å»å®ç°æˆ‘","title":"å›¾å½¢å­¦å…¥é—¨-Diffuse Shaderæ¥å—å¤šä¸ªå…‰æºçš„å…‰ç…§"},{"content":"Ambient+Diffuse Diffuseæ˜¯æ¼«åå°„ï¼Œå®ƒå®é™…ä¸ŠåŒ…å«2ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯Ambientç¯å¢ƒå…‰ç…§ï¼Œå¦å¤–ä¸€ä¸ªæ‰æ˜¯Diffuse ä¸ºä»€ä¹ˆéœ€è¦ç¯å¢ƒå…‰ç…§ï¼Ÿ åœ¨æ˜¾ç¤ºä¸–ç•Œå½“ä¸­ï¼Œå…‰ç…§å°„åœ¨ç¯å¢ƒä¸Šï¼Œç¯å¢ƒåˆä¼šåå°„åˆ°ç‰©ä½“ä¸Šï¼Œåœ¨è®¡ç®—æœºä¸Šï¼Œæˆ‘ä»¬ä¸ºäº†æ¨¡æ‹Ÿç‰©ä½“çš„åå…‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨å›ºå®šçš„ç¯å¢ƒå…‰ç…§\nDiffuseå…‰ç…§æ¨¡å‹ä¸å‘é‡è®¡ç®— normalized Næ˜¯å®šç‚¹çš„æ³•å‘é‡ï¼Œnormalized Lï¼Œæ˜¯ä»å®šç‚¹æŒ‡å‘å…‰æºæ–¹å‘çš„å‘é‡ æ±‚è¿™ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ï¼Œå°±å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸¤ä¸ªå‘é‡ä»–ä»¬ä¹‹é—´çš„å¤¹è§’ï¼Œä»ç‚¹ç§¯çš„ç»“æœä¸Šçœ‹ y=dot(N,L)\n1â‰¥y\u0026gt;0\n90Â°â‰¥Î¸\u0026gt;0Â°\ny=0\nÎ¸=90Â°\n0\u0026gt;yâ‰¥-1\n180Â°â‰¥Î¸\u0026gt;90Â°\nåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—æŸä¸€ä¸ªé¡¶ç‚¹åº”è¯¥æ¥æ”¶å…‰ç…§çš„å¼ºåº¦\nä¸Šå›¾é¡¶ç‚¹æ‰€åœ¨çš„æ¨¡å‹ç‰©ä½“åœ¨ç©ºé—´åšäº†ä¸€ä¸ªæ–¹ä½çš„æ—‹è½¬ï¼Œæ­¤æ—¶æ³•å‘é‡Nåœ¨ä¸–ç•Œç©ºé—´å½“ä¸­è¢«æ—‹è½¬äº†ï¼Œä»é¡¶ç‚¹æŒ‡å‘å…‰æºçš„å‘é‡ä¿æŒä¸åŠ¨ï¼Œè¿™ä¸ªæ—¶å€™ä¸¤ä¸ªå‘é‡å½¢æˆçš„å¤¹è§’å¤§äº90åº¦ï¼Œæ‰€ä»¥ç‚¹ç§¯çš„ç»“æœæ˜¯è´Ÿå€¼ã€‚åº”å½“ä¸æ¥å—å…‰ç…§ åœ¨å®é™…ä½¿ç”¨å½“ä¸­è´Ÿæ•°ä¹˜ä¸Šä¸€ä¸ªé¢œè‰²å€¼æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥è´Ÿæ•°å–0å³å¯\næ¡ˆä¾‹ é¦–å…ˆåœ¨é¡¶ç‚¹ç¨‹åºå½“ä¸­è¿›è¡ŒMVPå˜æ¢ å½’ä¸€åŒ–é¡¶ç‚¹çš„æ³•å‘é‡ï¼Œé€šè¿‡UnityShaderLabå†…å»ºçš„_WorldSpaceLightPos0\nå†…å»ºå…‰ç…§ç›¸å…³çš„å˜é‡ å…‰å‚æ•°ä»¥ä¸åŒçš„æ–¹å¼ä¼ é€’ç»™ç€è‰²å™¨ï¼Œå…·ä½“å–å†³äºä½¿ç”¨å“ªä¸ª ä»¥åŠç€è‰²å™¨ä¸­ä½¿ç”¨å“ªä¸ª æ­£å‘æ¸²æŸ“ï¼ˆForwardBaseå’ŒForwardAdd pass typesï¼‰\nName\nType\nValue\n_LightColor0 *(åœ¨ UnityLightingCommon.cginc ä¸­ç”³æ˜)*\nfixed4\nå…‰ç…§é¢œè‰²\n_WorldSpaceLightPos0\nfloat4\nå®šå‘å…‰ï¼šï¼ˆä¸–ç•Œç©ºé—´æ–¹å‘ï¼Œ0ï¼‰ã€‚å…¶ä»–ç¯å…‰ï¼šï¼ˆä¸–ç•Œç©ºé—´ä½ç½®ï¼Œ1ï¼‰ã€‚\nunity_WorldToLight (declared in AutoLight.cginc)\nfloat4x4\nä¸–ç•Œåˆ°å…‰æºçŸ©é˜µ. ä½¿ç”¨ sample cookie \u0026amp; attenuation textures.\nunity_4LightPosX0, unity_4LightPosY0, unity_4LightPosZ0\nfloat4\n_ï¼ˆä»…é€‚ç”¨äºForwardBase passï¼‰_å‰å››ä¸ªä¸é‡è¦ç‚¹å…‰æºçš„ä¸–ç•Œç©ºé—´ä½ç½®ã€‚\nunity_4LightAtten0\nfloat4\n_ï¼ˆä»…é€‚ç”¨äºForwardBase passï¼‰_å‰å››ä¸ªä¸é‡è¦ç‚¹å…‰æºçš„è¡°å‡å› å­ã€‚\nunity_LightColor\nhalf4[4]\n_ï¼ˆä»…é€‚ç”¨äºForwardBase passï¼‰_å‰å››ä¸ªéé‡è¦ç‚¹å…‰æºçš„é¢œè‰²ã€‚\nunity_WorldToShadow\nfloat4x4[4]\nä¸–ç•Œåˆ°é˜´å½±çŸ©é˜µã€‚ä¸€ç§ç”¨äºSpot Lightsï¼Œæœ€å¤šå››ç§ç”¨äºæ–¹å‘å…‰çº§è”ï¼ˆ Directional light cascadesï¼‰\nå…³äºæ›´å¤šçš„Build-in shaderå¯ä»¥è®¿é—® è·å–åˆ°é¡¶ç‚¹åˆ°å…‰æºçš„æ–¹å‘ï¼Œå¹¶å°†å…¶å½’ä¸€åŒ–\nv2f vert (appdata_base v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); float3 N=normalize(v.normal); float3 L=normalize(_WorldSpaceLightPos0); return o; } å°†å‘é‡Nä¸å‘é‡Lè¿›è¡Œç‚¹ç§¯è®¡ç®—,å¹¶ä½¿ç”¨saturateå‡½æ•°ï¼Œä½¿è®¡ç®—çš„ç‚¹ç§¯æ˜ å°„åˆ°0ï½1ä¹‹é—´ å¹¶å°†å…¶å€¼ä¹˜ä¸Šå…‰ç…§é¢œè‰²_LightColor0èµ‹ç»™COLOR\nfloat ndotl=saturate(dot(N,L)); o.color=_LightColor0*ndotl; ``` åœ¨ç‰‡å…ƒç€è‰²å™¨å½“ä¸­æ·»åŠ ç¯å¢ƒå…‰ç…§ åœ¨æœ€åè¿”å›i.coloråé¢åŠ ä¸Š_UNITY_LIGHTMODEL_AMBIENT_\nfixed4 frag (v2f i) : COLOR { return i.color;//+UNITY_LIGHTMODEL_AMBIENT } åœ¨Window-Rendering-Lightingå½“ä¸­å¯ä»¥è®¾ç½®Environment Lighting å°†Sourceæ”¹ä¸ºColorï¼Œä¿®æ”¹AmbientColor å°±ä¼šå½±å“æ¨¡å‹çš„å›ºå®šç¯å¢ƒå…‰ç…§é¢œè‰²\nè¿™æ ·å°±å¥½äº†å—ï¼ŸğŸ¤”ï¸ å…¶å®æˆ‘ä»¬å†™çš„Diffuse Shaderæœ‰ä¸€ä¸ªéå¸¸è‡´å‘½çš„Bug,æˆ‘ä»¬æ‹¿æˆ‘ä»¬çš„Diffuse Shaderå’ŒUnityçš„DiffuseShaderè¿›è¡Œå¯¹æ¯”ï¼Œå…¶å®å°±èƒ½å‘ç°é—®é¢˜\nå½“æˆ‘ä»¬å°†æ¨¡å‹æ—‹è½¬ä¸€å®šè§’åº¦æ—¶å€™ï¼Œå‘ç°å…‰ç…§æ¸²æŸ“çš„ä½ç½®æ ¹æœ¬ä¸æ­£ç¡® è¿™æ˜¯ç”±äºæˆ‘ä»¬è¿›è¡Œç‚¹ç§¯çš„æ³•å‘é‡ï¼Œå’Œå…‰ç…§çš„æ–¹å‘çš„å‘é‡ï¼Œä¸åœ¨åŒä¸€ä¸ªåæ ‡ç³»çš„åŸå› å¯¼è‡´çš„\nv.normalæ˜¯åœ¨æ¨¡å‹åæ ‡ç³»ï¼Œè€Œ_WorldSpaceLightPos0æ˜¯ä¸–ç•Œåæ ‡ç³» æ¨¡å‹è‡ªèº«è™½ç„¶æ—‹è½¬ï¼Œä½†æ˜¯v.normalç›¸å¯¹äºè‡ªèº«æ˜¯æ²¡æœ‰å˜åŒ–çš„ï¼Œ_WorldSpaceLightPos0å…‰ç…§çš„æ–¹å‘ä¹Ÿæ²¡æœ‰æ”¹å˜ æ‰€ä»¥æ¨¡å‹å³ä½¿æ—‹è½¬äº†ï¼Œä¸¤è€…ç»è¿‡ç‚¹ç§¯ä¹‹åï¼Œè¿˜æ˜¯å’ŒåŸæ¥ç‚¹ç§¯çš„ç»“æœä¸€æ ·ï¼Œå°±å¯¼è‡´äº†ï¼Œå…‰ç…§è®¡ç®—åçš„ç»“æœæ˜¯ä¸€è‡´çš„\nå¦‚ä½•è§£å†³è¿™ä¸ªé—®ğŸ™‹é¢˜â“ ğŸ’¡è¦åœ¨ç»Ÿä¸€çš„åæ ‡ç©ºé—´é‡Œè®¡ç®—æ³•å‘é‡ä¸å…‰å‘é‡çš„ç‚¹ç§¯ æœ‰ä¸¤ç§æ–¹å¼\nå°†v.normalå˜æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ï¼Œå†å’Œå…‰å‘é‡è¿›è¡Œç‚¹ç§¯\nfloat3 N=normalize(v.normal); float3 L=normalize(_WorldSpaceLightPos0); N=mul(unity_ObjectToWorld,float4(N,0)).xyz; float ndotl=saturate(dot(N,L)); å°†_WorldSpaceLightPos0å˜æ¢åˆ°æ¨¡å‹è‡ªèº«çš„åæ ‡ç³»ï¼Œå†å’Œæ³•å‘é‡è¿›è¡Œç‚¹ç§¯\nfloat3 N=normalize(v.normal); float3 L=normalize(_WorldSpaceLightPos0); L=mul(unity_WorldToObject,float4(L,0)).xyz; float ndotl=saturate(dot(N,L)); ç°åœ¨æ•ˆæœå°±ä¸€æ ·äº†â€¦â€¦â€¦â€¦å—â“ æˆ‘ä»¬æŠŠæ¨¡å‹è¿›è¡Œéç­‰æ¯”ä¾‹çš„ç¼©æ”¾ï¼Œå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„Diffuseç€è‰²å™¨å’ŒUnityçš„Diffuseç€è‰²å™¨è¿˜æ˜¯ä¸ä¸€æ ·\nè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢â“ ğŸ’¡åŸå› æ˜¯ç»è¿‡éç­‰æ¯”ä¾‹ç¼©æ”¾ä¹‹åï¼Œé¡¶ç‚¹æ³•çº¿ä¸åˆ‡çº¿ä¸å†å‚ç›´\nä¸Šå›¾ä¸­xè½´ç¼©çŸ­ä¸ºåŸæ¥çš„1/2ï¼Œæ³•çº¿nä¸åˆ‡çº¿p3-p2,ä¸å†å‚ç›´ å¯¹äºåˆ‡çº¿å®ƒå§‹ç»ˆç”±p3-p2æ¥è¡¨ç¤ºï¼Œæ‰€ä»¥p2æ€ä¹ˆå˜ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°åˆ‡çº¿ $$ æ³•çº¿(\\vec{n})ä¸åˆ‡çº¿(\\vec{t}):(p3-p2) $$ $$ æˆ‘ä»¬è®¾unity_ObjectToWorldä¸ºMï¼Œ(\\vec{n})è½¬ä¸–ç•Œç©ºé—´çŸ©é˜µä¸ºG $$ $$ æˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„æ˜¯å¸Œæœ›è½¬æ¢åçš„(\\vec{t^{\u0026rsquo;}})ä¸(\\vec{n^{\u0026rsquo;}})ä¾æ—§ä¿æŒå‚ç›´å…³ç³» $$ $$ æ‰€ä»¥å°±æœ‰ï¼š(M\\vec{t}\\cdot G\\vec{n}=0) $$ å³MçŸ©é˜µä¹˜ä¸Šåˆ‡çº¿ï¼Œä¹Ÿå°±æ˜¯å˜æ¢åçš„æ¨¡å‹åˆ‡çº¿ï¼ŒåŒ…æ‹¬äº†ä¸Šè¿°çš„ä¸ç­‰æ¯”ç¼©æ”¾çš„æƒ…å†µï¼Œè¿™æ ·å½¢æˆçš„çŸ©é˜µä¸è½¬ä¸–ç•Œç©ºé—´çŸ©é˜µGä¸æ³•çº¿nç›¸ä¹˜çš„çŸ©é˜µæ˜¯æ­£äº¤çš„\nğŸ””æ­£äº¤çŸ©é˜µ(Orthogonal matrix)æ˜¯æŒ‡çŸ©é˜µçš„è½¬ç½®å’Œå…¶é€†çŸ©é˜µç›¸ç­‰çš„çŸ©é˜µï¼Œå³A^T=A^(-1) æ­£äº¤çŸ©é˜µçš„æ€§è´¨æœ‰ï¼š å¯¹äºä»»æ„çš„ä¸¤ä¸ªå‘é‡xå’Œyï¼Œéƒ½æœ‰x^Ty=0ï¼Œå³xå’Œyæ˜¯æ­£äº¤çš„\n$$ ç”¨çŸ©é˜µçš„å†™æ³•è¡¨ç¤º(\\vec{t^{\u0026rsquo;}}\\cdot \\vec{n^{\u0026rsquo;}}=(MT)\\cdot (GN)=0) (å‘é‡è½¬æˆåˆ—çŸ©é˜µå½¢å¼,ç”¨å…¶å¤§å†™å­—æ¯è¡¨ç¤º) $$ $$ å› ä¸º(\\vec{t^{\u0026rsquo;}}\\cdot \\vec{n^{\u0026rsquo;}})ç”¨çŸ©é˜µè¡¨ç¤ºä¸º(T^{T}N) $$ $$ çŸ©é˜µçš„æ€§è´¨ \\left(AB\\right)^{\\mathrm {T} }=B^{\\mathrm {T} }A^{\\mathrm {T} } $$ $$ æ³¨æ„å› å­åè½¬çš„æ¬¡åºã€‚ä»¥æ­¤å¯æ¨å‡ºæ–¹é˜µ_A_æ˜¯å¯é€†çŸ©é˜µï¼Œå½“ä¸”ä»…å½“A^{T}æ˜¯å¯é€†çŸ©é˜µï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æœ‰ (A^{âˆ’1})^{T} = (A^{T})^{âˆ’1}ã€‚ $$ $$ æ‰€ä»¥(T^{T}N=(MT)\\cdot (GN)=(MT)^{T}(GN)=T^{T}M^{T}GN) $$ $$ æ‰€ä»¥ (M^{T}G=I) $$ $$ æ‰€ä»¥(G=(M^{T})^{-1}=(M^{-1})^{T}) (æ»¡è¶³çŸ©é˜µè½¬ç½®è¿ç®—ä¸é€†è¿ç®—å¯ä»¥äº¤æ¢é¡ºåºçš„æ€§è´¨) $$ è¿™é‡Œç®€å•è¯æ˜ä¸€ä¸‹è¯¥æ€§è´¨ $$ å› ä¸º ((MM^{-1})^{T}=(M^{-1})^{T}M^{T}=I) $$ $$ æ‰€ä»¥ ((M^{-1})^{T}=(M^{T})^{-1}) $$ $$ å› ä¸ºM=unity_ObjectToWorldï¼Œæ‰€ä»¥M^{-1}=unity_WorldToObject $$ æ‰€ä»¥**G=**unity_WorldToObjectçš„è½¬ç½® å¯ä»¥ç”¨ä»¥ä¸‹ä»£ç ï¼Œè¿›è¡Œè½¬ç½®åå†å’Œæ³•å‘é‡ç›¸ä¹˜\ntranspose((float3x3)unity_WorldToObject) Unityä¸ºæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªç»Ÿä¸€çš„å‡½æ•°_UnityObjectToWorldNormal(in float3 norm),_æ–¹ä¾¿æˆ‘ä»¬æŠŠæ¨¡å‹æ³•çº¿è½¬åˆ°ä¸–ç•Œç©ºé—´\ni.normal = UnityObjectToWorldNormal(v.normal); å®ƒå®šä¹‰åœ¨UnityCG.gincä¸­ï¼ŒåŸç å¦‚ä¸‹:\n// Transforms normal from object to world space inline float3 UnityObjectToWorldNormal( in float3 norm ) { #ifdef UNITY_ASSUME_UNIFORM_SCALING return UnityObjectToWorldDir(norm); #else // mul(IT_M, norm) =\u0026gt; mul(norm, I_M) =\u0026gt; {dot(norm, I_M.col0), dot(norm, I_M.col1), dot(norm, I_M.col2)} return normalize(mul(norm, (float3x3)unity_WorldToObject)); #endif } // Transforms direction from object to world space inline float3 UnityObjectToWorldDir( in float3 dir ) { return normalize(mul((float3x3)unity_ObjectToWorld, dir)); } å®ƒçš„å®ç°åŸç†æ­£å¦‚æˆ‘ä»¬æ¨å¯¼çš„ç»“æœä¸€æ ·ï¼Œåªæ˜¯å®ƒæ›´åŠ å·§å¦™çš„ä½¿ç”¨\nnormalize(mul(norm, (float3x3)unity_WorldToObject)); ä»£æ›¿äº†\nnormalize(mul(transpose((float3x3)unity_WorldToObject),normal)); ä»è€Œæå‡äº†è¿ç®—æ•ˆç‡(çœæ‰äº†è½¬ç½®è®¡ç®—) æˆ‘ä»¬ä¿®æ”¹ä¹‹å‰çš„ä»£ç \nfloat3 N=normalize(v.normal); float3 L=normalize(_WorldSpaceLightPos0); N=mul(unity_ObjectToWorld,float4(N,0)).xyz; float ndotl=saturate(dot(N,L)); //ä¿®æ”¹ä¸ºä»¥ä¸‹ä»£ç å³å¯ float3 N=normalize(mul(v.normal,(float3x3)unity_WorldToObject)); float3 L=normalize(_WorldSpaceLightPos0); float ndotl=saturate(dot(N,L)); ä¿®æ”¹åæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º\nç°åœ¨å³ä½¿ç»è¿‡äº†ä¸ç­‰æ¯”ç¼©æ”¾ï¼Œæ³•çº¿ä¹Ÿèƒ½æ­£ç¡®çš„è¿›è¡Œåæ ‡ç³»çš„å˜æ¢\næ”¹ç”¨ç‰‡å…ƒç€è‰²å™¨è®¡ç®—å…‰ç…§ é¡¶ç‚¹ç¨‹åºè®¡ç®—å…‰ç…§æ‰§è¡Œæ•ˆç‡é«˜ï¼Œç‰‡å…ƒç¨‹åºè®¡ç®—å…‰ç…§è¾ƒæ…¢ä½†æ›´ç»†è…»å¹³æ»‘ï¼Œç”±äºç°ä»£GPUç¡¬ä»¶æ€§èƒ½çš„æå‡ ç‰‡å…ƒç¨‹åºæ‰§è¡Œæ•ˆç‡å¾—åˆ°äº†æå¤§çš„ä¼˜åŒ–ï¼Œç°ä»£çš„ç¡¬ä»¶å¤„ç†éƒ½ä¸æˆé—®é¢˜ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´éƒ½å¯ä»¥ç›´æ¥å¸è½½ç‰‡å…ƒç€è‰²å™¨ä¸Š\nfixed4 frag (v2f i) : COLOR { float3 N=normalize(i.normal); float3 L=normalize(_WorldSpaceLightPos0); N=mul(float4(N,0),unity_WorldToObject).xyz; float ndotl=saturate(dot(N,L)); return _LightColor0*ndotl+UNITY_LIGHTMODEL_AMBIENT; } ENDCG å®Œæ•´ä»£ç  Shader \u0026#34;ShaderLearning/diffuse\u0026#34; { SubShader { Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 vertex: POSITION; float3 normal: TEXCOORD1; fixed4 color : COLOR; }; sampler2D _MainTex; float4 _MainTex_ST; v2f vert (appdata_base v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); o.normal=v.normal; return o; } fixed4 frag (v2f i) : COLOR { float3 N=normalize(mul(i.normal,(float3x3)unity_WorldToObject)); float3 L=normalize(_WorldSpaceLightPos0); float ndotl=saturate(dot(N,L)); return _LightColor0*ndotl+UNITY_LIGHTMODEL_AMBIENT; } ENDCG } } } ä¿®æ”¹å»ºè®®ğŸ™‹ normalize(mul(i.normal,(float3x3)unity_WorldToObject))æ›¿æ¢ä¸ºUnityObjectToWorldNormal(i.normal) å› ä¸ºUnityObjectToWorldNormalï¼ŒUnityå®˜æ–¹å·²ç»ä¸ºæˆ‘ä»¬å°è£…å¥½äº†ï¼Œå…¶ä¸­å¯¹äºç­‰æ¯”ä¾‹ç¼©æ”¾å’Œéç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œéƒ½æœ‰ä¸åŒçš„å¤„ç†æ–¹æ³•ï¼Œæ•´ä½“æ–¹æ¡ˆæ›´åŠ å®Œå–„ æ›¿æ¢åçš„å®Œæ•´ä»£ç \nShader \u0026#34;ShaderLearning/diffuse\u0026#34; { SubShader { Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; #include \u0026#34;Lighting.cginc\u0026#34; struct v2f { float4 vertex: POSITION; float3 normal: TEXCOORD1; fixed4 color : COLOR; }; sampler2D _MainTex; float4 _MainTex_ST; v2f vert (appdata_base v) { v2f o; o.vertex = UnityObjectToClipPos(v.vertex); o.normal=v.normal; return o; } fixed4 frag (v2f i) : COLOR { float3 N=UnityObjectToWorldNormal(i.normal); float3 L=normalize(_WorldSpaceLightPos0); float ndotl=saturate(dot(N,L)); return _LightColor0*ndotl+UNITY_LIGHTMODEL_AMBIENT; } ENDCG } } } ","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%9B%BE%E5%BD%A2%E5%AD%A6%E5%85%A5%E9%97%A8-%E5%AE%9E%E7%8E%B0%E6%BC%AB%E5%8F%8D%E5%B0%84%E7%9D%80%E8%89%B2%E5%99%A8diffuse-shader/","summary":"Ambient+Diffuse Diffuseæ˜¯æ¼«åå°„ï¼Œå®ƒå®é™…ä¸ŠåŒ…å«2ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯Ambientç¯å¢ƒå…‰ç…§ï¼Œå¦å¤–ä¸€ä¸ªæ‰æ˜¯Diffuse ä¸ºä»€ä¹ˆéœ€è¦ç¯å¢ƒå…‰ç…§ï¼Ÿ åœ¨æ˜¾ç¤ºä¸–ç•Œå½“ä¸­ï¼Œå…‰ç…§å°„åœ¨ç¯å¢ƒä¸Šï¼Œç¯å¢ƒåˆä¼šåå°„åˆ°ç‰©ä½“ä¸Šï¼Œåœ¨è®¡ç®—æœºä¸Šï¼Œæˆ‘ä»¬ä¸ºäº†æ¨¡æ‹Ÿç‰©ä½“çš„åå…‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨å›ºå®šçš„ç¯å¢ƒå…‰ç…§ Diffuseå…‰ç…§æ¨¡å‹ä¸å‘é‡è®¡ç®— normalized","title":"å›¾å½¢å­¦å…¥é—¨â€”å®ç°æ¼«åå°„ç€è‰²å™¨Diffuse Shader"},{"content":" å‰è¨€ğŸ’¬ è¿™æ®µæ—¶é—´githubä¸Šçš„Auto-GPTå¤ªç«äº†ï¼Œçœ‹çœ‹è¿™ä¸ªææ€–çš„Starå†å²æ›²çº¿\nåŸä½œè€…ç›´æ¥æƒŠå‘¼50000 Stars!?\næ‰€ä»¥ï¼Œæˆ‘å†³å®šæ¥å®‰è£…éƒ¨ç½²ä»¥ä¸‹ï¼Œä½“éªŒä¸€ä¸‹Auto-GPT\nä»€ä¹ˆæ˜¯Auto-GPT Auto-GPTæ˜¯ä¸€ä¸ªå®éªŒæ€§çš„å¼€æºåº”ç”¨ç¨‹åºï¼Œå±•ç¤ºäº†GPT-4è¯­è¨€æ¨¡å‹çš„åŠŸèƒ½ã€‚è¯¥è®¡åˆ’ç”±GPT-4é©±åŠ¨ï¼Œå°†LLMâ€œæƒ³æ³•â€é“¾æ¥åœ¨ä¸€èµ·ï¼Œä»¥è‡ªä¸»å®ç°æ‚¨è®¾å®šçš„ä»»ä½•ç›®æ ‡ã€‚ä½œä¸ºGPT-4å®Œå…¨è‡ªä¸»è¿è¡Œçš„ç¬¬ä¸€æ‰¹ä¾‹å­ä¹‹ä¸€ï¼ŒAuto-GPTçªç ´äº†äººå·¥æ™ºèƒ½çš„ç•Œé™ã€‚\nå®‰è£…â¬‡ï¸ è¦æ±‚ ç¯å¢ƒï¼ˆäºŒé€‰ä¸€ä¸ªï¼‰ vscode + devcontainer: å®ƒå·²ç»åœ¨.devcontaineræ–‡ä»¶å¤¹ä¸­é…ç½®å®Œæˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ Python 3.8 or later OpenAI API key å¯é€‰é¡¹ç›®:\nMemory backend PINECONE API key (å¦‚æœæ‚¨æƒ³è¦Pineconeä½œä¸ºå†…å­˜åç«¯) Milvus (å¦‚æœæ‚¨æƒ³å°†Milvusä½œä¸ºå†…å­˜åç«¯) ElevenLabs Key (å¦‚æœä½ æƒ³è®©äººå·¥æ™ºèƒ½è¯´è¯) ç¡®ä¿æ‚¨å…·å¤‡ä¸Šè¿°æ‰€æœ‰è¦æ±‚ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·å®‰è£…/è·å–å®ƒä»¬\nå®‰è£…è¿‡ç¨‹\nå…‹éš†ä»“åº“ git clone https://github.com/Torantulino/Auto-GPT.git å¯¼èˆªåˆ°ä¸‹è½½å­˜å‚¨åº“çš„ç›®å½• cd Auto-GPT å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ pip install -r requirements.txt åœ¨ä¸»æ–‡ä»¶å¤¹/Auto-GPTä¸­æ‰¾åˆ°åä¸º.env.templateçš„æ–‡ä»¶ã€‚é€šè¿‡åˆ é™¤æ¨¡æ¿æ‰©å±•åï¼Œåˆ›å»ºä¸€ä¸ªåä¸º.envçš„å‰¯æœ¬ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨å‘½ä»¤æç¤ºç¬¦/ç»ˆç«¯çª—å£ä¸­æ‰§è¡Œcp .env.template .envå‘½ä»¤ã€‚åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€.envæ–‡ä»¶ã€‚æ³¨æ„ï¼šä»¥ç‚¹å¼€å¤´çš„æ–‡ä»¶å¯èƒ½ä¼šè¢«æ“ä½œç³»ç»Ÿéšè—ã€‚\ncp .env.template .env æ‰¾åˆ°ä¸€è¡Œå†™ç€OPENAI_API_KEY=çš„ä»£ç ã€‚åœ¨â€œ=â€åé¢è¾“å…¥ä½ çš„ç‹¬ç‰¹OpenAI APIå¯†é’¥ï¼ˆä¸å¸¦å¼•å·æˆ–ç©ºæ ¼ï¼‰ã€‚è¾“å…¥ä½ æƒ³è¦ä½¿ç”¨çš„å…¶ä»–APIå¯†é’¥æˆ–ä»¤ç‰Œã€‚ä¿å­˜å¹¶å…³é—­â€œ.envâ€æ–‡ä»¶ã€‚é€šè¿‡å®Œæˆè¿™äº›æ­¥éª¤ï¼Œä½ å·²ç»æ­£ç¡®åœ°é…ç½®äº†ä½ çš„é¡¹ç›®çš„APIå¯†é’¥\nä½¿ç”¨Auto-GPT autogptåœ¨ç»ˆç«¯ä¸­è¿è¡ŒPython æ¨¡å— python -m autogpt æ¯æ¬¡æ“ä½œåï¼Œä»é€‰é¡¹ä¸­é€‰æ‹©æˆæƒå‘½ä»¤ã€é€€å‡ºç¨‹åºæˆ–å‘ AI æä¾›åé¦ˆã€‚ æˆæƒå•ä¸ªå‘½ä»¤ï¼Œè¾“å…¥y æˆæƒä¸€ç³»åˆ—Nä¸ªè¿ç»­å‘½ä»¤ï¼Œè¾“å…¥y -N é€€å‡ºç¨‹åºï¼Œè¿›å…¥n ä»¥GPT-3æ¨¡å¼è¿è¡Œ python -m autogpt --gpt3only ","permalink":"https://EitanWong.github.io/en/posts/other/-auto-gptai%E7%9A%84%E8%87%AA%E6%88%91%E9%A9%B1%E5%8A%A8/","summary":"å‰è¨€ğŸ’¬ è¿™æ®µæ—¶é—´githubä¸Šçš„Auto-GPTå¤ªç«äº†ï¼Œçœ‹çœ‹è¿™ä¸ªææ€–çš„Starå†å²æ›²çº¿ åŸä½œè€…ç›´æ¥æƒŠå‘¼50000 Stars!? æ‰€ä»¥ï¼Œæˆ‘å†³å®šæ¥å®‰è£…éƒ¨ç½²ä»¥ä¸‹ï¼Œä½“éªŒä¸€ä¸‹Auto-GPT ä»€ä¹ˆæ˜¯Auto-GPT Auto-GPTæ˜¯ä¸€ä¸ªå®éªŒæ€§çš„å¼€æºåº”ç”¨ç¨‹åºï¼Œå±•ç¤ºäº†GPT-4è¯­è¨€æ¨¡å‹çš„åŠŸèƒ½ã€‚è¯¥è®¡åˆ’ç”±GPT-4é©±","title":"ğŸ¤– Auto-GPTï¼šAIçš„è‡ªæˆ‘é©±åŠ¨"},{"content":"å‰è¨€ğŸ’¬ æœ€è¿‘æ—¥å¸¸ä½¿ç”¨çš„è½¯ä»¶é€æ¸å¢å¤šï¼Œç›®å‰å¤šæ•°äººå¸¸ç”¨çš„çš„å±‚å å¼çª—å£ç®¡ç†ï¼Œä¼¼ä¹å¼€å§‹ä¸é€‚åˆæˆ‘çš„æ—¥å¸¸ä½¿ç”¨ æ‰€ä»¥æˆ‘å†³å®šæŠ˜è…¾ä¸€ä¸‹macä¸‹çš„å¹³é“ºå¼çª—å£ç®¡ç†è½¯ä»¶yabai\nä»€ä¹ˆæ˜¯yabai yabai æ˜¯ä¸€æ¬¾é€‚ç”¨äº macOS Big Sur 11.0.1+ å’Œ Monterey 12.0.0+ çš„å¹³é“ºå¼çª—å£ç®¡ç†å™¨ã€‚ å®ƒä½¿ç”¨äºŒå‰ç©ºé—´åˆ†å‰²ç®—æ³•è‡ªåŠ¨ä¿®æ”¹æ‚¨çš„çª—å£å¸ƒå±€ï¼Œä½¿æ‚¨èƒ½å¤Ÿä¸“æ³¨äºçª—å£å†…å®¹è€Œä¸å—å¹²æ‰°ã€‚ çµæ´»ä¸”æ˜“äºç†è§£çš„å‘½ä»¤è¡Œç•Œé¢å…è®¸æ‚¨æ§åˆ¶å’ŒæŸ¥è¯¢çª—å£ã€ç©ºé—´å’Œæ˜¾ç¤ºå™¨ï¼Œå®ç°ä¸è¯¸å¦‚â†— skhdç­‰å·¥å…·çš„å¼ºå¤§é›†æˆï¼Œä½¿æ‚¨èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°ä½¿ç”¨ macOSã€‚è½»æ¾åˆ›å»ºè‡ªå®šä¹‰å¿«æ·é”®æ¥æ§åˆ¶çª—å£ã€ç©ºé—´å’Œæ˜¾ç¤ºå™¨ï¼Œå‡ ä¹ä¸éœ€è¦æ—¶é—´ï¼Œè®©æ‚¨çš„åŒæ‰‹ç¦»å¼€é¼ æ ‡å’Œè§¦æ§æ¿ï¼Œå›åˆ°é”®ç›˜ä¸Šè¿›è¡Œå®é™…å·¥ä½œã€‚\nå¹³é“ºå¼ä¸å±‚å å¼çš„åŒºåˆ« å±‚å å¼çª—å£ç®¡ç†ï¼ˆStacking Window Managerï¼‰ä¸å¹³é“ºå¼çª—å£ç®¡ç†ï¼ˆTiling Window Managerï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„è®¡ç®—æœºæ¡Œé¢ç¯å¢ƒä¸­çš„çª—å£ç®¡ç†æ–¹å¼ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºå¦‚ä½•ç»„ç»‡å’Œæ˜¾ç¤ºæ‰“å¼€çš„åº”ç”¨ç¨‹åºçª—å£ã€‚ å±‚å å¼çª—å£ç®¡ç†ï¼š\næ¦‚å¿µï¼šå±‚å å¼çª—å£ç®¡ç†å™¨å°†æ‰“å¼€çš„çª—å£ä»¥å±‚å æˆ–é‡å çš„å½¢å¼æ˜¾ç¤ºåœ¨æ¡Œé¢ä¸Šï¼Œå°±åƒæ‘†æ”¾åœ¨æ¡Œå­ä¸Šçš„çº¸å¼ ä¸€æ ·ã€‚è¿™æ˜¯è®¸å¤šä¼ ç»Ÿæ¡Œé¢ç¯å¢ƒçš„é»˜è®¤çª—å£ç®¡ç†æ–¹å¼ï¼Œå¦‚ Microsoft Windows å’Œ Apple macOSã€‚ çµæ´»æ€§ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±ç§»åŠ¨ã€ç¼©æ”¾å’Œé‡å çª—å£ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´çª—å£çš„ä½ç½®å’Œå¤§å°ã€‚ çª—å£åˆ‡æ¢ï¼šç”¨æˆ·å¯èƒ½éœ€è¦é¢‘ç¹åˆ‡æ¢çª—å£æˆ–å°†çª—å£æœ€å°åŒ–ä»¥æŸ¥çœ‹å…¶ä»–çª—å£ã€‚åœ¨å¤šä»»åŠ¡æƒ…å†µä¸‹ï¼Œå¯èƒ½å¯¼è‡´æ¡Œé¢æ··ä¹±ã€‚ ç©ºé—´åˆ©ç”¨ï¼šå±‚å å¼çª—å£ç®¡ç†å¯èƒ½æ— æ³•å……åˆ†åˆ©ç”¨å±å¹•ç©ºé—´ï¼Œç‰¹åˆ«æ˜¯å½“ç”¨æˆ·æ‰“å¼€å¤§é‡çª—å£æ—¶ã€‚ å¹³é“ºå¼çª—å£ç®¡ç†ï¼š\næ¦‚å¿µï¼šå¹³é“ºå¼çª—å£ç®¡ç†å™¨ä¼šå°†æ‰“å¼€çš„çª—å£ä»¥éé‡å çš„æ–¹å¼è‡ªåŠ¨æ’åˆ—åœ¨æ¡Œé¢ä¸Šã€‚æ¯ä¸ªçª—å£éƒ½è¢«åˆ†é…ä¸€ä¸ªå›ºå®šçš„å±å¹•åŒºåŸŸï¼Œè¿™ä½¿å¾—æ‰€æœ‰çª—å£éƒ½å¯ä»¥åŒæ—¶æ˜¾ç¤ºï¼Œæ— éœ€é‡å æˆ–æœ€å°åŒ–ã€‚ä¸€äº›æµè¡Œçš„å¹³é“ºå¼çª—å£ç®¡ç†å™¨åŒ…æ‹¬ i3ã€xmonad å’Œ dwmã€‚ ç©ºé—´åˆ©ç”¨ï¼šå¹³é“ºå¼çª—å£ç®¡ç†å™¨é€šå¸¸æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å±å¹•ç©ºé—´ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šä»»åŠ¡å’Œå¤šæ˜¾ç¤ºå™¨è®¾ç½®ä¸­ã€‚ é”®ç›˜é©±åŠ¨ï¼šè®¸å¤šå¹³é“ºå¼çª—å£ç®¡ç†å™¨ä¸»è¦ä¾èµ–é”®ç›˜å¿«æ·é”®æ¥æ“ä½œï¼Œè¿™å¯¹äºå–œæ¬¢ä½¿ç”¨é”®ç›˜çš„é«˜æ•ˆç”¨æˆ·æ¥è¯´å¯èƒ½æ›´åŠ æ–¹ä¾¿ã€‚ å­¦ä¹ æ›²çº¿ï¼šå¹³é“ºå¼çª—å£ç®¡ç†å™¨é€šå¸¸å…·æœ‰è¾ƒé«˜çš„å­¦ä¹ æ›²çº¿ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½éœ€è¦ç”¨æˆ·å­¦ä¹ æ–°çš„æ“ä½œä¹ æƒ¯å’Œå¿«æ·é”®ã€‚åŒæ—¶ï¼Œå®ƒä»¬é€šå¸¸æä¾›é«˜åº¦çš„å¯å®šåˆ¶æ€§ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„éœ€æ±‚å’Œå–œå¥½è¿›è¡Œè°ƒæ•´ã€‚ å®‰è£…yabai å¯ä»¥é€šè¿‡ Homebrew çš„è½¯ä»¶æº koekeishiya/formulae å®‰è£… yabai çš„ç»è¿‡ä»£ç ç­¾åçš„äºŒè¿›åˆ¶ç‰ˆæœ¬\nbrew install koekeishiya/formulae/yabai å¯åŠ¨yabaiæœåŠ¡\nå¼¹å‡ºAccessibilityæƒé™ç”³è¯·çš„çª—å£\nå¼€å¯yabaiçš„Accessibilityæƒé™å³å¯\nå¯åŠ¨åä½ ä¼šå‘ç°æ²¡æœ‰ä»»ä½•ä¸åŒï¼Œè¿™æ˜¯å› ä¸º yabai éœ€è¦æˆ‘ä»¬æœ‰å¯¹åº”çš„ .yabairc é…ç½®æ–‡ä»¶æ‰ä¼šç”Ÿæ•ˆï¼Œé»˜è®¤æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼Œä¹Ÿå°±æ˜¯ yabai ä¸ä¼šåšä»»ä½•å¤„ç†ã€‚\né…ç½®yabai æˆ‘ä»¬éœ€è¦åœ¨ HOME ç›®å½•ä¸‹ç”Ÿæˆ .yabairc å¹¶å¢åŠ å¯æ‰§è¡Œæƒé™ï¼Œç„¶åé€šè¿‡ brew services restart yabai é‡æ–°å¯åŠ¨ yabai å³å¯è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆã€‚ yabai é…ç½®æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç”¨ man yabai å’Œ å¯¹ç…§ç€çœ‹ï¼Œå¯ä»¥å…ˆæ‹·è´æˆè‡ªå·±çš„ ~/.yabairc æ„Ÿå—ä¸€ä¸‹ã€‚\nä¸€é”®ä¸‹è½½é…ç½®æ–‡ä»¶ å¦‚æœä½ å«Œéº»çƒ¦å¯ä»¥ç›´æ¥ä¸‹è½½ç¤ºä¾‹é…ç½®æ–‡ä»¶\ncurl https://raw.githubusercontent.com/koekeishiya/yabai/master/examples/yabairc --output ~/.yabairc æ‰‹åŠ¨å®‰è£…é…ç½®æ–‡ä»¶ 1.ä½¿ç”¨vimé…ç½®~/.yabairc\nvim ~/.yabairc 2,ç²˜è´´exampleé…ç½®æ–‡ä»¶\n3.é‡å¯yabai\nbrew services restart yabai ç°åœ¨ä½ å°±ä¼šå‘ç°ï¼Œçª—å£å·²ç»æ˜¯å¹³é“ºå¼çš„äº†\nyabaiçš„å¯åŠ¨æ–¹å¼ yabaiä¸€ç›´åœ¨åå°è¿è¡Œï¼Œç”¨æˆ·ç™»é™†çš„æ—¶å€™ä¹Ÿä¼šè‡ªåŠ¨å¯åŠ¨\nbrew services start koekeishiya/formulae/yabai ä¸´æ—¶å¯åŠ¨\nyabai å¯ç”¨yabaiæ›´å¤šåŠŸèƒ½ å¦‚æœæˆ‘ä»¬å·²ç»ç¦ç”¨äº† Mac çš„ SIP System Integrity Protectionï¼Œåˆ™å¯ä»¥åœ¨å¯åŠ¨å‰å…ˆè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥å¯ç”¨æ›´å¤š yabai çš„åŠŸèƒ½ï¼›ä½†ä¹Ÿä¼šè®©ç³»ç»Ÿå˜å¾—ç›¸å¯¹ä¸å®‰å…¨ï¼š å…³äºå¦‚ä½•ç¦ç”¨SIPå¯ä»¥ç½‘ä¸Šæœç´¢ç›¸å…³æ–‡ç« ï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·ä½¿ç”¨OpenCore Legacy Patcherå®‰è£…çš„macOS å¯ä»¥çœ‹æˆ‘å†™çš„(æ–‡ç« )[https://blog.erratas.cloud/index.php/2023/04/10/opencore-legacy-patcher%e5%85%b3%e9%97%adsip%e4%bf%9d%e6%8a%a4%f0%9f%94%92/\\]æ¥å…³é—­SIPä¿æŠ¤\n# å®‰è£…è„šæœ¬é™„åŠ ç»„ä»¶ sudo yabai --install-sa # å¦‚æœä½¿ç”¨çš„æ˜¯ macOS Big Sur æˆ– Montereyï¼Œè¯·æ‰‹åŠ¨åŠ è½½è„šæœ¬é™„åŠ ç»„ä»¶ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹è¯´æ˜åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åŒ– sudo yabai --load-sa ç”±äºyabaiä½¿ç”¨macOS Mach APIå°†ä»£ç æ³¨å…¥Dock.app;è¿™éœ€è¦æå‡ (root) æƒé™ã€‚å› æ­¤å¯ä»¥é…ç½®ç”¨æˆ·ä»¥rootèº«ä»½æ‰§è¡Œyabai \u0026ndash;load-sa è€Œæ— éœ€è¾“å…¥å¯†ç ã€‚ä¸ºæ­¤éœ€è¦æ·»åŠ ä¸€ä¸ª_/etc/sudoers_åŠ è½½çš„æ–°é…ç½®æ¡ç›® åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶è¿›è¡Œç¼–å†™ - visudo é»˜è®¤ä½¿ç”¨ vim ç¼–è¾‘å™¨\nsudo visudo -f /private/etc/sudoers.d/yabai å°†ä¸‹é¢çš„è¡Œè¾“å…¥åˆ°ä½ æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶ä¸­ã€‚ å°† æ›¿æ¢ä¸º yabai äºŒè¿›åˆ¶æ–‡ä»¶çš„è·¯å¾„ï¼ˆè¾“å‡ºç»“æœï¼šwhich yabaiï¼‰ã€‚ å°† æ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·åï¼ˆè¾“å‡ºç»“æœï¼šwhoamiï¼‰ã€‚ å°† æ›¿æ¢ä¸º yabai äºŒè¿›åˆ¶æ–‡ä»¶çš„ sha256 å“ˆå¸Œå€¼ï¼ˆè¾“å‡ºç»“æœï¼šshasum -a 256 $(which yabai)ï¼‰ã€‚ è¿è¡Œ brew upgrade åå¿…é¡»æ‰‹åŠ¨æ›´æ–°æ­¤å“ˆå¸Œå€¼ã€‚\n\u0026lt;user\u0026gt; ALL=(root) NOPASSWD: sha256:\u0026lt;hash\u0026gt; \u0026lt;yabai\u0026gt; --load-sa ä¾‹å¦‚\neitan ALL=(root) NOPASSWD: sha256:740b9e6aab46f8c499f0fc651ae1861d4ebe48b6e6a50296bf4a9ad879bbad93 /usr/local/bin/yabai --load-sa å®Œæˆä¸Šè¿°ç¼–è¾‘åï¼Œåœ¨ yabairc é…ç½®æ–‡ä»¶é¡¶éƒ¨æ·»åŠ åŠ è½½è„šæœ¬çš„å‘½ä»¤\nyabai -m signal --add event=dock_did_restart action=\u0026#34;sudo yabai --load-sa\u0026#34; sudo yabai --load-sa å®Œæˆä¹‹åé‡å¯yabai\nbrew services restart yabai å®‰è£…å¹¶é…ç½®skhd é…ç½®å¥½äº† yabai åï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†æ™ºèƒ½åˆ†å±ï¼Œä½†æ˜¯æœ‰æ—¶å€™ç®—æ³•æä¾›çš„çª—å£ä½ç½®ä¸æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ–æ˜¯æˆ‘ä»¬éœ€è¦é¢‘ç¹åœ¨å„ä¸ªçª—å£ä¹‹é—´åˆ‡æ¢/è°ƒæ•´ï¼Œé‚£å°±éœ€è¦ç”¨åˆ° skhd å·¥å…·æ¥å®šåˆ¶ä¸€äº›å¿«æ·é”®é…ç½®ã€‚\nå®‰è£…skhd brew install koekeishiya/formulae/skhd ä¸‹è½½skhdé…ç½®æ–‡ä»¶ åŒæ ·çš„ï¼Œå’Œ yabai ä¸€æ ·ï¼Œskhd éœ€è¦æœ‰ ~/.skhd æ‰ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä»¥çœ‹çœ‹ å­¦ä¹ ä¸€ä¸‹ã€‚ ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸€é”®ä¸‹è½½é…ç½®æ–‡ä»¶\ncurl https://raw.githubusercontent.com/koekeishiya/yabai/master/examples/skhdrc --output ~/.skhdrc å¯åŠ¨skhd brew services start skhd åŒæ ·ç¬¬ä¸€æ¬¡å¯åŠ¨ skhd å’Œ yabai ä¸€æ ·ï¼ŒmacOS ä¼šæç¤ºæ˜¯å¦å…è®¸ä¸¤è€…è®¿é—®è¾…åŠ©åŠŸèƒ½ã€‚åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­æ·»åŠ æƒé™åï¼Œå†é‡å¯ä¸€æ¬¡ skhd å³å¯æ­£å¸¸å·¥ä½œ\né‡å¯skhd\nbrew services restart skhd å¦å¤–å†åˆ†äº«ä¸¤ä¸ª skhd åˆé…ç½®æ—¶å¯èƒ½æœ‰ç”¨çš„ä¸œè¥¿ï¼š\nå¦‚æœ.skhdrcæœ‰éƒ¨åˆ†é…ç½®å­˜åœ¨æ— æ³•è¿è¡Œï¼Œé‚£ä¹ˆæ•´ä¸ª.skhdrcéƒ½ä¸ä¼šç”Ÿæ•ˆ æˆ‘ä»¬å¯ä»¥å…ˆæ‰‹åŠ¨åœæ­¢ skhdï¼ˆbrew services stop skhdï¼‰ï¼Œç„¶ååœ¨ç»ˆç«¯è¿è¡Œ skhd -V æˆ–è€… skhd --verboseï¼Œè¿™ä¼šåŠ è½½ .skhdrc å¹¶è¾“å‡ºå¯¹åº” debug ä¿¡æ¯ã€‚ å¦‚æœæœ‰ä¸æ­£ç¡®æˆ–è€…æ— æ³•è¿è¡Œçš„ï¼Œskhd ä¾¿ä¼šè¾“å‡ºå¹¶æç¤ºï¼ˆå¦‚ä¸‹å›¾ï¼‰ skhd é…ç½®æ—¶ï¼Œæœ‰äº›é”®ä½æˆ‘ä»¬ä¸çŸ¥é“å¦‚ä½•è¡¨ç¤º å¯ä»¥åœ¨ç»ˆç«¯è¿è¡Œ skhd --observe æŸ¥çœ‹é”®ç›˜ä¸Šå¯¹åº”æŒ‰é”®åœ¨ skhd ä¸­å¯¹åº”çš„ç¼–ç ï¼Œä¾‹å¦‚ä¸‹é¢ç”¨ 0x24 è¡¨ç¤ºå›è½¦ ## full screen / un-full screen(åˆ‡æ¢çª—å£å…¨å±) 0x24 è¡¨ç¤ºå›è½¦ ctrl + alt - 0x24 : yabai -m window --toggle zoom-fullscreen å®‰è£…jq jq æ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”çµæ´»çš„å‘½ä»¤è¡Œ JSON æ•°æ®å¤„ç†å·¥å…·ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ è§£æã€è¿‡æ»¤ã€æŸ¥è¯¢å’Œæ“ä½œ JSON æ•°æ®ã€‚ä½¿ç”¨ jqï¼Œä½ å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­å¯¹ JSON æ•°æ®æ‰§è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚æå–ç‰¹å®šå­—æ®µã€è¿‡æ»¤æ•°ç»„å…ƒç´ æˆ–è½¬æ¢æ•°æ®æ ¼å¼ç­‰ é€šè¿‡å®ƒæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œä¸€äº› yabai çš„ç›¸å…³é…ç½®ï¼Œä¾‹å¦‚å½“å‰æˆ‘ä½¿ç”¨çš„ã€Œå¿«é€Ÿå…³é—­å½“å‰çª—å£ã€\n## Close active application (å¿«é€Ÿå…³é—­çª—å£) ctrl + alt - backspace : $(yabai -m window $(yabai -m query --windows --window jq -re \u0026#34;.id\u0026#34;) --close) å®‰è£…jq\nbrew install jq .yabairc å’Œ .skhdrcé…ç½®æ–‡ä»¶ .yabairc #!/usr/bin/env sh # å¦‚æœæ²¡æœ‰å…³é—­ Mac çš„ SIPï¼Œé‚£ä¹ˆåœ¨ BigSur åŠä»¥ä¸Šçš„ç³»ç»Ÿä¸­ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶åï¼Œéœ€è¦æ‰‹åŠ¨åŠ è½½è¿‡é…ç½®æ–‡ä»¶ # - https://github.com/koekeishiya/yabai/wiki/Installing-yabai-(latest-release) # å¦‚æœå·²ç»å…³é—­ Mac çš„ SIPï¼Œé‚£ä¹ˆé€šè¿‡ä¸‹é¢å‘½ä»¤å°±å¯ä»¥è®© yabai çš„é…ç½®æ–‡ä»¶çƒ­æ›´æ–°äº† # sudo yabai --load-sa # ä¹Ÿå¯ä»¥åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸­å¢åŠ è¿™å¥ï¼Œè¿™æ ·æ¯æ¬¡é‡å¯ç³»ç»Ÿæ—¶ä¸ç”¨è‡ªå·±è¾“å…¥ # yabai -m signal --add event=dock_did_restart action=\u0026#34;sudo yabai --load-sa\u0026#34; # ------------------------------------------------------------------------------------- # # ------------------------------global settings---------------------------------------- # # ------------------------------------------------------------------------------------- # # åœ¨å¤šæ˜¾ç¤ºå™¨æƒ…å†µä¸‹ï¼Œæ–°å»ºçš„çª—å£é»˜è®¤åœ¨**å“ªä¸ªæ˜¾ç¤ºå™¨**å‡ºç° # - default: åœ¨åˆ›å»ºçª—å£çš„æ˜¾ç¤ºå™¨å‡ºç°ï¼ˆmac çš„é»˜è®¤è¡Œä¸ºï¼‰ # - focused: åœ¨å½“å‰èšç„¦çš„æ˜¾ç¤ºå™¨å‡ºç° # - cursor: åœ¨é¼ æ ‡æŒ‡é’ˆæ‰€åœ¨çš„æ˜¾ç¤ºå™¨å‡ºç° yabai -m config window_origin_display default # å½“å‰å±å¹•ä¸‹ï¼Œæ–°çª—å£çš„å‡ºç°åœ¨**å±å¹•çš„å“ªä¸ªä½ç½®** # - first_child: ï¼ˆçˆ¶èŠ‚ç‚¹æ¨¡å¼ï¼‰å¦‚æœå½“å‰æ˜¯ vertical splitï¼Œåˆ™å‡ºç°åœ¨*å·¦ä¾§*ï¼›å¦‚æœæ˜¯ horizontal splitï¼Œåˆ™å‡ºç°åœ¨*ä¸Šæ–¹* # - second_child: ï¼ˆå­èŠ‚ç‚¹æ¨¡å¼ï¼‰å¦‚æœå½“å‰æ˜¯ vertical splitï¼Œåˆ™å‡ºç°åœ¨*å³ä¾§*ï¼›å¦‚æœæ˜¯ horizontal splitï¼Œåˆ™å‡ºç°åœ¨*ä¸‹æ–¹* yabai -m config window_placement second_child # æµ®åŠ¨çª—å£æ˜¯å¦ç½®é¡¶ yabai -m config window_topmost on # çª—å£é˜´å½±å€¼ # - on: æ€»æ˜¯å±•ç¤º # - off: æ€»æ˜¯å…³é—­ # - float: åªæœ‰æµ®åŠ¨çª—å£å±•ç¤º yabai -m config window_shadow on # çª—å£ä¸é€æ˜ # - on: æ€»æ˜¯å±•ç¤º # - off: æ€»æ˜¯å…³é—­ yabai -m config window_opacity off # *æ¿€æ´»*çª—å£çš„ä¸é€æ˜åº¦ï¼ˆä»…å½“ window_opacity on æ—¶æ‰æœ‰æ•ˆï¼‰ yabai -m config active_window_opacity 1.0 # *æ™®é€š*çª—å£ä¸é€æ˜åº¦ï¼ˆä»…å½“ window_opacity on æ—¶æ‰æœ‰æ•ˆï¼‰ yabai -m config normal_window_opacity 0.90 # æ¿€æ´»çª—å£å’Œæ™®é€šçª—å£åˆ‡æ¢æ—¶ï¼Œ*ä¸é€æ˜åº¦çš„è¿‡æ¸¡æ—¶é—´*ï¼ˆä»…å½“ window_opacity on æ—¶æ‰æœ‰æ•ˆï¼‰ yabai -m config window_opacity_duration 0.0 # çª—å£è¾¹æ¡† # - on: æ€»æ˜¯å±•ç¤º # - off: æ€»æ˜¯å…³é—­ yabai -m config window_border off # çª—å£*è¾¹æ¡†å®½åº¦*ï¼ˆå•ä½ pxï¼‰ yabai -m config window_border_width 6 # æ¿€æ´»çª—å£çš„è¾¹æ¡†é¢œè‰² yabai -m config active_window_border_color 0xff775759 # æ™®é€šçª—å£çš„è¾¹æ¡†é¢œè‰² yabai -m config normal_window_border_color 0xff555555 yabai -m config insert_feedback_color 0xffd75f5f # æ‰€æœ‰çª—å£éƒ½ä½¿ç”¨ç›¸åŒæ¯”ä¾‹çš„ç©ºé—´ # - on: æ€»æ˜¯å¼€å¯ # - off: æ€»æ˜¯å…³é—­ yabai -m config auto_balance on # åˆ†å±å*æ—§:æ–°*çª—å£çš„æ¯”ä¾‹ï¼ˆä»…å½“ auto_balance off æ—¶æœ‰æ•ˆï¼‰ yabai -m config split_ratio 0.50 # ==================================================== # # ====================é¼ æ ‡ç›¸å…³======================== # # ==================================================== # # çª—å£åˆ‡æ¢æ—¶ï¼Œé¼ æ ‡è‡ªåŠ¨ç§»åŠ¨åˆ°å½“å‰ä½¿ç”¨çª—å£çš„ä¸­å¿ƒ # - on: æ€»æ˜¯å¼€å¯ # - off: æ€»æ˜¯å…³é—­ yabai -m config mouse_follows_focus off # æ˜¯å¦è‡ªåŠ¨èšç„¦åˆ°é¼ æ ‡æ‰€åœ¨çª—å£ # - off: æ€»æ˜¯å…³é—­ # - autoraise: # - autofocus: yabai -m config focus_follows_mouse off # æŒ‰ä½å¯¹åº”ä¿®é¥°é”®æ—¶ï¼Œyabai ä¸è‡ªåŠ¨è°ƒæ•´å¹³é“ºï¼ˆé»˜è®¤æƒ…å†µä¸‹è°ƒæ•´çª—å£å¤§å°æ—¶ï¼Œyabai ä¼šè‡ªé€‚åº”è°ƒæ•´å¹³é“ºï¼‰ï¼›é…ç½®æ—¶é€šå¸¸ä¼šå…³é—­ focus_follows_mouse # - cmd # - alt # - shift # - ctrl # - fn yabai -m config mouse_modifier fn # modifier + å·¦é”®çš„è¡Œä¸º # - move # - resize yabai -m config mouse_action1 move # modifier + å³é”®çš„è¡Œä¸º # - move # - resize yabai -m config mouse_action2 resize # åœ¨å¹³é“ºç®¡ç†æƒ…å†µä¸‹ï¼Œæ‹–åŠ¨ä¸€ä¸ªçª—å£åˆ°å¦ä¸€çª—å£ä½ç½®æ—¶çš„æ“ä½œ # - swap: äº¤æ¢çª—å£ä½ç½® # - stack: å †å åœ¨æ—§çª—å£ä¸Š yabai -m config mouse_drop_action swap # ------------------------------------------------------------------------------------- # # ---------------------------general space settings------------------------------------ # # ------------------------------------------------------------------------------------- # # yabai å¸ƒå±€æ¨¡å¼ # - bsp: å¹³é“º # - stack: å †å  # - float: æµ®åŠ¨ yabai -m config layout bsp # çª—å£å’Œå±å¹•è¾¹ç¼˜çš„è·ç¦»ï¼ˆä¼˜å…ˆçº§ä½äº gapï¼‰ yabai -m config top_padding 08 yabai -m config bottom_padding 08 yabai -m config left_padding 08 yabai -m config right_padding 08 # çª—å£ä¸çª—å£ä¹‹é—´çš„é—´è·ï¼ˆä¼˜å…ˆçº§é«˜äº paddingï¼‰ yabai -m config window_gap 05 # ------------------------------------------------------------------------------------- # # ---------------------------------specific apps--------------------------------------- # # ------------------------------------------------------------------------------------- # # manage: æ˜¯å¦ä½¿ç”¨ yabai ç®¡ç† # - on # - off # sticky: æ˜¯å¦æ€»æ˜¯ç½®é¡¶ # - on # - off # layer: # - below # - normal # - above yabai -m rule --add app=\u0026#34;^System Preferences$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^System Information$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Activity Monitor$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Finder$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Alfred Preferences$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^é£ä¹¦$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Feishu$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Lark$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Lark Meetings$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Seal$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^AppCleaner$\u0026#34; sticky=off layer=above manage=off yabai -m rule --add app=\u0026#34;^Karabiner-Elements$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Karabiner-EventViewer$\u0026#34; sticky=on layer=above manage=off yabai -m rule --add app=\u0026#34;^Things$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Spotify$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Bartender 4$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^BetterTouchTool$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Magnet$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^WeChat$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^å¾®ä¿¡$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^QQ$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Clash for Windows$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^CleanMyMac X$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^PicGo$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^OpenCore-Patcher$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^ToDesk$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Bandizip$\u0026#34; manage=off yabai -m rule --add app=\u0026#34;^Archive Utility$\u0026#34; manage=off echo \u0026#34;yabai configuration loaded..\u0026#34; .skhdrc #SKHD STUFF # if you\u0026#39;re having troubles finding key codes for a key just type skhd --observe in a terminal and type a key. Pretty cool! Or just check the wiki. ## HYPER == SHIFT + CMD + ALT + OPTION ### ============================================================================ ### ### Eitan\u0026#39;s Settings ### ### ============================================================================ ### # open terminal cmd - return : /Applications/Warp.app/Contents/MacOS/stable --single-instance -d ~ \u0026amp;\u0026gt; /dev/null ## Close active application (å¿«é€Ÿå…³é—­çª—å£) ctrl + alt - backspace : $(yabai -m window $(yabai -m query --windows --window jq -re \u0026#34;.id\u0026#34;) --close) ## Equalize size of windows (å¹³é“ºå½“å‰ç•Œé¢æ‰€æœ‰çª—å£) ctrl + alt - 0 : yabai -m space --balance ## focus window (åˆ‡æ¢çª—å£ç„¦ç‚¹) alt - x : yabai -m window --focus recent alt - h : yabai -m window --focus west alt - j : yabai -m window --focus south alt - k : yabai -m window --focus north alt - l : yabai -m window --focus east alt - z : yabai -m window --focus stack.prev alt - c : yabai -m window --focus stack.next ## swap window \u0026amp; move window in floating mode (äº¤æ¢çª—å£) shift + alt - x : yabai -m window --swap recent shift + alt - k : yabai -m window --swap north shift + alt - j : yabai -m window --swap south shift + alt - h : yabai -m window --swap west shift + alt - l : yabai -m window --swap east # move window (å¯åŠ¨çª—å£) shift + cmd - h : yabai -m window --warp west shift + cmd - j : yabai -m window --warp south shift + cmd - k : yabai -m window --warp north shift + cmd - l : yabai -m window --warp east ## Rotate windows clockwise and anticlockwise (æ—‹è½¬çª—å£) ctrl + alt - e : yabai -m space --rotate 90 ctrl + alt - r : yabai -m space --rotate 270 ## float / Unfloat window (åˆ‡æ¢çª—å£æµ®åŠ¨) ctrl + alt - space : yabai -m window --toggle float ; yabai -m window --grid 12:12:1:1:9:9 ## full screen / un-full screen(åˆ‡æ¢çª—å£å…¨å±) 0x24 è¡¨ç¤ºå›è½¦ ctrl + alt - 0x24 : yabai -m window --toggle zoom-fullscreen # toggle picture-in-picture(å¯ç”¨ç”»ä¸­ç”») alt - p : yabai -m window --toggle border --toggle pip ## window resize ctrl + shift + alt - k : yabai -m window --resize top:0:-20 yabai -m window --resize bottom:0:-20 ctrl + shift + alt - j : yabai -m window --resize top:0:20 yabai -m window --resize bottom:0:20 ctrl + shift + alt - h : yabai -m window --resize left:-20:0 yabai -m window --resize right:-20:0 ctrl + shift + alt - l : yabai -m window --resize right:20:0 yabai -m window --resize left:20:0 ## send window to next monitor and follow focus (å°†çª—å£å‘é€åˆ°å¦ä¸€ä¸ªæ˜¾ç¤ºå™¨) ctrl + alt - left : sh ~/.config/dotfiles/yabai/script/move_window_to_left.sh display ctrl + alt - right : sh ~/.config/dotfiles/yabai/script/move_window_to_right.sh display ## åˆ›å»ºæ¡Œé¢ã€ç§»åŠ¨çª—å£å’Œè·Ÿéšç„¦ç‚¹ - ä½¿ç”¨ jq è§£æ JSONï¼ˆbrew install jqï¼‰ shift + alt - n : yabai -m space --create \u0026amp;\u0026amp; \\ index=\u0026#34;$(yabai -m query --spaces --display jq \u0026#39;map(select(.\u0026#34;native-fullscreen\u0026#34; == 0))[-1].index\u0026#39;)\u0026#34; \u0026amp;\u0026amp; \\ yabai -m space --focus \u0026#34;${index}\u0026#34; ","permalink":"https://EitanWong.github.io/en/posts/other/yabai-mac%E4%B8%8B%E7%9A%84%E5%B9%B3%E9%93%BA%E5%BC%8F%E7%AA%97%E5%8F%A3%E7%AE%A1%E7%90%86%E7%A5%9E%E5%99%A8/","summary":"å‰è¨€ğŸ’¬ æœ€è¿‘æ—¥å¸¸ä½¿ç”¨çš„è½¯ä»¶é€æ¸å¢å¤šï¼Œç›®å‰å¤šæ•°äººå¸¸ç”¨çš„çš„å±‚å å¼çª—å£ç®¡ç†ï¼Œä¼¼ä¹å¼€å§‹ä¸é€‚åˆæˆ‘çš„æ—¥å¸¸ä½¿ç”¨ æ‰€ä»¥æˆ‘å†³å®šæŠ˜è…¾ä¸€ä¸‹macä¸‹çš„å¹³é“ºå¼çª—å£ç®¡ç†è½¯ä»¶yabai ä»€ä¹ˆæ˜¯yabai yabai æ˜¯ä¸€æ¬¾é€‚ç”¨äº macOS Big Sur 11.0.1+ å’Œ Monterey 12.0.0+ çš„å¹³é“ºå¼çª—å£ç®¡ç†å™¨ã€‚ å®ƒä½¿ç”¨äºŒå‰ç©ºé—´åˆ†å‰²ç®—æ³•è‡ªåŠ¨ä¿®æ”¹æ‚¨çš„çª—å£å¸ƒå±€ï¼Œä½¿æ‚¨èƒ½å¤Ÿä¸“æ³¨äºçª—å£å†…å®¹","title":"yabai-MacğŸğŸ’»ä¸‹çš„å¹³é“ºå¼çª—å£ç®¡ç†ç¥å™¨"},{"content":"å‰è¨€ğŸ’¬ ä¹‹å‰åœ¨macå¹³å°ä¸Šä½¿ç”¨Unityï¼Œä½¿ç”¨Riderä½œä¸ºIDEè¿›è¡Œå¼€å‘ï¼Œæœ‰ä¸€è¯´ä¸€Riderçš„åŠŸèƒ½è¿˜æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œä½†æ˜¯åœ¨æˆ‘çš„è€æ¬¾MacBookä¸Šè·‘å°±æœ‰ç‚¹ç¬¨é‡äº†ï¼Œæ‰€ä»¥æœ€è¿‘å†³å®šæ¢åˆ°VSCodeè¿›è¡Œå¼€å‘\nå¼€å‘ç¯å¢ƒé…ç½® é¦–å…ˆå½“ç„¶æ˜¯è¦å®‰è£… äº† å®‰è£…å®ŒæˆVSCodeä¹‹å éœ€è¦å®‰è£….Net Coreè¿è¡Œç¯å¢ƒ è¿˜éœ€è¦å†å®‰è£… çš„ç¯å¢ƒ å»ºè®®å» ä¸‹è½½\nUnityé¡¹ç›®ä¸­å®‰è£…Visual Studio Code Editor æ–°ç‰ˆæœ¬å½“ä¸­é»˜è®¤å°±å·²ç»å®‰è£…äº†ï¼Œæ‰€ä»¥è¯´ä¸€èˆ¬æ¥è¯´ä¸ç”¨å†æ‰‹åŠ¨å®‰è£… å¦‚æœæ²¡æœ‰å®‰è£…çš„è¯ï¼Œå¯ä»¥é€šè¿‡Window -\u0026gt; Package Managerå®‰è£…Visual Studio Code Editor\næ¥ç€åœ¨Preferences-\u0026gt;External Tools è®¾ç½®External Script Editorä¸ºVisual Studio Code\nVSCodeé…ç½® å®‰è£…C#æ’ä»¶\nå®‰è£…Unityç›¸å…³çš„VSCodeæ‰©å±•æ’ä»¶ï¼ŒDebugger for Unity è¿˜æœ‰ Unity Code Snippets\nä»¥åŠC#XML Documentation Commentsï¼Œè¿™ä¸ªæ’ä»¶å¯ä»¥å¸®åŠ©ç”Ÿæˆæ–¹æ³•çš„æ³¨é‡Šæ–‡æ¡£\næ¨èä¸€ä¸ªä¸»é¢˜Halcyonï¼Œæ„Ÿè§‰å¾ˆä¸é”™ï¼Œæ¨èå®‰è£…\næ‰“å¼€VSCodeçš„Settings 1.è®¾ç½®Mono Path\n/Library/Frameworks/Mono.framework/Versions/Current å°†telemetry Level è®¾ç½®ä¸ºoffï¼Œè¿™æ ·å¯ä»¥ç¦æ­¢å‘é€ä¸€äº›åˆ†ææŠ¥å‘Šç»™å¾®è½¯\nå¯ä»¥å°†inlay hintsè®¾ç½®ä¸ºonï¼Œè¿™æ ·å¯ä»¥åœ¨å†™åƒc#è¿™æ ·çš„ä»£ç çš„å‡½æ•°æ—¶å€™ç›´æ¥åœ¨VSCodeä¸Šæç¤ºæœ‰å¤šå°‘ä¸ªå¼•ç”¨ï¼Œä»¥åŠä¸€äº›å‚æ•°å¼•ç”¨çš„æç¤º\nwordwrapè®¾ç½®æ–‡å­—çš„æ¢è¡Œ Word Wrap Columnè®¾ç½®æœ€å¤šä¸€è¡Œæ˜¾ç¤ºå¤šå°‘ä¸ªå­—ç¬¦ï¼Œä½ ä¹Ÿå¯ä»¥ä¿æŒé»˜è®¤80æˆ–è€…è‡ªå·±è®¾ç½®\nWrapping Indentè®¾ç½®æ¢è¡Œç¼©è¿›ï¼Œä»¥ä¾¿åœ¨æ¢è¡Œæ—¶ï¼Œå†å…¶å‘¨å›´ç¼©è¿›ä¸‹ä¸€è¡Œ\nå–æ¶ˆå‹¾é€‰Use Modern Net\nè‡³äºä¸ºä»€ä¹ˆè¦å–æ¶ˆå‹¾é€‰è¿™ä¸€é¡¹ï¼ŒOmniSharpå®˜æ–¹çš„è§£é‡Šæ˜¯â¬‡ï¸\nå®Œæˆè¿™äº›è®¾ç½®ä»¥åå…³é—­VSCodeå¹¶é‡æ–°å¯åŠ¨ï¼Œæ‰“å¼€Unityé¡¹ç›®å·¥ç¨‹å³å¯\n","permalink":"https://EitanWong.github.io/en/posts/other/macosvscodeunity%E7%9A%84%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E5%8F%8A%E8%B0%83%E8%AF%95/","summary":"å‰è¨€ğŸ’¬ ä¹‹å‰åœ¨macå¹³å°ä¸Šä½¿ç”¨Unityï¼Œä½¿ç”¨Riderä½œä¸ºIDEè¿›è¡Œå¼€å‘ï¼Œæœ‰ä¸€è¯´ä¸€Riderçš„åŠŸèƒ½è¿˜æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œä½†æ˜¯åœ¨æˆ‘çš„è€æ¬¾MacBookä¸Šè·‘å°±æœ‰ç‚¹ç¬¨é‡äº†ï¼Œæ‰€ä»¥æœ€è¿‘å†³å®šæ¢åˆ°VSCodeè¿›è¡Œå¼€å‘ å¼€å‘ç¯å¢ƒé…ç½® é¦–å…ˆå½“ç„¶æ˜¯è¦å®‰è£… äº† å®‰è£…å®ŒæˆVSCodeä¹‹å éœ€è¦å®‰è£….Net Coreè¿è¡Œç¯","title":"macOS+VSCode+Unityçš„å¼€å‘ç¯å¢ƒé…ç½®åŠè°ƒè¯•"},{"content":"æ­£åˆ™è¡¨è¾¾å¼ ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰æ˜¯ä¸€ç§ç”¨äºåŒ¹é…å’Œå¤„ç†æ–‡æœ¬æ¨¡å¼çš„å­—ç¬¦åºåˆ—ã€‚ å®ƒæ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬å¤„ç†å·¥å…·ï¼Œå¸¸ç”¨äºç¼–ç¨‹å’Œæ–‡æœ¬å¤„ç†ä»»åŠ¡ä¸­ï¼Œå¯ä»¥ç”¨æ¥æœç´¢ã€æ›¿æ¢ã€éªŒè¯å’Œæå–ç¬¦åˆç‰¹å®šæ¨¡å¼çš„æ–‡æœ¬ã€‚\nè¯­æ³• æ­£åˆ™è¡¨è¾¾å¼(regular expression)æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰\næ™®é€šå­—ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„æ™®é€šå­—ç¬¦æ˜¯æŒ‡ä¸å…¶æœ¬èº«å­—ç¬¦ä¸€ä¸€åŒ¹é…çš„å­—ç¬¦ï¼Œä¸å…·æœ‰ç‰¹æ®Šå«ä¹‰ æ™®é€šå­—ç¬¦åŒ…æ‹¬æ²¡æœ‰æ˜¾å¼æŒ‡å®šä¸ºå…ƒå­—ç¬¦çš„æ‰€æœ‰å¯æ‰“å°å’Œä¸å¯æ‰“å°å­—ç¬¦ã€‚è¿™åŒ…æ‹¬æ‰€æœ‰å¤§å†™å’Œå°å†™å­—æ¯ã€æ‰€æœ‰æ•°å­—ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·å’Œä¸€äº›å…¶ä»–ç¬¦å·ã€‚ ä¾‹å¦‚ç”¨jessonåŒ¹é…dsjessonjkdfjsWRFDd jessonFFEEGsddeed\nå­—ç¬¦\næè¿°\næ•ˆæœ\n[ABC]\nåŒ¹é… [\u0026hellip;] ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ [aeiou] åŒ¹é…å­—ç¬¦ä¸² \u0026ldquo;google runoob taobao\u0026rdquo; ä¸­æ‰€æœ‰çš„ e o u a å­—æ¯\n[^ABC]\nåŒ¹é…é™¤äº† [\u0026hellip;] ä¸­å­—ç¬¦çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¾‹å¦‚ [^aeiou] åŒ¹é…å­—ç¬¦ä¸² \u0026ldquo;google runoob taobao\u0026rdquo; ä¸­é™¤äº† e o u a å­—æ¯çš„æ‰€æœ‰å­—æ¯\n[A-Z]\n[A-Z] è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼ŒåŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯ï¼Œ[a-z] è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯\n.\nåŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\\nã€\\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œç›¸ç­‰äº [^\\n\\r]\n[\\s\\S]\nåŒ¹é…æ‰€æœ‰ã€‚\\s æ˜¯åŒ¹é…æ‰€æœ‰ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œï¼Œ\\S éç©ºç™½ç¬¦ï¼Œä¸åŒ…æ‹¬æ¢è¡Œ\n\\w\nåŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº [A-Za-z0-9_]\néæ‰“å°å­—ç¬¦ éæ‰“å°å­—ç¬¦ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ç»„æˆéƒ¨åˆ†ã€‚ä¸‹è¡¨åˆ—å‡ºäº†è¡¨ç¤ºéæ‰“å°å­—ç¬¦çš„è½¬ä¹‰åºåˆ—ï¼š\nå­—ç¬¦ æè¿° \\cx åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ \u0026lsquo;c\u0026rsquo; å­—ç¬¦ã€‚ \\f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \\x0c å’Œ \\cLã€‚ \\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \\x0a å’Œ \\cJã€‚ \\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \\x0d å’Œ \\cMã€‚ \\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [ \\f\\n\\r\\t\\v]ã€‚æ³¨æ„ Unicode æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…å…¨è§’ç©ºæ ¼ç¬¦ã€‚ \\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^ \\f\\n\\r\\t\\v]ã€‚ \\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x09 å’Œ \\cIã€‚ \\v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x0b å’Œ \\cKã€‚ ç‰¹æ®Šå­—ç¬¦ æ‰€è°“ç‰¹æ®Šå­—ç¬¦ï¼Œå°±æ˜¯ä¸€äº›æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œç®€å•çš„è¯´å°±æ˜¯è¡¨ç¤ºä»»ä½•å­—ç¬¦ä¸²çš„æ„æ€ã€‚å¦‚æœè¦æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­çš„ ***** ç¬¦å·ï¼Œåˆ™éœ€è¦å¯¹ ***** è¿›è¡Œè½¬ä¹‰ï¼Œå³åœ¨å…¶å‰åŠ ä¸€ä¸ª \\ï¼Œruno\\*ob åŒ¹é…å­—ç¬¦ä¸² runo*obã€‚ è®¸å¤šå…ƒå­—ç¬¦è¦æ±‚åœ¨è¯•å›¾åŒ¹é…å®ƒä»¬æ—¶ç‰¹åˆ«å¯¹å¾…ã€‚è‹¥è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦\u0026quot;è½¬ä¹‰\u0026quot;ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦\\ æ”¾åœ¨å®ƒä»¬å‰é¢ã€‚ä¸‹è¡¨åˆ—å‡ºäº†æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„ç‰¹æ®Šå­—ç¬¦ï¼š\nç‰¹åˆ«å­—ç¬¦ æè¿° $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œåˆ™ $ ä¹ŸåŒ¹é… ( ) æ ‡è®°ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚å­è¡¨è¾¾å¼å¯ä»¥è·å–ä¾›ä»¥åä½¿ç”¨ã€‚è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ( å’Œ )ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ *ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ +ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ã€‚è¦åŒ¹é… . ï¼Œè¯·ä½¿ç”¨ . ã€‚ [ æ ‡è®°ä¸€ä¸ªä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… [ï¼Œè¯·ä½¿ç”¨ [ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ï¼Œæˆ–æŒ‡æ˜ä¸€ä¸ªéè´ªå©ªé™å®šç¬¦ã€‚è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ ?ã€‚ \\ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºæˆ–ç‰¹æ®Šå­—ç¬¦ã€æˆ–åŸä¹‰å­—ç¬¦ã€æˆ–å‘åå¼•ç”¨ã€æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u0026rsquo;n\u0026rsquo; åŒ¹é…å­—ç¬¦ \u0026rsquo;n\u0026rsquo;ã€‚\u0026rsquo;\\n\u0026rsquo; åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— \u0026lsquo;\\\u0026rsquo; åŒ¹é… \u0026ldquo;\u0026quot;ï¼Œè€Œ \u0026lsquo;(\u0026rsquo; åˆ™åŒ¹é… \u0026ldquo;(\u0026quot;ã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œé™¤éåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨ï¼Œå½“è¯¥ç¬¦å·åœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ—¶ï¼Œè¡¨ç¤ºä¸æ¥å—è¯¥æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦é›†åˆã€‚è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ ^ã€‚ { æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è¦åŒ¹é… {ï¼Œè¯·ä½¿ç”¨ {ã€‚ | æŒ‡æ˜ä¸¤é¡¹ä¹‹é—´çš„ä¸€ä¸ªé€‰æ‹©ã€‚è¦åŒ¹é… é™å®šç¬¦ é™å®šç¬¦ç”¨æ¥æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºç°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…ã€‚æœ‰ ***** æˆ– + æˆ– ? æˆ– {n} æˆ– {n,} æˆ– {n,m} å…±6ç§ã€‚ æ­£åˆ™è¡¨è¾¾å¼çš„é™å®šç¬¦æœ‰ï¼š\nå­—ç¬¦ æè¿° * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ã€‚***** ç­‰ä»·äº {0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo+ èƒ½åŒ¹é… \u0026ldquo;zo\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo;ã€‚+ ç­‰ä»·äº {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œdo(es)? å¯ä»¥åŒ¹é… \u0026ldquo;do\u0026rdquo; ã€ \u0026ldquo;does\u0026rdquo;ã€ \u0026ldquo;doxy\u0026rdquo; ä¸­çš„ \u0026ldquo;do\u0026rdquo; å’Œ \u0026ldquo;does\u0026rdquo;ã€‚? ç­‰ä»·äº {0,1} {n} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œo{2} ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ oï¼Œä½†æ˜¯èƒ½åŒ¹é… \u0026ldquo;food\u0026rdquo; ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œo{2,} ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ oï¼Œä½†èƒ½åŒ¹é… \u0026ldquo;foooood\u0026rdquo; ä¸­çš„æ‰€æœ‰ oã€‚o{1,} ç­‰ä»·äº o+ã€‚o{0,} åˆ™ç­‰ä»·äº o*ã€‚ {n,m} m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­ n \u0026lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œo{1,3} å°†åŒ¹é… \u0026ldquo;fooooood\u0026rdquo; ä¸­çš„å‰ä¸‰ä¸ª oã€‚o{0,1} ç­‰ä»·äº o?ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ |\\* å’Œ \\+ é™å®šç¬¦éƒ½æ˜¯è´ªå©ªçš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…æ–‡å­—ï¼Œåªæœ‰åœ¨å®ƒä»¬çš„åé¢åŠ ä¸Šä¸€ä¸ª ? å°±å¯ä»¥å®ç°éè´ªå©ªæˆ–æœ€å°åŒ¹é… ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœç´¢ HTML æ–‡æ¡£ï¼Œä»¥æŸ¥æ‰¾åœ¨ h1 æ ‡ç­¾å†…çš„å†…å®¹ã€‚HTML ä»£ç å¦‚ä¸‹ï¼š\n\u0026lt;h1\u0026gt;RUNOOB-èœé¸Ÿæ•™ç¨‹\u0026lt;/h1\u0026gt; **è´ªå©ªï¼š**ä¸‹é¢çš„è¡¨è¾¾å¼åŒ¹é…ä»å¼€å§‹å°äºç¬¦å· (\u0026lt;) åˆ°å…³é—­ h1 æ ‡è®°çš„å¤§äºç¬¦å· (\u0026gt;) ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ã€‚\n/\u0026lt;.*\u0026gt;/ **éè´ªå©ªï¼š**å¦‚æœæ‚¨åªéœ€è¦åŒ¹é…å¼€å§‹å’Œç»“æŸ h1 æ ‡ç­¾ï¼Œä¸‹é¢çš„éè´ªå©ªè¡¨è¾¾å¼åªåŒ¹é… h1\n/\u0026lt;.*?\u0026gt;/ å®šä½ç¬¦ å®šä½ç¬¦ä½¿æ‚¨èƒ½å¤Ÿå°†æ­£åˆ™è¡¨è¾¾å¼å›ºå®šåˆ°è¡Œé¦–æˆ–è¡Œå°¾ã€‚å®ƒä»¬è¿˜ä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºè¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™äº›æ­£åˆ™è¡¨è¾¾å¼å‡ºç°åœ¨ä¸€ä¸ªå•è¯å†…ã€åœ¨ä¸€ä¸ªå•è¯çš„å¼€å¤´æˆ–è€…ä¸€ä¸ªå•è¯çš„ç»“å°¾ã€‚ å®šä½ç¬¦ç”¨æ¥æè¿°å­—ç¬¦ä¸²æˆ–å•è¯çš„è¾¹ç•Œï¼Œ^ å’Œ $ åˆ†åˆ«æŒ‡å­—ç¬¦ä¸²çš„å¼€å§‹ä¸ç»“æŸï¼Œ\\b æè¿°å•è¯çš„å‰æˆ–åè¾¹ç•Œï¼Œ\\B è¡¨ç¤ºéå•è¯è¾¹ç•Œã€‚ æ­£åˆ™è¡¨è¾¾å¼çš„å®šä½ç¬¦æœ‰ï¼š\nå­—ç¬¦ æè¿° ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ è¿˜ä¼šä¸ \\n æˆ– \\r ä¹‹åçš„ä½ç½®åŒ¹é…ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ è¿˜ä¼šä¸ \\n æˆ– \\r ä¹‹å‰çš„ä½ç½®åŒ¹é…ã€‚ \\b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½®ã€‚ \\B éå•è¯è¾¹ç•ŒåŒ¹é…ã€‚ æ³¨æ„ï¼šä¸èƒ½å°†é™å®šç¬¦ä¸å®šä½ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚ç”±äºåœ¨ç´§é æ¢è¡Œæˆ–è€…å•è¯è¾¹ç•Œçš„å‰é¢æˆ–åé¢ä¸èƒ½æœ‰ä¸€ä¸ªä»¥ä¸Šä½ç½®ï¼Œå› æ­¤ä¸å…è®¸è¯¸å¦‚ ^* ä¹‹ç±»çš„è¡¨è¾¾å¼ã€‚ è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬å¼€å§‹å¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹ä½¿ç”¨ ^ å­—ç¬¦ã€‚ä¸è¦å°† ^ çš„è¿™ç§ç”¨æ³•ä¸ä¸­æ‹¬å·è¡¨è¾¾å¼å†…çš„ç”¨æ³•æ··æ·†ã€‚ è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬çš„ç»“æŸå¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸå¤„ä½¿ç”¨ $ å­—ç¬¦ã€‚ è‹¥è¦åœ¨æœç´¢ç« èŠ‚æ ‡é¢˜æ—¶ä½¿ç”¨å®šä½ç‚¹ï¼Œä¸‹é¢çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¸€ä¸ªç« èŠ‚æ ‡é¢˜ï¼Œè¯¥æ ‡é¢˜åªåŒ…å«ä¸¤ä¸ªå°¾éšæ•°å­—ï¼Œå¹¶ä¸”å‡ºç°åœ¨è¡Œé¦–\nä¿®é¥°ç¬¦ æ ‡è®°ä¹Ÿç§°ä¸ºä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„æ ‡è®°ç”¨äºæŒ‡å®šé¢å¤–çš„åŒ¹é…ç­–ç•¥ã€‚ æ ‡è®°ä¸å†™åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œï¼Œæ ‡è®°ä½äºè¡¨è¾¾å¼ä¹‹å¤–ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\n/pattern/flags ä¸‹è¡¨åˆ—å‡ºäº†æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨çš„ä¿®é¥°ç¬¦ï¼š\nä¿®é¥°ç¬¦ å«ä¹‰ æè¿° i ignore - ä¸åŒºåˆ†å¤§å°å†™ å°†åŒ¹é…è®¾ç½®ä¸ºä¸åŒºåˆ†å¤§å°å†™ï¼Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™: A å’Œ a æ²¡æœ‰åŒºåˆ«ã€‚ g global - å…¨å±€åŒ¹é… æŸ¥æ‰¾æ‰€æœ‰çš„åŒ¹é…é¡¹ã€‚ m multi line - å¤šè¡ŒåŒ¹é… ä½¿è¾¹ç•Œå­—ç¬¦ ^ å’Œ $ åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å¤´å’Œç»“å°¾ï¼Œè®°ä½æ˜¯å¤šè¡Œï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾ã€‚ s ç‰¹æ®Šå­—ç¬¦åœ†ç‚¹ . ä¸­åŒ…å«æ¢è¡Œç¬¦ \\n é»˜è®¤æƒ…å†µä¸‹çš„åœ†ç‚¹ . æ˜¯åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼ŒåŠ ä¸Š s ä¿®é¥°ç¬¦ä¹‹å, . ä¸­åŒ…å«æ¢è¡Œç¬¦ \\nã€‚ å…ƒå­—ç¬¦ ä¸‹è¡¨åŒ…å«äº†å…ƒå­—ç¬¦çš„å®Œæ•´åˆ—è¡¨ä»¥åŠå®ƒä»¬åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ä¸­çš„è¡Œä¸ºï¼š\nå­—ç¬¦ æè¿° \\ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… \u0026lsquo;\\n\u0026rsquo; æˆ– \u0026lsquo;\\r\u0026rsquo; ä¹‹åçš„ä½ç½®ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ ä¹ŸåŒ¹é… \u0026lsquo;\\n\u0026rsquo; æˆ– \u0026lsquo;\\r\u0026rsquo; ä¹‹å‰çš„ä½ç½®ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ã€‚* ç­‰ä»·äº{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;zo+\u0026rsquo; èƒ½åŒ¹é… \u0026ldquo;zo\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo;ã€‚+ ç­‰ä»·äº {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;do(es)?\u0026rdquo; å¯ä»¥åŒ¹é… \u0026ldquo;do\u0026rdquo; æˆ– \u0026ldquo;does\u0026rdquo; ã€‚? ç­‰ä»·äº {0,1}ã€‚ {n} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;o{2}\u0026rsquo; ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ \u0026lsquo;o\u0026rsquo;ï¼Œä½†æ˜¯èƒ½åŒ¹é… \u0026ldquo;food\u0026rdquo; ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;o{2,}\u0026rsquo; ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ \u0026lsquo;o\u0026rsquo;ï¼Œä½†èƒ½åŒ¹é… \u0026ldquo;foooood\u0026rdquo; ä¸­çš„æ‰€æœ‰ oã€‚\u0026lsquo;o{1,}\u0026rsquo; ç­‰ä»·äº \u0026lsquo;o+\u0026rsquo;ã€‚\u0026lsquo;o{0,}\u0026rsquo; åˆ™ç­‰ä»·äº \u0026lsquo;o*\u0026rsquo;ã€‚ {n,m} m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n \u0026lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;o{1,3}\u0026rdquo; å°†åŒ¹é… \u0026ldquo;fooooood\u0026rdquo; ä¸­çš„å‰ä¸‰ä¸ª oã€‚\u0026lsquo;o{0,1}\u0026rsquo; ç­‰ä»·äº \u0026lsquo;o?\u0026rsquo;ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ ? å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² \u0026ldquo;oooo\u0026rdquo;ï¼Œ\u0026lsquo;o+?\u0026rsquo; å°†åŒ¹é…å•ä¸ª \u0026ldquo;o\u0026rdquo;ï¼Œè€Œ \u0026lsquo;o+\u0026rsquo; å°†åŒ¹é…æ‰€æœ‰ \u0026lsquo;o\u0026rsquo;ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\\nã€\\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ \u0026lsquo;\\n\u0026rsquo; åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ\u0026rdquo;(. (pattern) åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \u0026lsquo;(\u0026rsquo; æˆ– \u0026lsquo;)\u0026rsquo;ã€‚ (?:pattern) åŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨ \u0026ldquo;æˆ–\u0026rdquo; å­—ç¬¦ ( (?=pattern) æ­£å‘è‚¯å®šé¢„æŸ¥ï¼ˆlook ahead positive assertï¼‰ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;Windows(?=95 (?!pattern) æ­£å‘å¦å®šé¢„æŸ¥(negative assert)ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚\u0026quot;Windows(?!95 (?\u0026lt;=pattern) åå‘(look behind)è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œ\u0026rdquo;(?\u0026lt;=95 (?\u0026lt;!pattern) åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚\u0026rdquo;(?\u0026lt;!95 x y [xyz] å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u0026lsquo;[abc]\u0026rsquo; å¯ä»¥åŒ¹é… \u0026ldquo;plain\u0026rdquo; ä¸­çš„ \u0026lsquo;a\u0026rsquo;ã€‚ [^xyz] è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u0026lsquo;[^abc]\u0026rsquo; å¯ä»¥åŒ¹é… \u0026ldquo;plain\u0026rdquo; ä¸­çš„\u0026rsquo;p\u0026rsquo;ã€\u0026rsquo;l\u0026rsquo;ã€\u0026lsquo;i\u0026rsquo;ã€\u0026rsquo;n\u0026rsquo;ã€‚ [a-z] å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u0026rsquo;[a-z]\u0026rsquo; å¯ä»¥åŒ¹é… \u0026lsquo;a\u0026rsquo; åˆ° \u0026lsquo;z\u0026rsquo; èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚ [^a-z] è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u0026rsquo;[^a-z]\u0026rsquo; å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨ \u0026lsquo;a\u0026rsquo; åˆ° \u0026lsquo;z\u0026rsquo; èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ \\b åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ \u0026rsquo;er\\b\u0026rsquo; å¯ä»¥åŒ¹é…\u0026quot;never\u0026quot; ä¸­çš„ \u0026rsquo;er\u0026rsquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;verb\u0026rdquo; ä¸­çš„ \u0026rsquo;er\u0026rsquo;ã€‚ \\B åŒ¹é…éå•è¯è¾¹ç•Œã€‚\u0026rsquo;er\\B\u0026rsquo; èƒ½åŒ¹é… \u0026ldquo;verb\u0026rdquo; ä¸­çš„ \u0026rsquo;er\u0026rsquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;never\u0026rdquo; ä¸­çš„ \u0026rsquo;er\u0026rsquo;ã€‚ \\cx åŒ¹é…ç”± x æŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ \u0026lsquo;c\u0026rsquo; å­—ç¬¦ã€‚ \\d åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [0-9]ã€‚ \\D åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº [^0-9]ã€‚ \\f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \\x0c å’Œ \\cLã€‚ \\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \\x0a å’Œ \\cJã€‚ \\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \\x0d å’Œ \\cMã€‚ \\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [ \\f\\n\\r\\t\\v]ã€‚ \\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^ \\f\\n\\r\\t\\v]ã€‚ \\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x09 å’Œ \\cIã€‚ \\v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x0b å’Œ \\cKã€‚ \\w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº\u0026rsquo;[A-Za-z0-9_]\u0026rsquo;ã€‚ \\W åŒ¹é…éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº \u0026lsquo;[^A-Za-z0-9_]\u0026rsquo;ã€‚ \\xn åŒ¹é… nï¼Œå…¶ä¸­ n ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œ\u0026rsquo;\\x41\u0026rsquo; åŒ¹é… \u0026ldquo;A\u0026rdquo;ã€‚\u0026rsquo;\\x041\u0026rsquo; åˆ™ç­‰ä»·äº \u0026lsquo;\\x04\u0026rsquo; \u0026amp; \u0026ldquo;1\u0026rdquo;ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ ASCII ç¼–ç ã€‚ \\num åŒ¹é… numï¼Œå…¶ä¸­ num æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ\u0026rsquo;(.)\\1\u0026rsquo; åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚ \\n æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \\n ä¹‹å‰è‡³å°‘ n ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™ n ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ n ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚ \\nm æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ \\nm ä¹‹å‰è‡³å°‘æœ‰ nm ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™ nm ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ \\nm ä¹‹å‰è‡³å°‘æœ‰ n ä¸ªè·å–ï¼Œåˆ™ n ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­— m çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥ n å’Œ m å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™ \\nm å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmã€‚ \\nml å¦‚æœ n ä¸ºå…«è¿›åˆ¶æ•°å­— (0-3)ï¼Œä¸” m å’Œ l å‡ä¸ºå…«è¿›åˆ¶æ•°å­— (0-7)ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼ nmlã€‚ \\un åŒ¹é… nï¼Œå…¶ä¸­ n æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„ Unicode å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\u00A9 åŒ¹é…ç‰ˆæƒç¬¦å· (?)ã€‚ ä¾‹å­ ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¾‹å­ï¼š\nåŒ¹é…é‚®ç®±åœ°å€ï¼š\n^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$ åŒ¹é…æ‰‹æœºå·ç :\n^1[3456789]\\d{9}$ åŒ¹é…èº«ä»½è¯å·ç ï¼ˆ18ä½ï¼‰ï¼š\n^\\d{17}[\\dXx]$ åŒ¹é…URLï¼š\n^(httphttpsftp)://[^\\s/$.?#].[^\\s]*$ åŒ¹é…æ—¥æœŸï¼ˆyyyy-mm-ddï¼‰ï¼š\n^\\d{4}-\\d{2}-\\d{2}$ åŒ¹é…IPåœ°å€ï¼š\n^((25[0-5]2[0-4]\\d1\\d{2}[1-9]\\d\\d)\\.){3}(25[0-5]2[0-4]\\d1\\d{2}[1-9]\\d\\d)$ åŒ¹é…æ•´æ•°ï¼š\n^-?\\d+$ åŒ¹é…å°æ•°ï¼š\n^-?\\d+\\.\\d+$ åŒ¹é…ä¸­æ–‡å­—ç¬¦ï¼š\n^[\\u4e00-\\u9fa5]+$ åŒ¹é…HTMLæ ‡ç­¾ï¼š\n\u0026lt;([a-zA-Z]+)(\\s*\\w*\\s*=\\s*\u0026#34;[^\u0026#34;]*\u0026#34;)*\\s*/?\u0026gt; ","permalink":"https://EitanWong.github.io/en/posts/other/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fregular-expression/","summary":"æ­£åˆ™è¡¨è¾¾å¼ ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionï¼‰æ˜¯ä¸€ç§ç”¨äºåŒ¹é…å’Œå¤„ç†æ–‡æœ¬æ¨¡å¼çš„å­—ç¬¦åºåˆ—ã€‚ å®ƒæ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬å¤„ç†å·¥å…·ï¼Œå¸¸ç”¨äºç¼–ç¨‹å’Œæ–‡æœ¬å¤„ç†ä»»åŠ¡ä¸­ï¼Œå¯ä»¥ç”¨æ¥æœç´¢ã€æ›¿æ¢ã€éªŒè¯å’Œæå–ç¬¦åˆç‰¹å®šæ¨¡å¼çš„æ–‡æœ¬ã€‚ è¯­æ³• æ­£åˆ™è¡¨è¾¾å¼(regular expression)æè¿°äº†ä¸€","title":"æ­£åˆ™è¡¨è¾¾å¼(Regular Expression)"},{"content":"å‰è¨€ğŸ’¬ å‰ä¸ä¹…é‡è£…äº†macOSçš„ç³»ç»Ÿï¼Œä¹‹å‰é…ç½®çš„ç¯å¢ƒéƒ½æ²¡äº†ï¼Œè¿™æ®µæ—¶é—´Pythonç”¨çš„æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å‡†å¤‡å®‰è£…é…ç½®anacondaè¿›è¡Œä½¿ç”¨\nä»€ä¹ˆæ˜¯Anacondaâ“ Anacondaæ˜¯ä¸€ä¸ªæ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ çš„å¼€å‘ç¯å¢ƒï¼ŒåŒ…å«å¤šç§å·¥å…·å’Œåº“ï¼Œå¯ç®¡ç†å’Œéƒ¨ç½²æ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—å’Œæœºå™¨å­¦ä¹ é¡¹ç›®ã€‚å®ƒåŒ…å«å¸¸ç”¨çš„Pythonåº“å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€æ”¯æŒï¼Œè¿˜æœ‰ä¸€ä¸ªåä¸ºcondaçš„åŒ…ç®¡ç†å™¨ï¼Œå¯å®‰è£…ã€æ›´æ–°å’Œå¸è½½è½¯ä»¶åŒ…ã€‚Anacondaè¿˜æä¾›äº†ä¸€ä¸ªé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰å’ŒJupyter Notebookï¼Œç”¨äºæ•°æ®åˆ†æå’Œç§‘å­¦è®¡ç®—ä»»åŠ¡ã€‚\nå®‰è£…â¬ å‰ç½®æ¡ä»¶ å·²å®‰è£…HomeBrew\nå¦‚æœæ²¡æœ‰å®‰è£…HomeBrewçš„è¯ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; ç¬¬ä¸€æ­¥ ä½¿ç”¨brewå®‰è£…Anaconda brew install anaconda ç¬¬äºŒæ­¥ é…ç½®ç¯å¢ƒå˜é‡ zshç”¨æˆ·\necho \u0026#39;export PATH=\u0026#34;/usr/local/anaconda3/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc source ~/.zshrc bashç”¨æˆ·\necho \u0026#39;export PATH=\u0026#34;/usr/local/anaconda3/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.bash_profile source ~/.bash_profile ç¬¬ä¸‰éƒ¨ éªŒè¯å®‰è£… åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸï¼š\nconda --version å¦‚æœæ˜¾ç¤ºcondaçš„ç‰ˆæœ¬å·ï¼Œåˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ\nç°åœ¨æ‚¨å·²ç»åœ¨Macä¸Šé€šè¿‡Homebrewå®‰è£…äº†Anacondaï¼Œå¹¶é…ç½®äº†ç¯å¢ƒå˜é‡ã€‚ å¯ä»¥å¼€å§‹ä½¿ç”¨condaå‘½ä»¤åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒï¼Œä»¥åŠå®‰è£…PythonåŒ…äº†\n","permalink":"https://EitanWong.github.io/en/posts/other/macos%E4%B8%8B%E9%80%9A%E8%BF%87homebrew%E5%AE%89%E8%A3%85anacond%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/","summary":"å‰è¨€ğŸ’¬ å‰ä¸ä¹…é‡è£…äº†macOSçš„ç³»ç»Ÿï¼Œä¹‹å‰é…ç½®çš„ç¯å¢ƒéƒ½æ²¡äº†ï¼Œè¿™æ®µæ—¶é—´Pythonç”¨çš„æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å‡†å¤‡å®‰è£…é…ç½®anacondaè¿›è¡Œä½¿ç”¨ ä»€ä¹ˆæ˜¯Anacondaâ“ Anacondaæ˜¯ä¸€ä¸ªæ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ çš„å¼€å‘ç¯å¢ƒï¼ŒåŒ…å«å¤šç§å·¥å…·å’Œåº“ï¼Œå¯ç®¡ç†å’Œéƒ¨ç½²æ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—å’Œæœºå™¨å­¦ä¹ é¡¹ç›®ã€‚å®ƒåŒ…å«å¸¸ç”¨","title":"macOSğŸğŸ’»ä¸‹é€šè¿‡HomebrewğŸºå®‰è£…AnacondğŸå¹¶é…ç½®ç¯å¢ƒå˜é‡"},{"content":"ğŸ’¬å¼•è¨€ Oh My Zsh æ˜¯ä»€ä¹ˆ Oh My Zsh æ˜¯ä¸€æ¬¾ç¤¾åŒºé©±åŠ¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ­£å¦‚å®ƒçš„ä¸»é¡µä¸Šè¯´çš„ï¼ŒOh My Zsh æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ã€‚å®ƒåŸºäº zsh å‘½ä»¤è¡Œï¼Œæä¾›äº†ä¸»é¢˜é…ç½®ï¼Œæ’ä»¶æœºåˆ¶ï¼Œå·²ç»å†…ç½®çš„ä¾¿æ·æ“ä½œã€‚ç»™æˆ‘ä»¬ä¸€ç§å…¨æ–°çš„æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œã€‚ Oh My Zsh æ˜¯åŸºäº zsh å‘½ä»¤è¡Œçš„ä¸€ä¸ªæ‰©å±•å·¥å…·é›†ï¼Œæä¾›äº†ä¸°å¯Œçš„æ‰©å±•åŠŸèƒ½ã€‚ å®‰è£… Oh My Zsh å‰ææ¡ä»¶ï¼šå¿…é¡»å·²å®‰è£… zsh Zsh æ˜¯ä»€ä¹ˆ Zsh æ˜¯ä¸€æ¬¾å¼ºå¤§çš„è™šæ‹Ÿç»ˆç«¯ï¼Œæ—¢æ˜¯ä¸€ä¸ªç³»ç»Ÿçš„è™šæ‹Ÿç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªè„šæœ¬è¯­è¨€çš„äº¤äº’è§£æå™¨ã€‚ â¬å®‰è£… ç¬¬ä¸€æ­¥ï¼Œå®‰è£… ä½œä¸º macOS å¿…å¤‡çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç›¸ä¿¡å¤§å®¶è‚¯å®šå·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œæ²¡å®‰è£…çš„æœ‹å‹å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤è£…ä¸€ä¸‹ï¼Œå®‰è£…è¿‡çš„å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤å¯ä»¥è¿›è¡Œæ›´æ–°ã€‚\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; ç¬¬äºŒæ­¥ï¼Œæ›´æ–° zshã€git macOS ä¸€èˆ¬ä¼šè‡ªå¸¦ zshï¼Œä¸è¿‡ç‰ˆæœ¬ä¼šæ¯”è¾ƒæ—©ï¼Œæˆ‘ä»¬å…ˆæ›´æ–°ä¸€ä¸‹ï¼Œä»¥ä¾¿ä½¿ç”¨æœ€æ–°ç‰¹æ€§ã€‚\nbrew install zsh ç¬¬ä¸‰æ­¥ï¼Œåˆ‡æ¢è‡³ zsh å¹¶å®‰è£… oh-my-zsh æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ shell\necho $SHELL ğŸ’¡ç”±äºæˆ‘è¿™é‡Œå·²ç»æ˜¯zshäº†ï¼Œå…¶å®å¯ä»¥ä¸ç”¨åˆ‡æ¢ï¼Œä½†ä¸ºäº†å†™è¿™ç¯‡åšå®¢ï¼Œæˆ‘ä¸‹é¢è¿˜æ˜¯æ¼”ç¤ºä¸€ä¸‹ æŸ¥çœ‹å®‰è£…çš„ shell\ncat /etc/shells åˆ‡æ¢ä¸º zsh\nchsh -s /bin/zsh ğŸ’¡æˆ‘è¿™é‡Œå·²ç»æ˜¯zshäº†ï¼Œæ‰€ä»¥æç¤ºno changes madeï¼Œå¦‚æœzshï¼Œæ‰§è¡Œè¿™æ¡å‘½ä»¤åï¼Œé‡å¯ç»ˆç«¯å³å¯ä½¿ç”¨ zshã€‚\nç¬¬å››æ­¥ï¼Œå®‰è£… oh-my-zsh sh -c \u0026#34;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\u0026#34; å®‰è£…å®Œæˆåï¼Œç»ˆç«¯å±•ç¤ºå¦‚ä¸‹å†…å®¹ï¼š\nç¬¬äº”æ­¥ï¼Œé…ç½® oh-my-zsh çœ‹åˆ°è¿™é‡Œï¼Œå®‰è£…æµç¨‹å·²ç»å®Œæ¯•å•¦ï¼Œæ‰§è¡Œæœ€åçš„é…ç½®ï¼Œå°±å¯ä»¥è¿›è¡Œä½“éªŒäº†ã€‚ æ‰“å¼€ oh-my-zsh é…ç½®æ–‡ä»¶\n# æ‰“å¼€ zshrc æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ vim ç¼–è¾‘å™¨ open ~/.zshrc # æœ¬äººä½¿ç”¨çš„æ˜¯ vs code open ~/.zshrc -a Visual\\ Studio\\ Code ä¸»é¢˜ é…ç½®é¡¹ ZSH_THEME å³ä¸º oh-my-zsh çš„ä¸»é¢˜é…ç½®ï¼Œoh-my-zsh çš„ GitHub Wiki é¡µé¢æä¾›äº† å½“è®¾ç½®ä¸º ZSH_THEME=random æ—¶ï¼Œæ¯æ¬¡æ‰“å¼€ç»ˆç«¯éƒ½ä¼šä½¿ç”¨ä¸€ç§éšæœºçš„ä¸»é¢˜ã€‚ æ’ä»¶\nplugins=(git autojump zsh-autosuggestions zsh-syntax-highlighting) **æ³¨æ„ï¼š**å…¶ä¸­ zsh-autosuggestions å’Œ zsh-syntax-highlighting æ˜¯è‡ªå®šä¹‰å®‰è£…çš„æ’ä»¶ï¼Œéœ€è¦ç”¨ git å°†æ’ä»¶ clone åˆ°æŒ‡å®šæ’ä»¶ç›®å½•ä¸‹ï¼š\n# è‡ªåŠ¨è·³è½¬æ’ä»¶ brew install autojump # è‡ªåŠ¨æç¤ºæ’ä»¶ git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions # è¯­æ³•é«˜äº®æ’ä»¶ git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting ğŸ’¡å¦‚æœå®‰è£…äº†autojumpæ’ä»¶ï¼Œéœ€è¦æŠŠä»¥ä¸‹ä»£ç åŠ åˆ°~/.zshrcæ–‡ä»¶çš„å°¾éƒ¨\n# ä½¿ç”¨brewå®‰è£…çš„ [[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]] \u0026amp;\u0026amp; . $(brew --prefix)/etc/profile.d/autojump.sh source $ZSH/oh-my-zsh.sh éœ€è¦å…¶ä»–æ’ä»¶çš„å¯ä»¥è‡ªè¡Œå®‰è£…ï¼Œå¦‚æœæ’ä»¶æœªå®‰è£…ï¼Œå¼€å¯ç»ˆç«¯çš„æ—¶å€™ä¼šæŠ¥é”™ï¼ŒæŒ‰ç…§é”™è¯¯æç¤ºï¼Œå®‰è£…å¯¹åº”çš„æ’ä»¶å³å¯ã€‚ å¦‚æœæƒ³è¦ç»ˆç«¯æ›´å¥½çœ‹çš„è¯ï¼Œå¯ä»¥å®‰è£…ä¸€ä¸ªneofetch\nbrew install neofetch å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨~/.zshrcå°¾éƒ¨å†™ä¸Šneofetch æ›´æ–°é…ç½®\nsource ~/.zshrc æ›´æ–°å®Œé…ç½®å³å¯ç”Ÿæ•ˆï¼Œä¸æƒ³æ›´æ–°é…ç½®çš„è¯ï¼Œæ–°å¼€ä¸€ä¸ªç»ˆç«¯åŒæ ·å¯ä»¥ç”Ÿæ•ˆã€‚ ç»è¿‡è¿™ä¸€ç•ªæ£é¼“ï¼Œç”µè„‘ç”¨èµ·æ¥æ›´åŠ é¡ºæ‰‹äº†ï¼Œå¯ä»¥æ„‰å¿«çš„å¼€å‘äº†ã€‚\n","permalink":"https://EitanWong.github.io/en/posts/other/macos-%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AE%E7%BB%88%E7%AB%AF%E7%A5%9E%E5%99%A8-oh-my-zsh/","summary":"ğŸ’¬å¼•è¨€ Oh My Zsh æ˜¯ä»€ä¹ˆ Oh My Zsh æ˜¯ä¸€æ¬¾ç¤¾åŒºé©±åŠ¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ­£å¦‚å®ƒçš„ä¸»é¡µä¸Šè¯´çš„ï¼ŒOh My Zsh æ˜¯ä¸€ç§ç”Ÿæ´»æ–¹å¼ã€‚å®ƒåŸºäº zsh å‘½ä»¤è¡Œï¼Œæä¾›äº†ä¸»é¢˜é…ç½®ï¼Œæ’ä»¶æœºåˆ¶ï¼Œå·²ç»å†…ç½®çš„ä¾¿æ·æ“ä½œã€‚ç»™æˆ‘ä»¬ä¸€ç§å…¨æ–°çš„æ–¹å¼ä½¿ç”¨å‘½ä»¤è¡Œã€‚ Oh My Zsh æ˜¯åŸºäº zsh å‘½ä»¤è¡Œçš„ä¸€ä¸ªæ‰©å±•å·¥å…·é›†ï¼Œæä¾›äº†ä¸°å¯Œçš„æ‰©å±•åŠŸèƒ½ã€‚ å®‰è£… Oh My Zsh å‰ææ¡ä»¶ï¼šå¿…é¡»å·²å®‰è£…","title":"macOS ğŸğŸ’»ç³»ç»Ÿä¸‹å®‰è£…â¬å¹¶é…ç½®ç»ˆç«¯ç¥å™¨ oh-my-zsh"},{"content":"å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é»‘è‹¹æœ æˆ–è€…åƒæˆ‘ä¸€æ ·ä½¿ç”¨è€æ¬¾çš„MacBookPro(2013) ä½ ä¹Ÿè®¸ç”¨äº†OpenCore Legacy Patcherå‡çº§åˆ°äº†æœ€æ–°çš„ç³»ç»Ÿ ä½†æ˜¯æœ‰äº›ç¨‹åºéœ€è¦ä½ å…³é—­SIPä¿æŠ¤ï¼Œå¯æ˜¯ä½ å·²ç»ä»ç™½è‹¹æœæˆä¸ºé»‘è‹¹æœ åœ¨è¿™ç§æƒ…å†µä¸‹ä½ åº”è¯¥å¦‚ä½•å…³é—­SIPä¿æŠ¤å‘¢ï¼Ÿ\nSIP Configureè®¾ç½®é¡¹ CSR_ALLOW_UNTRUSTED_KEXTS (å…è®¸ä¸å—ä¿¡ä»»çš„å†…æ ¸æ‰©å±•) æè¿°ï¼šå…è®¸ä»ç£ç›˜åŠ è½½æœªç­¾åçš„Kexts Kext Signing å€¼ï¼š0x1 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_UNRESTRICTED_FS (å…è®¸ä¸å—é™åˆ¶çš„FileSystem) æè¿°ï¼šæ–‡ä»¶ç³»ç»Ÿè®¿é—®Filesystem Protections å€¼ï¼š0x2 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_TASK_ FOR_ PID (å…è®¸ç‰¹å®šè¿›ç¨‹IDæ‰§è¡Œä»»åŠ¡) æè¿°ï¼šä¸å—é™åˆ¶çš„task_ for_pid()ä»»åŠ¡ å€¼ï¼š0x4 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_APPLE_INTERNAL (å…è®¸è‹¹æœå†…éƒ¨åŠŸèƒ½) æè¿°ï¼šè®¾ç½®Appleå†…éƒ¨åŠŸèƒ½ å€¼ï¼š0x10 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_UNRESTRICTED_DTRACE (å…è®¸ä¸å—é™åˆ¶DTRACE) æè¿°ï¼šä¸å—é™åˆ¶çš„DTraceä½¿ç”¨ å€¼ï¼šOx20 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_UNRESTRICTED_NVRAM (å…è®¸ä¸å—é™åˆ¶çš„NVRAM) æè¿°ï¼šä¸å—é™åˆ¶çš„NVRAMå†™å…¥ å€¼ï¼š0x40 å¼•å…¥äºï¼šmacOS Ei Capitan CSR_ALLOW_DEVICE_CONFIGURATION (å…è®¸è®¾å¤‡é…ç½®) æè¿°ï¼šå…è®¸è‡ªå®šä¹‰è®¾å¤‡æ ‘ DTrace Restrictions å€¼ï¼š0x80 å¼•å…¥äºï¼šmacOS El Capitan CSR_ALLOW_ANY_RECOVERY_OS (å…è®¸ä»»ä½•æ¢å¤æ“ä½œç³»ç»Ÿ) æè¿°ï¼šè·³è¿‡åŸºç¡€ç³»ç»ŸéªŒè¯BaseSystem Verification æ•°å€¼ï¼š0x100 å¼•å…¥äºï¼šmacOS Sierra CSR_ALLOW_UNAPPROVED_KEXTS (å…è®¸æœªæ‰¹å‡†çš„KEXTS) æè¿°ï¼šå…è®¸ä»ç£ç›˜ä¸­åŠ è½½æœªç»éªŒè¯çš„Kexts å€¼ï¼š0x200 å¼•å…¥ç‰ˆæœ¬ï¼šmacOS High Sierra CSR_ALLOW_EXECUTABLE_POLICY_OVERRIDE (å…è®¸æ‰§è¡Œç­–ç•¥è¦†ç›–) æè¿°ï¼šé‡å†™å¯æ‰§è¡Œæ–‡ä»¶ç­–ç•¥ å€¼ï¼š0x400 å¼•å…¥äºï¼šmacOS Mojave CSR_ALLOW_UNAUTHENTICATED_ROOT (å…è®¸æœªç»èº«ä»½éªŒè¯çš„æ ¹ç”¨æˆ·) æè¿°ï¼šå…è®¸æ ¹å·å®—æŒ‚è½½ å€¼ï¼š0x800 å¼•å…¥äºï¼šmacOS Big Sur ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹SIP\ncsrutil status å¯¹äºyabaiçš„å®‰è£…ï¼Œæ ¹æ®å®˜æ–¹æè¿° ä¸åŒçš„èŠ¯ç‰‡æœ‰ä¸åŒçš„å…³é—­SIPçš„æ–¹æ³•\n# # APPLE SILICON # # å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨è‹¹æœèŠ¯ç‰‡ macOS 13.x.x æˆ– 12.x.x # éœ€è¦ç¦ç”¨æ–‡ä»¶ç³»ç»Ÿä¿æŠ¤ã€è°ƒè¯•é™åˆ¶å’Œ NVRAM ä¿æŠ¤ #ï¼ˆæ‰“å°çš„è­¦å‘Šå¯ä»¥å®‰å…¨åœ°å¿½ç•¥ï¼‰ csrutil disable --with kext --with dtrace --with basesystem # 1. é‡å¯ # 2. å¯¹äºè‹¹æœèŠ¯ç‰‡ï¼›å¯ç”¨é Apple ç­¾åçš„ arm64e äºŒè¿›åˆ¶æ–‡ä»¶ # Open a terminal and run the below command, then reboot sudo nvram boot-args=-arm64e_preview_abi # # INTEL # #å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Intel macOS 13.x.xã€12.x.xæˆ–11.x.xç‰ˆæœ¬ï¼Œ #éœ€è¦ç¦ç”¨æ–‡ä»¶ç³»ç»Ÿä¿æŠ¤å’Œè°ƒè¯•é™åˆ¶ï¼ˆè¿™æ˜¯ä¸€ç§è§£å†³æ–¹æ³•ï¼Œå› ä¸º--without debugæ— æ³•æ­£å¸¸å·¥ä½œï¼‰ã€‚ csrutil disable --with kext --with dtrace --with nvram --with basesystem æ ¹æ®æ–‡æ¡£æè¿°ï¼Œéœ€è¦å…³é—­kextã€dtraceã€nvramã€basesystem æ‰€ä»¥å¦‚æœä½ ä½¿ç”¨OpenCore Legacy Patcherå®‰è£…yabaiï¼Œéœ€è¦å‹¾é€‰ä»¥ä¸‹å‡ é¡¹\næ„å»ºå¥½åï¼Œé‡æ–°å®‰è£…åï¼Œé‡å¯å³å¯\n","permalink":"https://EitanWong.github.io/en/posts/other/opencore-legacy-patcher%E5%85%B3%E9%97%ADsip%E4%BF%9D%E6%8A%A4/","summary":"å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é»‘è‹¹æœ æˆ–è€…åƒæˆ‘ä¸€æ ·ä½¿ç”¨è€æ¬¾çš„MacBookPro(2013) ä½ ä¹Ÿè®¸ç”¨äº†OpenCore Legacy Patcherå‡çº§åˆ°äº†æœ€æ–°çš„ç³»ç»Ÿ ä½†æ˜¯æœ‰äº›ç¨‹åºéœ€è¦ä½ å…³é—­SIPä¿æŠ¤ï¼Œå¯æ˜¯ä½ å·²ç»ä»ç™½è‹¹æœæˆä¸ºé»‘è‹¹æœ åœ¨è¿™ç§æƒ…å†µä¸‹ä½ åº”è¯¥å¦‚ä½•å…³é—­SIPä¿æŠ¤å‘¢ï¼Ÿ SIP Configureè®¾ç½®é¡¹ CSR_ALLOW_UNTRUSTED_KEXTS (å…è®¸ä¸å—ä¿¡ä»»çš„","title":"OpenCore Legacy Patcherå…³é—­SIPä¿æŠ¤ğŸ”’"},{"content":" è¿™æ˜¯ä½ MacBookğŸ’» ä¸Šé¢å®‰è£…äº†å¾ˆå¤šä¸åŒç‰ˆæœ¬çš„PythonğŸ çªç„¶æœ‰ä¸€å¤©ï¼Œä½ ä¸æƒ³å†çœ‹è§ä»–ä»¬ğŸ™ˆ æˆ–è€…æ˜¯ä½ æŠ›å¼ƒäº†æœ€åŸå§‹çš„pythonğŸï¼Œä»è€ŒæŠ•å¥”anacondaæˆ–è€…pyenvæ—¶ ä½ å°±éœ€è¦å¸è½½ğŸ—‘ï¸ä»–ä»¬ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•å½»å½»åº•åº•çš„å¸è½½å®ƒä»¬å‘¢â“\nå›¾å½¢åŒ–æ“ä½œ 1ã€ç›´æ¥åœ¨Macçš„â€œç¨‹åºåâ€ä¸­ï¼Œç‚¹å‡»â€œè®¿è¾¾â€åº”ç”¨ç¨‹åºå›¾æ ‡ï¼Œæ‰¾åˆ°Pythonçš„å›¾æ ‡ï¼Œç§»å…¥åºŸçº¸ç¯“å°±å¯ä»¥å•¦ âš ï¸_ä½†è¿™ç§å¸è½½æ–¹å¼ä¼šæœ‰æ®‹ä½™çš„åƒåœ¾æ–‡ä»¶ğŸ“ƒï¼Œéœ€è¦æ‰‹ğŸ‘‹åŠ¨åˆ é™¤ğŸ—‘ï¸_ 2ã€ç‚¹å‡»èœå•æ â€œå‰å¾€\u0026ndash;å‰å¾€æ–‡ä»¶å¤¹â€/â€œGo\u0026ndash;Go to Folder\u0026hellip;â€ï¼Œè¾“å…¥/Library/Frameworks/Python.framework/Versions 3ã€å³å‡»â€œ[ä½ å¯¹åº”Pythonç‰ˆæœ¬]ä¾‹å¦‚:3.8â€æ–‡ä»¶å¤¹ï¼Œç§»å…¥åºŸçº¸ç¯“ 4ã€åŒæ ·æ–¹æ³•åˆ é™¤é“¾æ¥ /usr/local/bin\nå‘½ä»¤è¡Œæ“ä½œ åˆ é™¤æ¡†æ¶ $ ls /Library/Frameworks/Python.framework/Versions/[Pythonç‰ˆæœ¬] $ sudo rm -rf /Library/Frameworks/Python.framework/Versions/[Pythonç‰ˆæœ¬] åˆ é™¤é“¾æ¥ ls -l /usr/local/bin grep \u0026#39;/Library/Frameworks/Python.framework/Versions/[Pythonç‰ˆæœ¬]\u0026#39; cd /usr/local/bin/ ls -l /usr/local/bin ï½œgrep â€˜ /Library/Frameworks/Python.framework/Versions/[Pythonç‰ˆæœ¬] â€™ ï½œ awk \u0026#39;{print $9}\u0026#39;tr -d @ xargs rm (è¿™é‡Œå®é™…æ“ä½œæ—¶æç¤ºæ–‡ä»¶æˆ–è·¯å¾„ä¸å­˜åœ¨ï¼Œæ²¡æœ‰åˆ é™¤æˆåŠŸã€‚ å®é™…é€šè¿‡å›¾å½¢ç•Œé¢ç§»å…¥åºŸçº¸ç®±) #åˆ é™¤ç¯å¢ƒå˜é‡(ç”¨æˆ·ç›®å½•ä¸‹) #bashç”¨æˆ· vi ~/.bash_profile #zshç”¨æˆ· vi ./.zshrc åˆ é™¤åº”ç”¨ $ sudo rm -rf /Applications/Python/[Pythonç‰ˆæœ¬] $ sudo rm -rf /Applications/Python/[Pythonç‰ˆæœ¬] Python2.xå­˜æ”¾åœ¨/System/Library/Frameworks/Python.framework/Versionsç›®å½•ä¸‹\nå¸è½½pipï¼ˆä½¿ç”¨rootåå¯ä»¥å¸è½½æˆåŠŸï¼‰\nsudo su python -m pip uninstall pip ","permalink":"https://EitanWong.github.io/en/posts/other/%E5%A6%82%E4%BD%95%E5%9C%A8macos%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%BD%BB%E5%BA%95%E7%9A%84%E5%8D%B8%E8%BD%BD%EF%B8%8Fpython/","summary":"è¿™æ˜¯ä½ MacBookğŸ’» ä¸Šé¢å®‰è£…äº†å¾ˆå¤šä¸åŒç‰ˆæœ¬çš„PythonğŸ çªç„¶æœ‰ä¸€å¤©ï¼Œä½ ä¸æƒ³å†çœ‹è§ä»–ä»¬ğŸ™ˆ æˆ–è€…æ˜¯ä½ æŠ›å¼ƒäº†æœ€åŸå§‹çš„pythonğŸï¼Œä»è€ŒæŠ•å¥”anacondaæˆ–è€…pyenvæ—¶ ä½ å°±éœ€è¦å¸è½½ğŸ—‘ï¸ä»–ä»¬ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚ä½•å½»å½»åº•åº•çš„å¸è½½å®ƒä»¬å‘¢â“ å›¾å½¢åŒ–æ“ä½œ 1ã€ç›´æ¥åœ¨Macçš„â€œç¨‹åºåâ€ä¸­ï¼Œç‚¹å‡»â€œè®¿è¾¾","title":"å¦‚ä½•ğŸ§åœ¨macOSğŸç³»ç»ŸğŸ’»ä¸‹å½»åº•çš„å¸è½½ğŸ—‘ï¸PythonğŸ"},{"content":"ğŸ Trojanå¦‚ä½•ç»•è¿‡ğŸ”¥GFWğŸ§± ä¸Shadowsocksç›¸åï¼ŒğŸ Trojanä¸ä½¿ç”¨è‡ªå®šä¹‰çš„åŠ å¯†åè®®æ¥éšè—è‡ªèº«ã€‚ç›¸åï¼Œä½¿ç”¨ç‰¹å¾æ˜æ˜¾çš„TLSåè®®(TLS/SSL)ï¼Œä½¿å¾—æµé‡çœ‹èµ·æ¥ä¸æ­£å¸¸çš„HTTPSç½‘ç«™ç›¸åŒã€‚TLSæ˜¯ä¸€ä¸ªæˆç†Ÿçš„åŠ å¯†ä½“ç³»ï¼ŒHTTPSå³ä½¿ç”¨TLSæ‰¿è½½HTTPæµé‡ã€‚ä½¿ç”¨æ­£ç¡®é…ç½®çš„åŠ å¯†TLSéš§é“ï¼Œå¯ä»¥ä¿è¯ä¼ è¾“çš„\nâ˜‘ï¸ä¿å¯†æ€§ï¼ˆGFWæ— æ³•å¾—çŸ¥ä¼ è¾“çš„å†…å®¹ï¼‰ â˜‘ï¸å®Œæ•´æ€§ï¼ˆä¸€æ—¦GFWè¯•å›¾ç¯¡æ”¹ä¼ è¾“çš„å¯†æ–‡ï¼Œé€šè®¯åŒæ–¹éƒ½ä¼šå‘ç°ï¼‰ â˜‘ï¸ä¸å¯æŠµèµ–ï¼ˆGFWæ— æ³•ä¼ªé€ èº«ä»½å†’å……æœåŠ¡ç«¯æˆ–è€…å®¢æˆ·ç«¯ï¼‰ â˜‘ï¸ å‰å‘å®‰å…¨ï¼ˆå³ä½¿å¯†é’¥æ³„éœ²ï¼ŒGFWä¹Ÿæ— æ³•è§£å¯†å…ˆå‰çš„åŠ å¯†æµé‡ï¼‰ å¯¹äºè¢«åŠ¨æ£€æµ‹ï¼ŒğŸ Trojanåè®®æµé‡ä¸HTTPSæµé‡çš„ç‰¹å¾å’Œè¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚è€ŒHTTPSæµé‡å æ®äº†ç›®å‰äº’è”ç½‘æµé‡çš„ä¸€åŠä»¥ä¸Šï¼Œä¸”TLSæ¡æ‰‹æˆåŠŸåæµé‡å‡ä¸ºå¯†æ–‡ï¼Œå‡ ä¹ä¸å­˜åœ¨å¯è¡Œæ–¹æ³•ä»å…¶ä¸­åˆ†è¾¨å‡ºğŸ Trojanåè®®æµé‡ã€‚ å¯¹äºä¸»åŠ¨æ£€æµ‹ğŸ”ï¼Œå½“ğŸ§±é˜²ç«å¢™ğŸ”¥ä¸»åŠ¨è¿æ¥ğŸ TrojanæœåŠ¡å™¨è¿›è¡Œæ£€æµ‹æ—¶ï¼ŒğŸ Trojanå¯ä»¥æ­£ç¡®è¯†åˆ«éTrojanåè®®çš„æµé‡ã€‚ä¸Shadowsocksç­‰ä»£ç†ä¸åŒçš„æ˜¯ï¼Œæ­¤æ—¶ğŸ Trojanä¸ä¼šæ–­å¼€è¿æ¥ï¼Œè€Œæ˜¯å°†è¿™ä¸ªè¿æ¥ä»£ç†åˆ°ä¸€ä¸ªæ­£å¸¸çš„WebæœåŠ¡å™¨ã€‚åœ¨GFWçœ‹æ¥ï¼Œè¯¥æœåŠ¡å™¨çš„è¡Œä¸ºå’Œä¸€ä¸ªæ™®é€šçš„HTTPSç½‘ç«™è¡Œä¸ºå®Œå…¨ç›¸åŒï¼Œæ— æ³•åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªğŸ Trojanä»£ç†èŠ‚ç‚¹ã€‚è¿™ä¹Ÿæ˜¯ğŸ Trojanæ¨èä½¿ç”¨åˆæ³•çš„åŸŸåã€ä½¿ç”¨æƒå¨CAç­¾åçš„HTTPSè¯ä¹¦ğŸ“„çš„åŸå› : è¿™è®©ä½ çš„æœåŠ¡å™¨å®Œå…¨æ— æ³•è¢«GFWä½¿ç”¨ä¸»åŠ¨æ£€æµ‹åˆ¤å®šæ˜¯ä¸€ä¸ªğŸ TrojanæœåŠ¡å™¨ã€‚\nğŸ”¨æ­å»ºæ•™ç¨‹ 1ã€å…³é—­é˜²ç«å¢™æˆ–æ”¾è¡Œ80ã€443ç«¯å£\nå…³é—­é˜²ç«å¢™ ufw disable æ”¾è¡Œ80ç«¯å£ ufw allow 80 æ”¾è¡Œ443ç«¯å£ ufw allow 443 2ã€å¼€å¯BBRåŠ é€Ÿ\necho \u0026#34;net.core.default_qdisc=fq\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf echo \u0026#34;net.ipv4.tcp_congestion_control=bbr\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p 3ã€æ›´æ–°è½¯ä»¶æº\napt update apt upgrade apt full-upgrade 4ã€å®‰è£…ç»„ä»¶\napt install wget apt install unzip apt install socat 5ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹\nmkdir /etc/trojan-go 6ã€è¿›å…¥trojan-goæ–‡ä»¶å¤¹\ncd /etc/trojan-go/ 7ã€ä¸‹è½½trojan-gotrojan-goæ–‡æ¡£åœ°å€ï¼šhttps://github.com/p4gefau1t/trojan-gotrojan-go å®Œæ•´é…ç½®æ–‡ä»¶åœ°å€ï¼šhttps://p4gefau1t.github.io/trojan-go/basic/full-config/ 8ã€è§£å‹trojan-go unzip trojan-goæ–‡ä»¶ 9ã€åˆ›å»ºconfig.jsonæ–‡ä»¶\ntouch config.json å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼ˆ#å’Œä¸­æ–‡è¯´æ˜åˆ æ‰ï¼‰\n{ \u0026#34;run_type\u0026#34;: \u0026#34;server\u0026#34;, \u0026#34;local_addr\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;local_port\u0026#34;: 443, \u0026#34;remote_addr\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;remote_port\u0026#34;: 80, \u0026#34;password\u0026#34;: [ \u0026#34;your_awesome_password\u0026#34; #å¯†ç  ], \u0026#34;disable_http_check\u0026#34;: false, \u0026#34;udp_timeout\u0026#34;: 60, \u0026#34;ssl\u0026#34;: { \u0026#34;verify\u0026#34;: true, \u0026#34;verify_hostname\u0026#34;: true, \u0026#34;cert\u0026#34;: \u0026#34;/etc/trojan-go/server.crt\u0026#34;, \u0026#34;key\u0026#34;: \u0026#34;/etc/trojan-go/server.key\u0026#34;, \u0026#34;cipher\u0026#34;: \u0026#34; \u0026#34;, \u0026#34;curves\u0026#34;: \u0026#34; \u0026#34;, \u0026#34;prefer_server_cipher\u0026#34;: false, \u0026#34;sni\u0026#34;: \u0026#34;your-domain-name.com\u0026#34;, #ä½ çš„åŸŸå \u0026#34;alpn\u0026#34;: [ \u0026#34;http/1.1\u0026#34; ], \u0026#34;session_ticket\u0026#34;: true, \u0026#34;reuse_session\u0026#34;: true, \u0026#34;plain_http_response\u0026#34;: \u0026#34; \u0026#34;, \u0026#34;fallback_addr\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;fallback_port\u0026#34;: 80, \u0026#34;fingerprint\u0026#34;: \u0026#34;firefox\u0026#34; }, \u0026#34;tcp\u0026#34;: { \u0026#34;no_delay\u0026#34;: true, \u0026#34;keep_alive\u0026#34;: true, \u0026#34;prefer_ipv4\u0026#34;: false }, \u0026#34;mux\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;concurrency\u0026#34;: 8, \u0026#34;idle_timeout\u0026#34;: 60 }, \u0026#34;router\u0026#34;: { \u0026#34;enabled\u0026#34;: false, \u0026#34;bypass\u0026#34;: [ ], \u0026#34;proxy\u0026#34;: [ ], \u0026#34;block\u0026#34;: [ ], \u0026#34;default_policy\u0026#34;: \u0026#34;proxy\u0026#34;, \u0026#34;domain_strategy\u0026#34;: \u0026#34;as_is\u0026#34;, \u0026#34;geoip\u0026#34;: \u0026#34;/etc/trojan-go/geoip.dat\u0026#34;, \u0026#34;geosite\u0026#34;: \u0026#34;/etc/trojan-go/geosite.dat\u0026#34; }, \u0026#34;websocket\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;path\u0026#34;: \u0026#34;/ray123\u0026#34;, #è·¯å¾„ \u0026#34;host\u0026#34;: \u0026#34;your-domain-name.com\u0026#34; #ä½ çš„åŸŸå } } 10ã€é€€å‡ºtrojan-goç›®å½• 11ã€å®‰è£…acmeï¼š\ncurl \u0026lt;https://get.acme.sh\u0026gt; sh 12ã€æ·»åŠ è½¯é“¾æ¥ï¼š\nln -s /root/.acme.sh/acme.sh /usr/local/bin/acme.sh 13ã€åˆ‡æ¢CAæœºæ„\nacme.sh --set-default-ca --server letsencrypt 14ã€ç”³è¯·è¯ä¹¦ï¼š acme.sh --issue -d ä½ çš„åŸŸå --standalone -k ec-256 --webroot /home/wwwroot/html 15ã€å®‰è£…è¯ä¹¦ï¼š\nacme.sh --install-cert -d ä½ çš„åŸŸå --ecc --key-file /etc/trojan-go/server.key --fullchain-file /etc/trojan-go/server.crt 16ã€å®‰è£…Nginx\napt install nginx 17ã€ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/nginx/nginx.conf ç¤ºä¾‹å…³é”®å­—ï¼šintext:ç™»å½• Cloudreve æ›¿æ¢httpå†…å®¹\nhttp { server { listen 80 default_server; listen [::]:80 default_server; server_name your-domain-name.com; #ä½ çš„åŸŸå location / { proxy_pass \u0026lt;https://www.bing.com\u0026gt;; #ä¼ªè£…ç½‘å€ proxy_ssl_server_name on; proxy_redirect off; sub_filter_once off; sub_filter \u0026#34;www.bing.com\u0026#34; $server_name; #ä¼ªè£…ç½‘å€ proxy_set_header Host \u0026#34;www.bing.com\u0026#34;; #ä¼ªè£…ç½‘å€ proxy_set_header Referer $http_referer; proxy_set_header X-Real-IP $remote_addr; proxy_set_header User-Agent $http_user_agent; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; proxy_set_header Accept-Encoding \u0026#34;\u0026#34;; proxy_set_header Accept-Language \u0026#34;zh-CN\u0026#34;; } } } 18ã€é‡æ–°åŠ è½½nginx\nsystemctl reload nginx 19ã€æŸ¥çœ‹nginxè¿›ç¨‹\nsystemctl status nginx.service 20ã€è®¾ç½®trojan-goå¼€æœºè‡ªå¯ 21ã€è¿›å…¥/etc/systemd/systemæ–‡ä»¶å¤¹åˆ›å»ºtrojan-go.serviceæ–‡ä»¶\ntouch trojan-go.service å¤åˆ¶å¦‚ä¸‹ä»£ç \n[Unit] Description=Trojan-Go - An unidentifiable mechanism that helps you bypass GFW Documentation=https://github.com/p4gefau1t/trojan-go After=network.target nss-lookup.target Wants=network-online.target [Service] Type=simple User=root ExecStart=/etc/trojan-go/trojan-go -config /etc/trojan-go/config.json Restart=on-failure RestartSec=10 RestartPreventExitStatus=23 [Install] WantedBy=multi-user.target 22ã€é‡æ–°åŠ è½½å®ˆæŠ¤è¿›ç¨‹\nsystemctl daemon-reload 23ã€è®¾ç½®å¼€æœºè‡ªå¯\nsystemctl enable trojan-go 24ã€å¯åŠ¨trojan-go\nsystemctl start trojan-go 25ã€æŸ¥çœ‹trojan-goè¿›ç¨‹\n","permalink":"https://EitanWong.github.io/en/posts/passgfw/%E6%90%AD%E5%BB%BAtrojan-gotlsws%E7%BB%95%E8%BF%87gfw%E5%AE%A1%E6%9F%A5/","summary":"ğŸ Trojanå¦‚ä½•ç»•è¿‡ğŸ”¥GFWğŸ§± ä¸Shadowsocksç›¸åï¼ŒğŸ Trojanä¸ä½¿ç”¨è‡ªå®šä¹‰çš„åŠ å¯†åè®®æ¥éšè—è‡ªèº«ã€‚ç›¸åï¼Œä½¿ç”¨ç‰¹å¾æ˜æ˜¾çš„TLSåè®®(TLS/SSL)ï¼Œä½¿å¾—æµé‡çœ‹èµ·æ¥ä¸æ­£å¸¸çš„HTTPSç½‘ç«™ç›¸åŒã€‚TLSæ˜¯ä¸€ä¸ªæˆç†Ÿçš„åŠ å¯†ä½“ç³»ï¼ŒHTTPSå³ä½¿ç”¨TLSæ‰¿è½½HTTPæµé‡ã€‚ä½¿ç”¨æ­£ç¡®é…","title":"æ­å»ºğŸ Trojan-go+tls+wsï¼Œç»•è¿‡ğŸ”¥GFWğŸ§±å®¡æŸ¥ğŸ‘®"},{"content":" Naive Proxy ğŸ‘ä¼˜ç‚¹ï¼šNaive Proxyçš„åŸç†å’Œtrojanå¾ˆåƒï¼ŒNaiveåè®®æ¶ˆé™¤äº†å®¢æˆ·ç«¯çš„tlsæŒ‡çº¹å’Œtls-in-tlsç‰¹å¾ï¼Œå¹¶ä¸”Naiveåè®®åŸºäºhttp2ï¼Œè‡ªå¸¦å¤šè·¯å¤ç”¨ï¼Œå¯¹æ¯”wséœ€è¦é¢‘ç¹æ¡æ‰‹æ¥è®²å»¶è¿Ÿæ›´ä½ï¼Œå‰é¢ä¹Ÿè¯´è¿‡Naiveå®¢æˆ·ç«¯ä½¿ç”¨chromeæµè§ˆå™¨å†…æ ¸ä½œä¸ºç½‘ç»œåè®®æ ˆï¼Œä»é˜²ç«å¢™çš„è§’åº¦æ¥çœ‹ï¼Œå°±åƒæ˜¯ä½ åœ¨æ­£å¸¸çš„ä½¿ç”¨æ­£å¸¸çš„è°·æ­Œæµè§ˆå™¨è®¿é—®æ­£å¸¸çš„ç½‘ç«™\nğŸ‘ç¼ºç‚¹ï¼šå®¢æˆ·ç«¯ç”Ÿæ€ä¸å¤Ÿå®Œå–„\nGFWå°é”å‡çº§ï¼šåŸºäºTLSçš„ç¿»å¢™å·¥å…·é¢ä¸´æŒ‘æˆ˜ï¼ŒNaive Proxyæš‚æ—¶å®‰å…¨ è‡ªåŒ—äº¬æ—¶é—´2022å¹´10æœˆ3æ—¥èµ·ï¼Œè¶…è¿‡ä¸€ç™¾åç”¨æˆ·æŠ¥å‘Šä»–ä»¬è‡³å°‘æœ‰ä¸€å°åŸºäºTLSçš„ç¿»å¢™æœåŠ¡å™¨è¢«å°é”äº†ã€‚è¢«å°é”çš„æœåŠ¡å™¨ä½¿ç”¨çš„åè®®åŒ…æ‹¬äº†trojanï¼ŒXrayï¼ŒV2Ray TLS+Websocketï¼ŒVLESSï¼Œä»¥åŠgRPCã€‚è¿˜æœªæ”¶åˆ°ä»»ä½•naiveproxyè¢«å°é”çš„æ¶ˆæ¯ã€‚\nå°é”å…ˆæ˜¯é’ˆå¯¹ç¿»å¢™æœåŠ¡çš„ç«¯å£ã€‚å¦‚æœç”¨æˆ·åœ¨ç«¯å£è¢«å°åï¼Œæ”¹æ¢äº†ç«¯å£ï¼Œé‚£ä¹ˆæ•´ä¸ªæœåŠ¡å™¨éƒ½ä¼šè¢«å°é”ã€‚éœ€è¦æŒ‡å‡ºï¼Œå°é”ä¼¼ä¹åªæ˜¯åŸºäºç«¯å£æˆ–IPåœ°å€ï¼Œä¸ç¿»å¢™æœåŠ¡æœ‰å…³çš„åŸŸåä¼¼ä¹å¹¶æ²¡æœ‰è¢«åŠ å…¥åˆ°GFWçš„DNSæˆ–SNIé»‘åå•ä¸­ã€‚\nå°½ç®¡å¤§å¤šæ•°ç”¨æˆ·æŠ¥å‘Š443ç«¯å£è¢«å°ï¼Œä¸€éƒ¨åˆ†ä½¿ç”¨é443ç«¯å£çš„ç”¨æˆ·ä¹ŸæŠ¥å‘Šäº†å°é”ã€‚å°½ç®¡å¤§å¤šæ•°ç”¨æˆ·çš„æœåŠ¡å™¨åœ¨æµè¡Œçš„VPSæä¾›å•†é‚£é‡Œï¼ˆæ¯”å¦‚ï¼‰ï¼Œä½†è‡³å°‘æœ‰ä¸€ä½ç”¨æˆ·ä½äºæ¬§æ´²çš„å®¶ä¸­çš„æœåŠ¡å™¨ä¹Ÿè¢«å°é”äº†ã€‚\nåœ¨ä¸€äº›æ¡ˆä¾‹ä¸­ï¼ˆå¹¶éå…¨éƒ¨æ¡ˆä¾‹ä¸­ï¼‰ï¼Œå°é”æ˜¯åŠ¨æ€çš„ï¼šç”¨æˆ·é€šè¿‡æµè§ˆå™¨è¿˜æ˜¯å¯ä»¥ç›´æ¥è®¿é—®ç¿»å¢™ç«¯å£ï¼Œä½†åŒä¸€ä¸ªç«¯å£ï¼Œç”¨ç¿»å¢™è½¯ä»¶å°±è¿ä¸é€šã€‚\næ‰€æœ‰ä»¥ä¸Šçš„ä¿¡æ¯éƒ½æŒ‡å‘GFWå·²ç»å¯ä»¥ç²¾å‡†çš„è¯†åˆ«å¹¶å°é”è¿™äº›ç¿»å¢™åè®®ï¼Œè€Œå¹¶éç®€å•åœ°å°é”æ‰€æœ‰çš„443ç«¯å£ï¼Œæˆ–å°é”æ‰€æœ‰çš„æµè¡Œæœºæˆ¿ã€‚\nåŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œæˆ‘æ¨æµ‹ï¼ˆä½†è¿˜æœªè¿›è¡Œå®è¯æ€§çš„æµ‹é‡ï¼‰ï¼Œè¿™äº›å°é”å¯èƒ½ä¸ç¿»å¢™è½¯ä»¶å®¢æˆ·ç«¯å‘å‡ºçš„ClienthelloæŒ‡çº¹ç›¸å…³ã€‚å¼€å‘è€…ä»¬æˆ–è®¸å¯ä»¥è€ƒè™‘é‡‡ç”¨uTLSã€‚è¿™ä¸ªè®ºæ–‡é˜…è¯»å°ç»„ï¼Œè¿™ç¯‡æ€»ç»“ï¼Œä»¥åŠè¿™ç¯‡åšæ–‡éƒ½æ˜¯å…³äºTLSæŒ‡çº¹çš„ï¼Œä¹Ÿè®¸ä¼šæœ‰å¸®åŠ©ã€‚\nå‡†å¤‡å·¥ä½œ æˆ‘å®éªŒçš„æ“ä½œç³»ç»Ÿæ˜¯ubuntu22.04 amd64ï¼Œå¦‚æœä½ ä½¿ç”¨å…¶ä»–æ“ä½œç³»ç»Ÿï¼Œåœ¨æ­å»ºè¿‡ç¨‹ä¸­å¦‚æœå’Œè§†é¢‘çš„é¢„æœŸæ•ˆæœä¸åŒï¼Œå¸Œæœ›ä½ èƒ½è‡ªè¡Œè§£å†³ï¼ŒåŸŸåè¦åšå¥½äº†dnsè§£æç»‘å®šåˆ°äº†å½“å‰VPSçš„ipåœ°å€\nğŸ“ç›¸å…³é“¾æ¥â¬‡ï¸\nVPSè´­ä¹°æ¬ç“¦å·¥ï¼šhttps://bwg.bulianglin.comä¼˜æƒ ç ï¼š BWH3HYATVBJW\nåŸŸåè´­ä¹°namesiloï¼šhttps://name.bulianglin.comä¼˜æƒ ç ï¼šoldtong\nSSHå·¥å…·FinalShellï¼šhttps://www.hostbuf.com/t/988.html\nv2rayNå®¢æˆ·ç«¯ï¼šhttps://github.com/2dust/v2rayN\nnaiveæœåŠ¡ç«¯é…ç½® ç¼–è¯‘å®‰è£…caddy+naiveï¼š apt install golang-go go install github.com/caddyserver/xcaddy/cmd/xcaddy@latest ~/go/bin/xcaddy build --with github.com/caddyserver/forwardproxy@caddy2=github.com/klzgrad/forwardproxy@naive å¦‚æœç¬¬äºŒæ¡æŒ‡ä»¤æ‰§è¡Œå‡ºé”™ï¼Œå¯ä»¥å°è¯•æ‰§è¡Œgo env -w GO111MODULE=on å†é‡è¯•ï¼Œè¿˜ä¸è¡Œçš„è¯è¯·è‡ªè¡Œæœç´¢å‡çº§goç‰ˆæœ¬æ–¹æ³•\nvim Caddyfile Caddyfileé…ç½®ï¼š :443, naive.buliang0.tk #ä½ çš„åŸŸå tls example@example.com #ä½ çš„é‚®ç®± route { forward_proxy { basic_auth user pass #ç”¨æˆ·åå’Œå¯†ç  hide_ip hide_via probe_resistance } #æ”¯æŒå¤šç”¨æˆ· forward_proxy { basic_auth user2 pass2 #ç”¨æˆ·åå’Œå¯†ç  hide_ip hide_via probe_resistance } reverse_proxy \u0026lt;https://demo.cloudreve.org\u0026gt; { #ä¼ªè£…ç½‘å€ header_up Host {upstream_hostport} header_up X-Forwarded-Host {host} } } caddyå¸¸ç”¨æŒ‡ä»¤ï¼š å‰å°è¿è¡Œcaddyï¼š./caddy runåå°è¿è¡Œcaddyï¼š./caddy startåœæ­¢caddyï¼š./caddy stopé‡è½½é…ç½®ï¼š./caddy reload\ncaddyé…ç½®å®ˆæŠ¤è¿›ç¨‹ï¼ˆå¼€æœºè‡ªå¯ï¼‰ï¼šhttps://github.com/klzgrad/naiveproxy/wiki/Run-Caddy-as-a-daemon\nè‡ªå®šä¹‰ç«¯å£ï¼š naiveå¦‚æœè¦ç”¨è‡ªå®šä¹‰ç«¯å£ï¼Œéœ€è¦ä½¿ç”¨jsonçš„é…ç½®æ–¹å¼ï¼Œæ–°æ‰‹å¯ä»¥ç›´æ¥è·³è¿‡\nå¯åŠ¨æ–¹å¼ï¼š./caddy start --config config.json\nconfig.jsonå†…å®¹ï¼š\n//éœ€åˆ é™¤æ³¨é‡Šå†…å®¹caddyæ‰èƒ½åŠ è½½ { \u0026#34;apps\u0026#34;: { \u0026#34;http\u0026#34;: { \u0026#34;servers\u0026#34;: { \u0026#34;srv0\u0026#34;: { \u0026#34;listen\u0026#34;: [ \u0026#34;:4431\u0026#34; //ç›‘å¬ç«¯å£ ], \u0026#34;routes\u0026#34;: [ { \u0026#34;handle\u0026#34;: [ { \u0026#34;auth_user_deprecated\u0026#34;: \u0026#34;user\u0026#34;, //ç”¨æˆ·å \u0026#34;auth_pass_deprecated\u0026#34;: \u0026#34;pass\u0026#34;, //å¯†ç  \u0026#34;handler\u0026#34;: \u0026#34;forward_proxy\u0026#34;, \u0026#34;hide_ip\u0026#34;: true, \u0026#34;hide_via\u0026#34;: true, \u0026#34;probe_resistance\u0026#34;: {} } ] }, { \u0026#34;handle\u0026#34;: [ { \u0026#34;handler\u0026#34;: \u0026#34;reverse_proxy\u0026#34;, \u0026#34;headers\u0026#34;: { \u0026#34;request\u0026#34;: { \u0026#34;set\u0026#34;: { \u0026#34;Host\u0026#34;: [ \u0026#34;{http.reverse_proxy.upstream.hostport}\u0026#34; ], \u0026#34;X-Forwarded-Host\u0026#34;: [ \u0026#34;{http.request.host}\u0026#34; ] } } }, \u0026#34;transport\u0026#34;: { \u0026#34;protocol\u0026#34;: \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;: {} }, \u0026#34;upstreams\u0026#34;: [ { \u0026#34;dial\u0026#34;: \u0026#34;demo.cloudreve.org:443\u0026#34; //ä¼ªè£…ç½‘å€ } ] } ] } ], \u0026#34;tls_connection_policies\u0026#34;: [ { \u0026#34;match\u0026#34;: { \u0026#34;sni\u0026#34;: [ \u0026#34;naive.buliang0.tk\u0026#34; //åŸŸå ] }, \u0026#34;certificate_selection\u0026#34;: { \u0026#34;any_tag\u0026#34;: [ \u0026#34;cert0\u0026#34; ] } } ], \u0026#34;automatic_https\u0026#34;: { \u0026#34;disable\u0026#34;: true } } } }, \u0026#34;tls\u0026#34;: { \u0026#34;certificates\u0026#34;: { \u0026#34;load_files\u0026#34;: [ { \u0026#34;certificate\u0026#34;: \u0026#34;/root/a.crt\u0026#34;, //å…¬é’¥è·¯å¾„ \u0026#34;key\u0026#34;: \u0026#34;/root/a.key\u0026#34;, //ç§é’¥è·¯å¾„ \u0026#34;tags\u0026#34;: [ \u0026#34;cert0\u0026#34; ] } ] } } } } å®¢æˆ·ç«¯é…ç½® naiveå®¢æˆ·ç«¯ï¼šhttps://github.com/klzgrad/naiveproxy/releases/latest\nå®¢æˆ·ç«¯é…ç½®ï¼š\n{ \u0026#34;listen\u0026#34;: \u0026#34;socks://127.0.0.1:1080\u0026#34;, \u0026#34;proxy\u0026#34;: \u0026#34;\u0026lt;https://user:pass@example.com\u0026gt;\u0026#34; } ä½¿ç”¨v2rayNåŠ è½½naiveå†…æ ¸éœ€è¦å°†é…ç½®æ–‡ä»¶çš„logè¡Œåˆ é™¤ï¼Œå¦åˆ™ä¼šæ–­æµ\nTLSæŒ‡çº¹æŸ¥çœ‹ jarmå·¥å…·ï¼šhttps://github.com/salesforce/jarm\nä¸‹è½½jarmï¼šwget \u0026lt;https://raw.githubusercontent.com/salesforce/jarm/master/jarm.pyæŸ¥çœ‹ç½‘ç«™jarmæŒ‡çº¹ï¼špython3\u0026gt; jarm.py naive.buliang0.tk\nç½‘ç»œç©ºé—´èµ„äº§æœç´¢å¼•æ“ï¼šhttps://fofa.info\n","permalink":"https://EitanWong.github.io/en/posts/passgfw/naive-proxy%E8%8A%82%E7%82%B9%E6%90%AD%E5%BB%BA%E6%B6%88%E9%99%A4tls%E6%8C%87%E7%BA%B9%E4%B8%8Etls-in-tls%E7%89%B9%E5%BE%81%E8%BD%BB%E6%9D%BE%E7%BB%95%E8%BF%87gfw%E5%B0%81%E9%94%81/","summary":"Naive Proxy ğŸ‘ä¼˜ç‚¹ï¼šNaive Proxyçš„åŸç†å’Œtrojanå¾ˆåƒï¼ŒNaiveåè®®æ¶ˆé™¤äº†å®¢æˆ·ç«¯çš„tlsæŒ‡çº¹å’Œtls-in-tlsç‰¹å¾ï¼Œå¹¶ä¸”Naiveåè®®åŸºäºhttp2ï¼Œè‡ªå¸¦å¤šè·¯å¤ç”¨ï¼Œå¯¹æ¯”wséœ€è¦é¢‘ç¹æ¡æ‰‹æ¥è®²å»¶è¿Ÿæ›´ä½ï¼Œå‰é¢ä¹Ÿè¯´è¿‡Naiveå®¢æˆ·ç«¯ä½¿ç”¨chromeæµè§ˆå™¨å†…æ ¸ä½œä¸ºç½‘ç»œåè®®æ ˆï¼Œä»é˜²ç«","title":"Naive ProxyèŠ‚ç‚¹æ­å»ºï¼šæ¶ˆé™¤TLSæŒ‡çº¹ä¸TLS-in-TLSç‰¹å¾ï¼Œè½»æ¾ç»•è¿‡GFWå°é”"},{"content":" ä½¿ç”¨X-UIé¢æ¿æ­å»ºvmess+ws+tls+webæˆ–è€…vless+ws+tls+webçš„èŠ‚ç‚¹ è¿™æ˜¯ç›®å‰ç›¸å¯¹å®‰å…¨çš„æ­å»ºæ–¹å¼å¹¶ä¸”ä¸ºäº†æ›´è¿›ä¸€æ­¥çš„å®‰å…¨ğŸ”ï¼Œæœ‰äº›æ­¥éª¤ç”šè‡³æœ‰ç‚¹ç¹çï¼Œè¿™éƒ½æ˜¯å€¼å¾—çš„ åªæœ‰å®‰å…¨äº†æ‰èƒ½å®ç°çœæ—¶çœå¿ƒï¼Œè‡³äºé«˜é€Ÿç¨³å®šåªæœ‰é é’ğŸ’°èƒ½åŠ›è§£å†³äº†\nä½œä¸ºç”µä¿¡ç”¨æˆ·çš„æˆ‘ï¼Œåˆ¨é™¤é«˜æ”€ä¸èµ·çš„ä¸“çº¿ï¼Œ\nä¸ªäººæ‰¿å—èŒƒå›´å†…æœ€å¥½çš„çº¿è·¯æ˜¯CN2 GIA æœ¬æ•™ç¨‹ä½¿ç”¨çš„æ˜¯ çº¿è·¯ï¼Œç»è¿‡äº†ä¸‰ç½‘ä¼˜åŒ–ï¼Œç”µä¿¡ã€ç§»åŠ¨ã€è”é€šç”¨æˆ·éƒ½èƒ½è·å¾—éå¸¸ç¨³å®šçš„ä½“éªŒï¼Œ\nå®ç°å…¨å¤©ç¨³å®šä¸æ»‘çš„ç§‘å­¦ä¸Šç½‘ä½“éªŒï¼Œå‘Šåˆ«æ™šé«˜å³°æ‹¥å µçš„æƒ…å†µè€ƒè™‘åˆ°GIAçº¿è·¯æ¯”è¾ƒè´µï¼Œ æœ€åç»™å¤§å®¶æä¾›ä¸€ç§ä½¿ç”¨x-uié¢æ¿é€šè¿‡WSè·¯å¾„åˆ†æµå®ç°å•ç«¯å£å¤šç”¨æˆ·çš„åˆç§Ÿæ–¹æ¡ˆï¼Œå¯ä»¥å’Œä½ çš„æœ‹å‹åˆç§Ÿæ¥åˆ†æ‘Šè´¹ç”¨\nVPSè´­ä¹° æ¬ç“¦å·¥ï¼šhttps://bwg.bulianglin.com ä¼˜æƒ ç ï¼šBWH3HYATVBJW\nåŸŸåè´­ä¹° namesiloï¼šhttps://name.bulianglin.com ä¼˜æƒ ç ï¼šoldtong\nSSHå·¥å…· FinalShellï¼šhttps://www.hostbuf.com/t/988.html\nèŠ‚ç‚¹æ­å»º #æ›´æ–°è½¯ä»¶æº apt update #å¯ç”¨ BBR TCP æ‹¥å¡æ§åˆ¶ç®—æ³• echo \u0026#34;net.core.default_qdisc=fq\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf echo \u0026#34;net.ipv4.tcp_congestion_control=bbr\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p # åŸç‰ˆæˆ–è€…é­”æ”¹ç‰ˆäºŒé€‰ä¸€å³å¯ #å®‰è£…åŸç‰ˆx-uiï¼š bash \u0026lt;(curl -Ls \u0026lt;https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh\u0026gt;) #X-UIé­”æ”¹ç‰ˆï¼š wget -N \u0026lt;https://gitlab.com/rwkgyg/x-ui-yg/raw/main/install.sh\u0026gt; \u0026amp;\u0026amp; bash install.sh #å®‰è£…nginx apt install nginx #å®‰è£…acmeï¼š curl \u0026lt;https://get.acme.sh\u0026gt; sh #æ·»åŠ è½¯é“¾æ¥ï¼š ln -s /root/.acme.sh/acme.sh /usr/local/bin/acme.sh #åˆ‡æ¢CAæœºæ„ï¼š acme.sh --set-default-ca --server letsencrypt #ç”³è¯·è¯ä¹¦ï¼š acme.sh --issue -d ä½ çš„åŸŸå -k ec-256 --webroot /var/www/html #å®‰è£…è¯ä¹¦ï¼š acme.sh --install-cert -d ä½ çš„åŸŸå --ecc --key-file /etc/x-ui/server.key --fullchain-file /etc/x-ui/server.crt --reloadcmd \u0026#34;systemctl force-reload nginx\u0026#34; å¯»æ‰¾é€‚åˆçš„ä¼ªè£…ç«™ httpç«™ç‚¹ä¼˜å…ˆï¼Œä¸ªäººç½‘ç›˜ç¬¦åˆå•èŠ‚ç‚¹å¤§æµé‡ç‰¹å¾\nç¤ºä¾‹å…³é”®å­—ï¼šintext:ç™»å½• Cloudreve\né…ç½®nginx é…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/nginx/nginx.conf\nuser www-data; worker_processes auto; pid /run/nginx.pid; include /etc/nginx/modules-enabled/*.conf; events { worker_connections 1024; } http { sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; gzip on; server { listen 443 ssl; server_name nicename.co; #ä½ çš„åŸŸå ssl_certificate /etc/x-ui/server.crt; #è¯ä¹¦ä½ç½® ssl_certificate_key /etc/x-ui/server.key; #ç§é’¥ä½ç½® ssl_session_timeout 1d; ssl_session_cache shared:MozSSL:10m; ssl_session_tickets off; ssl_protocols TLSv1.2 TLSv1.3; ssl_prefer_server_ciphers off; location / { proxy_pass \u0026lt;https://bing.com\u0026gt;; #ä¼ªè£…ç½‘å€ proxy_redirect off; proxy_ssl_server_name on; sub_filter_once off; sub_filter \u0026#34;bing.com\u0026#34; $server_name; proxy_set_header Host \u0026#34;bing.com\u0026#34;; proxy_set_header Referer $http_referer; proxy_set_header X-Real-IP $remote_addr; proxy_set_header User-Agent $http_user_agent; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto https; proxy_set_header Accept-Encoding \u0026#34;\u0026#34;; proxy_set_header Accept-Language \u0026#34;zh-CN\u0026#34;; } location /ray { #åˆ†æµè·¯å¾„ proxy_redirect off; proxy_pass \u0026lt;http://127.0.0.1:10000\u0026gt;; #Xrayç«¯å£ proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } location /xui { #xuiè·¯å¾„ proxy_redirect off; proxy_pass \u0026lt;http://127.0.0.1:9999\u0026gt;; #xuiç›‘å¬ç«¯å£ proxy_http_version 1.1; proxy_set_header Host $host; } } server { listen 80; location /.well-known/ { root /var/www/html; } location / { rewrite ^(.*)$ \u0026lt;https://$host$1\u0026gt; permanent; } } } æ¯æ¬¡ä¿®æ”¹nginxé…ç½®æ–‡ä»¶åå¿…é¡»ä½¿ç”¨ systemctl reload nginx å‘½ä»¤é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶\nå¤šç”¨æˆ·åˆç§Ÿ é€šè¿‡ä¿®æ”¹nginxçš„é…ç½®æ–‡ä»¶å®ç°ws pathè·¯å¾„åˆ†æµ\nlocation /ray { #åˆ†æµè·¯å¾„ proxy_redirect off; proxy_pass http://127.0.0.1:10000; #Xrayç«¯å£ proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } ","permalink":"https://EitanWong.github.io/en/posts/passgfw/%E4%BD%BF%E7%94%A8x-ui%E9%9D%A2%E6%9D%BF%E6%90%AD%E5%BB%BAvmesswstlsweb%E8%8A%82%E7%82%B9/","summary":"ä½¿ç”¨X-UIé¢æ¿æ­å»ºvmess+ws+tls+webæˆ–è€…vless+ws+tls+webçš„èŠ‚ç‚¹ è¿™æ˜¯ç›®å‰ç›¸å¯¹å®‰å…¨çš„æ­å»ºæ–¹å¼å¹¶ä¸”ä¸ºäº†æ›´è¿›ä¸€æ­¥çš„å®‰å…¨ğŸ”ï¼Œæœ‰äº›æ­¥éª¤ç”šè‡³æœ‰ç‚¹ç¹çï¼Œè¿™éƒ½æ˜¯å€¼å¾—çš„ åªæœ‰å®‰å…¨äº†æ‰èƒ½å®ç°çœæ—¶çœå¿ƒï¼Œè‡³äºé«˜é€Ÿç¨³å®šåªæœ‰é é’ğŸ’°èƒ½åŠ›è§£å†³äº† ä½œä¸ºç”µä¿¡ç”¨æˆ·çš„æˆ‘ï¼Œåˆ¨é™¤é«˜æ”€ä¸èµ·çš„ä¸“çº¿ï¼Œ ä¸ª","title":"ä½¿ç”¨X-UIé¢æ¿æ­å»ºvmess+ws+tls+webèŠ‚ç‚¹ğŸªœ"},{"content":"å¼•è¨€ GFWå…·æœ‰é‡å¤§çš„ç¤¾ä¼šæ„ä¹‰ã€‚æ— è®ºæ˜¯æ­£é¢çš„ç¤¾ä¼šæ„ä¹‰ï¼Œè¿˜æ˜¯è´Ÿé¢çš„æ„ä¹‰ã€‚æ— è®ºä½ æ˜¯è®¨åŒï¼Œè¿˜æ˜¯æ†æ¨ã€‚å®ƒéƒ½åœ¨é‚£é‡Œã€‚åœ¨å¯ä»¥é¢„è§çš„å°†æ¥ï¼Œå¢™è¿˜ä¼šç»§ç»­å­˜åœ¨ã€‚æˆ‘ä»¬è¦å­¦ä¼šå¦‚ä½•ä¸å…¶å…±å­˜ã€‚ æˆ‘ä»¬æŠŠç¿»å¢™çœ‹æˆä¸€åœºæˆ‘ä»¬ä¸GFWä¹‹é—´çš„åšå¼ˆï¼Œæ˜¯ä¸€ä¸ªä¸æ–­å¯¹æŠ—å‡çº§çš„åŠ¨æ€è¿‡ç¨‹ã€‚ç›®å‰æ•´ä½“çš„åšå¼ˆæ€åŠ¿æ¥è®²æ˜¯GFWå äº†ç»å¯¹çš„ä¸Šé£ã€‚æˆ‘ä»¬èŠ±è´¹äº†å¤§é‡çš„é‡‘é’±ï¼ˆä¹°VPSä¹°VPNï¼‰ï¼ŒèŠ±è´¹å¤§é‡æ—¶é—´ï¼ˆå­¦ä¹ å„ç§ç¿»å¢™æŠ€æœ¯ï¼‰ï¼Œè€ŒGFWåªéœ€è¦ç®€å•å‘å‡ ä¸ªåŒ…ï¼Œé…å‡ ä¸ªè·¯ç”±è§„åˆ™å°±å¯ä»¥è®©ä½ çš„å¿ƒè¡€éƒ½ç™½è´¹ã€‚ GFWå¹¶ä¸éœ€è¦æ£€æŸ¥æ‰€æœ‰çš„ä¸Šä¸‹è¡Œæµé‡ä¸­æ˜¯ä¸æ˜¯æœ‰ä¸å’Œè°çš„å†…å®¹ï¼Œå¾ˆå¤šæ—¶å€™åªéœ€è¦æ£€æŸ¥è¿æ¥çš„å‰å‡ ä¸ªåŒ…å°±å¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦è¦é˜»æ–­è¿™ä¸ªè¿æ¥ã€‚ä¸ºäº†è§„é¿è¿™ç§æ£€æŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦æŠŠæ‰€æœ‰çš„æµé‡éƒ½é€šè¿‡ç¬¬ä¸‰æ–¹ä»£ç†ï¼Œè¿˜è¦å¿å—ä¸ç¨³å®šï¼Œé€Ÿåº¦æ…¢ç­‰å„ç§å„æ ·çš„é—®é¢˜ã€‚èŠ±è´¹çš„æ˜¯å¤§é‡çš„ç ”ç©¶çš„æ—¶é—´ï¼Œåˆ‡æ¢çº¿è·¯çš„æ—¶é—´ï¼Œæ‰¾å‡ºæ˜¯ä»€ä¹ˆå¯¼è‡´ä¸èƒ½ç”¨çš„æ—¶é—´ï¼Œå½“ç„¶è¿˜æœ‰æœåŠ¡å™¨çš„ç§Ÿç”¨è´¹ç”¨å’Œå¸¦å®½è´¹ç”¨ã€‚æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œè¿™å°±åƒå¤ªæé‡Œçš„å››ä¸¤æ‹¨åƒæ–¤ã€‚GFWåªéœ€è¦ä»˜å‡ºå¾ˆå°çš„æˆæœ¬ï¼Œå°±è¿«ä½¿äº†æˆ‘ä»¬å»ä»˜å‡ºå¾ˆå¤§çš„åå°é”æˆæœ¬ï¼Œè€Œä¸”è¿™ç§æˆæœ¬å¥½åƒæ˜¯è¶Šæ¥è¶Šé«˜äº†ã€‚ è¿™åœºåšå¼ˆçš„ä¸å…¬å¹³ä¹‹å¤„åœ¨äºï¼ŒGFWæ‹¥æœ‰å›½å®¶çš„èµ„æºå’Œä¸“ä¸šçš„å›¢é˜Ÿã€‚è€Œæˆ‘ä»¬åšä¸ºä¸ªä½“ï¼Œæ„¿æ„èŠ±è´¹åœ¨ç¿»å¢™ä¸Šçš„æ—¶é—´ä¸é‡‘é’±æ˜¯éå¸¸æœ‰é™çš„ã€‚åœ¨ç«äº‰æ¿€çƒˆçš„åŒ—ä¸Šå¹¿æ·±ï¼Œæ¯å¤©è¾›è‹¦å¿™ç¢Œçš„ç™½é¢†ä»¬ã€‚ç¿»å¢™æ— éæ˜¯ä¸ºäº†æ–¹ä¾¿è‡ªå·±çš„å·¥ä½œè€Œå·²ã€‚ä¸å¯èƒ½åœ¨æ¯å¤©ä¸Šä¸‹ç­ä»æ‹¥æŒ¤çš„åœ°é“ä¸­æŒ¤å‡ºæ¥ä¹‹åå†å»èŠ±è´¹å·²ç»å°‘å¾—å¯æ€œçš„ä¸šä½™æ—¶é—´å»å­¦ä¹ è‡ªå·±ä¸æ˜¯ç¿»å¢™æ ¹æœ¬ä¸éœ€è¦çŸ¥é“çš„åè¯åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ã€‚äºæ˜¯ä¹ï¼Œæˆ‘ä»¬å¾—è¿‡ä¸”è¿‡ã€‚ä¸ç”¨Googleä¹Ÿä¸ä¼šæ­»ï¼Œå¯¹ä¸å¯¹ï¼Ÿã€‚åšå¼ˆçš„å¤©å¹³è¿œè¿œä¸æ˜¯å¹³è¡¡çš„ï¼Œè€Œæ˜¯ä¸€è¾¹å€’ã€‚\nå…¨é¢å­¦ä¹ GFW GFWä¼šæ˜¯ä¸€ä¸ªé•¿æœŸçš„å­˜åœ¨ã€‚è¦å­¦ä¼šä¸ä¹‹å…±å­˜ï¼Œå¿…é¡»å…ˆäº†è§£GFWæ˜¯ä»€ä¹ˆã€‚åšä¸ºå±€å¤–äººï¼Œå­¦ä¹ GFWæœ‰å…­ä¸ªè§’åº¦ã€‚æ¸è¿›çš„æ¥çœ‹åˆ†åˆ«æ˜¯ï¼š é¦–å…ˆæˆ‘ä»¬å­¦ä¹ åˆ°çš„æ˜¯whatå’Œwhenã€‚æ¯”å¦‚è¯´ï¼Œä½ ç»å¸¸å¬åˆ°äººçš„è®®è®ºæ˜¯â€œæ˜¨å¤©â€ï¼Œâ€œgithubâ€è¢«å°äº†ã€‚å…¶ä¸­çš„æ˜¨å¤©å°±æ˜¯whenï¼Œgithubå°±æ˜¯whatã€‚è¿™æ˜¯å­¦ä¹ GFWçš„æœ€å¤©ç„¶ï¼Œæœ€æœ´ç´ çš„è§’åº¦ã€‚åœ¨è¿™ä¸ªæ–¹é¢åšå¾—éå¸¸æè‡´çš„æ˜¯ä¸€ä¸ªå«åš çš„ç½‘ç«™ã€‚è¿™ä¸ªç½‘ç«™é•¿æœŸç›‘æ§æˆåƒä¸Šä¸‡ä¸ªç½‘ç«™å’Œå…³é”®è¯ã€‚é€šè¿‡é•¿æœŸç›‘æ§ï¼Œä¸ä½†å¯ä»¥æŒæ¡ä¸ºä»€ä¹ˆè¢«å°é”äº†ï¼Œè¿˜å¯ä»¥çŸ¥é“ä»€ä¹ˆæ—¶å€™è¢«å°çš„ï¼Œä»€ä¹ˆæ—¶å€™è¢«è§£å°çš„ã€‚ æ¥ä¸‹æ¥çš„è§’åº¦æ˜¯whoã€‚æ¯”å¦‚è¯´ï¼Œâ€œæ–¹æ ¡é•¿â€è¿™ä¸ªäººåå°±ç»å¸¸å’ŒGFWåŒæ—¶å‡ºç°ã€‚ä½†æ˜¯å¦‚æœä»…ä»…æ˜¯æŒæ¡ä¸€ä¸ªä¸¤ä¸ªäººåï¼Œç„¶åå¤©å¤©åœ¨twitterä¸Šéª‚ä¸€éï¼Œé™¤äº†æŠŠè¿™ä¸ªäººåéª‚æˆåäººä¹‹å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ç§¯ææ„ä¹‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç½‘ç»œä¸Šçš„å…¬å¼€ä¿¡æ¯ï¼ŒæŒæ¡GFWçš„å“ªäº›æ–¹é¢ä¸å“ªäº›äººæœ‰å…³ç³»ï¼Œè¿™äº›åˆä½œè€…ä¹‹é—´åˆæœ‰ä»€ä¹ˆè”ç³»ã€‚é™¤äº†å¤§å®¶çŒœæµ‹çš„å°†æ¥å¯ä»¥é­å°¸ä¹‹å¤–ï¼Œå¯¹ç°åœ¨ä¹Ÿæ˜¯æœ‰ç§¯æçš„æ„ä¹‰çš„ã€‚æ¯”å¦‚å…³æ³¨è¿™äº›äººçš„ç ”ç©¶åŠ¨æ€å’Œæ€æƒ³å‘å±•ï¼Œå¯ä»¥çŒœæµ‹GFWçš„ä¸‹ä¸€æ­¥å‘å±•æ–¹å‘ã€‚æ¯”å¦‚é˜…è¯»è¿‡å»å‘è¡¨çš„è®ºæ–‡ï¼Œå¯ä»¥äº†è§£GFWçš„æŠ€æœ¯æ¼”è¿›å†å²ï¼Œå¯ä»¥ä»å†å²ä¸­æ‰¾åˆ°ä¸€äº›æŠ€æœ¯æˆ–è€…ç®¡ç†ä½“åˆ¶ä¸Šçš„ç¼ºé™·ã€‚ å†æ¥ä¸‹æ¥å°±æ˜¯whyäº†ã€‚githubè¢«å°ä¹‹åå°±å¸¸å¬äººè¯´ï¼Œgithubè¿™æ ·çš„æŠ€æœ¯ç½‘ç«™ä½ å°å®ƒå¹²å•¥ï¼Ÿæ˜¯ä»€ä¹ˆåŸå› ä¿ƒæˆäº†ä¸€ä¸ªç½‘ç«™çš„è¢«å°ä¸è§£å°çš„ï¼Ÿæˆ‘ä»¬åšä¸ºå±€å¤–äººï¼ŒçœŸæ­£çš„åŸå› å½“ç„¶æ˜¯æ— ä»å¾—çŸ¥çš„ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥çŒœæµ‹ã€‚åŸºäºçŒœæµ‹ï¼Œå¯ä»¥æŠŠä¸åŒç½‘ç«™è¢«å°ï¼Œä¸ç½‘ç»œä¸Šçš„èˆ†æƒ…æ—¶é—´åšå…³è”å’Œåˆ†ç±»ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ–¹æ ¡é•¿å¯¹äºç½‘è·¯èˆ†æƒ…ç›‘æ§æ˜¯æœ‰å¾ˆæ·±å…¥ç ”ç©¶çš„ã€‚æœ‰ä¸€ç¯‡è®ºæ–‡ï¼ˆWhiskey, Weed, and Wukan on the World Wide Web: On Measuring Censorsâ€™ Resources and Motivationsï¼‰ä¸“é—¨è®¨è®ºç›‘ç®¡è€…çš„åŠ¨æœºçš„ã€‚è§‚æµ‹è§¦å‘è¢«å°çš„äº‹ä»¶ä¸å®é™…è¢«å°ä¹‹é—´çš„æ—¶é—´å…³ç³»ï¼Œä¹Ÿå¯ä»¥æ¨æµ‹å‡ºä¸€äº›æœ‰è¶£çš„ç°è±¡ã€‚æ¯”å¦‚æœ‰äººæŠ¥å‘Šï¼Œç¿»å¢™è§¦å‘çš„å°ç«¯å£å’Œå°IPè¿™æ ·çš„äº‹æƒ…ä¸€èˆ¬éƒ½å‘ç”Ÿåœ¨ä¸­å›½çš„ç™½å¤©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒGFWèƒŒåä¸å…‰æ˜¯æœºå™¨ï¼Œæœ‰ä¸€äº›ç»„ä»¶æ˜¯è¡€è‚‰æ„æˆçš„ã€‚ å‰©ä¸‹çš„ä¸¤ä¸ªè§’åº¦å°±æ˜¯å¯¹å¦‚ä½•ç¿»å¢™ç©¿å¢™æœ€æœ‰ä»·å€¼çš„ä¸¤ä¸ªè§’åº¦äº†ï¼šhowå’Œwhereã€‚howæ˜¯éå¸¸å¥½ç†è§£çš„ï¼Œå°±æ˜¯åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸¤è¾¹æŠ“åŒ…ï¼Œçœ‹çœ‹ä¸€ä¸ªæ­£å¸¸çš„ç½‘ç»œé€šä¿¡ï¼ŒGFWåšä¸ºä¸­é—´äººï¼Œåˆ†åˆ«ç»™ä¸¤ç«¯åœ¨ä»€ä¹ˆæ—¶å€™å‘äº†ä»€ä¹ˆåŒ…æˆ–è€…è¿‡æ»¤æ‰äº†ä»€ä¹ˆåŒ…ã€‚è€Œè¿™äº›GFWåšçš„åŠ¨ä½œï¼Œæ— è®ºæ˜¯è¿‡æ»¤è¿˜æ˜¯å‘ä¼ªåŒ…åˆæ˜¯å¦‚ä½•å¹²æ‰°å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ­£å¸¸é€šä¿¡çš„ã€‚whereæ˜¯åœ¨çŸ¥é“äº†howä¹‹åçš„è¿›ä¸€æ­¥å‘å±•ï¼Œä¸ä½†è¦äº†è§£å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿™ä¸¤ç«¯çš„æƒ…å†µï¼Œæ›´è¦äº†è§£GFWæ˜¯æŒ‚åœ¨ä¸¤ç«¯ä¸­é—´çš„å“ªä¸€çº§è·¯ç”±å™¨ä¸Šåšå¹²æ‰°çš„ã€‚åœ¨äº†è§£åˆ°GFWçš„å…³è”è·¯ç”±å™¨çš„IPçš„åŸºç¡€ä¸Šï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„å¹²æ‰°è¡Œä¸ºï¼Œä¸åŒçš„è¿è¥å•†å½’å±åšåˆ†ç»„ï¼Œè¿›ä¸€æ­¥äº†è§£GFWçš„æ•´ä½“éƒ¨ç½²æƒ…å†µã€‚ æ•´ä½“ä¸Šæ¥è¯´ï¼Œå¯¹GFWçš„ç ”ç©¶éƒ½æ˜¯ä»whatå’Œwhenå¼€å§‹ï¼Œè®©åäººæ–‡çš„å°±å»ç ”ç©¶whoå’Œwhyï¼Œåƒæˆ‘ä»¬è¿™æ ·åå·¥ç¨‹çš„å°±ä¼šå»ç ”ç©¶howå’Œwhereã€‚ä»¥ä¸Šå°±æ˜¯å…¨é¢äº†è§£GFWçš„ä¸»ä½“è„‰ç»œã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦ä»¥howå’Œwhereè¿™ä¸¤ä¸ªè§’åº¦å»çœ‹ä¸€çœ‹GFWçš„åŸç†ã€‚\nGFWçš„åŸç† è¦ä¸GFWå¯¹æŠ—ä¸èƒ½ä»…ä»…åœç•™åœ¨ä»€ä¹ˆä¸èƒ½è®¿é—®äº†ï¼Œä»€ä¹ˆå¯ä»¥è®¿é—®ä¹‹ç±»çš„è¡¨é¢ç°è±¡ä¸Šã€‚çŸ¥é“youtubeä¸èƒ½è®¿é—®äº†ï¼Œå¯¹äºç¿»å¢™æ¥è¯´å¹¶æ— å¸®åŠ©ã€‚ä½†æ˜¯çŸ¥é“GFWæ˜¯å¦‚ä½•è®©æˆ‘ä»¬ä¸èƒ½è®¿é—®youtubeçš„ï¼Œåˆ™å¯¹ä¸‹ä¸€æ­¥çš„ç¿»å¢™æ–¹æ¡ˆçš„é€‰æ‹©å’Œå®æ–½å…·æœ‰é‡å¤§æ„ä¹‰ã€‚æ‰€ä»¥åœ¨è®¨è®ºå¦‚ä½•ç¿»ä¹‹å‰ï¼Œå…ˆè¦æ·±å…¥åŸç†äº†è§£GFWæ˜¯å¦‚ä½•å°çš„ã€‚ æ€»çš„æ¥è¯´ï¼ŒGFWæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªä¸¥æ ¼æ„ä¹‰ä¸Šçš„é˜²ç«å¢™ã€‚ä¸æ˜¯è¯´æ¯ä¸ªå‡ºå…¥å›½å¢ƒçš„IPåŒ…éƒ½éœ€è¦å…ˆç»è¿‡GFWçš„é¦–å¯ã€‚åšä¸ºä¸€ä¸ªå…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼ŒGFWæŠŠä½ æ¯ä¸€æ¬¡è®¿é—®facebookéƒ½çœ‹åšä¸€æ¬¡å…¥ä¾µï¼Œç„¶ååœ¨æ£€æµ‹åˆ°å…¥ä¾µä¹‹åé‡‡å–åº”å¯¹æªæ–½ï¼Œä¹Ÿå°±æ˜¯å¸¸è§çš„è¿æ¥é‡ç½®ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸€èˆ¬è¯æ¥è¯´å°±æ˜¯ï¼š\næ£€æµ‹æœ‰ä¸¤ç§æ–¹å¼ã€‚ä¸€ç§æ˜¯äººå·¥æ£€æµ‹ï¼Œä¸€ç§æ˜¯æœºå™¨æ£€æµ‹ã€‚ä½ å»å›½æ–°åŠç½‘ç«™ä¸¾æŠ¥ï¼Œå°±æ˜¯å‚ä¸äº†äººå·¥æ£€æµ‹ã€‚åœ¨äººå·¥æ£€æµ‹åˆ°ä¸å’Œè°çš„ç½‘ç«™ä¹‹åï¼Œå°±ä¼šé‡‡å–ä¸€äº›åº”å¯¹æ–¹å¼æ¥é˜²æ­¢å›½å†…çš„ç½‘æ°‘è®¿é—®è¯¥ç½‘ç«™ã€‚å¯¹äºè¿™ç±»çš„å°é”ï¼Œè§„é¿æ£€æµ‹å°±ä¸æ˜¯æŠ€æœ¯é—®é¢˜äº†ï¼Œåªèƒ½ä»GFWé‡‡å–çš„åº”å¯¹æ–¹å¼ä¸Šé‡‡å–ååˆ¶æªæ–½ã€‚å¦å¤–ä¸€ç±»æ£€æµ‹æ˜¯æœºå™¨æ£€æµ‹ï¼Œå…¶æ£€æµ‹è¿‡ç¨‹åˆå¯ä»¥å†è¿›ä¸€æ­¥ç»†åˆ†ï¼š\né‡å»º é‡å»ºæ˜¯æŒ‡GFWä»ç½‘ç»œä¸Šç›‘å¬è¿‡å¾€çš„IPåŒ…ï¼Œç„¶ååˆ†æå…¶ä¸­çš„TCPåè®®ï¼Œæœ€åé‡å»ºå‡ºä¸€ä¸ªå®Œæ•´çš„å­—èŠ‚æµã€‚åˆ†ææ˜¯åœ¨è¿™ä¸ªé‡å»ºçš„å­—èŠ‚æµä¸Šåˆ†æå…·ä½“çš„åº”ç”¨åè®®ï¼Œæ¯”å¦‚HTTPåè®®ã€‚ç„¶ååœ¨åº”ç”¨åè®®ä¸­æŸ¥æ‰¾æ˜¯ä¸æ˜¯æœ‰ä¸å’Œè°çš„å†…å®¹ï¼Œç„¶åå†³å®šé‡‡ç”¨ä½•ç§åº”å¯¹æ–¹å¼ã€‚ æ‰€ä»¥ï¼ŒGFWæœºå™¨æ£€æµ‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯é‡å»ºå‡ºä¸€ä¸ªå­—èŠ‚æµã€‚é‚£ä¹ˆGFWæ˜¯å¦‚ä½•æ‹¿åˆ°åŸå§‹çš„IPåŒ…çš„å‘¢ï¼ŸçœŸæ­£çš„GFWéƒ¨ç½²æ–¹å¼ï¼Œå¤–äººæ ¹æœ¬æ— ä»å¾—çŸ¥ã€‚æ®çŒœæµ‹ï¼ŒGFWæ˜¯éƒ¨ç½²åœ¨å›½å®¶çš„å‡ºå£è·¯ç”±å™¨çš„æ—è·¯ä¸Šï¼Œç”¨â€œåˆ†å…‰â€çš„æ–¹å¼æŠŠIPåŒ…å¤åˆ¶ä¸€ä»½åˆ°å¦å¤–ä¸€æ ¹å…‰çº¤ä¸Šï¼Œä»è€Œæ‹¿åˆ°æ‰€æœ‰è¿›å‡ºå›½å¢ƒçš„IPåŒ…ã€‚\nGFWé€šè¿‡é…ç½®éª¨å¹²ç½‘çš„BGPè·¯ç”±è§„åˆ™ï¼Œæ˜¯å¯ä»¥è®©å›½å†…æœºæˆ¿çš„æµé‡ç»è¿‡å®ƒã€‚ä¸€ä¸ªä¾‹å­æ˜¯å½“æˆ‘ä»¬è®¿é—®è¢«å°çš„ç½‘ç«™è§¦å‘è¿æ¥é‡ç½®çš„æ—¶å€™ï¼Œå¾€å¾€æ”¶åˆ°ä¸¤ä¸ªRSTåŒ…ï¼Œä½†æ˜¯TTLä¸åŒã€‚è¿˜æœ‰ä¸€ä¸ªä¾‹å­æ˜¯å¯¹äºè¢«å°çš„IPï¼Œè®¿é—®çš„IPåŒ…è¿˜æ²¡æœ‰åˆ°è¾¾å›½é™…å‡ºå£å°±å·²ç»è¢«ä¸¢å¼ƒã€‚æ‰€ä»¥GFWåº”è¯¥åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿéƒ¨ç½²æœ‰è®¾å¤‡ï¼Œæ®æ¨æµ‹æ˜¯åœ¨çœçº§éª¨å¹²è·¯ç”±çš„ä½ç½®ã€‚ å¯¹äºGFWåˆ°åº•åœ¨å“ªè¿™ä¸ªè¯é¢˜ï¼Œæœ€è¿‘åˆæœ‰å›½å¤–å‹äººè¡¨è¾¾äº†å…´è¶£ï¼ˆ https://github.com/mothran/mongolï¼‰ã€‚å…¶åŸç†æ˜¯åŸºäºä¸€ä¸ªIPåè®®çš„ç‰¹æ€§å«TTLã€‚TTLæ˜¯Time to Liveçš„ç®€å†™ã€‚IPåŒ…åœ¨æ²¡ç»è¿‡ä¸€æ¬¡è·¯ç”±çš„æ—¶å€™ï¼Œè·¯ç”±å™¨éƒ½ä¼šæŠŠIPåŒ…çš„TTLå‡å»1ã€‚å¦‚æœTTLåˆ°é›¶äº†ï¼Œè·¯ç”±å™¨å°±ä¸ä¼šå†æŠŠIPåŒ…å‘ç»™ä¸‹ä¸€çº§è·¯ç”±ã€‚ç„¶åæˆ‘ä»¬çŸ¥é“GFWä¼šåœ¨ç›‘å¬åˆ°ä¸å’Œè°çš„IPåŒ…ä¹‹åå‘å›RSTåŒ…æ¥é‡ç½®TCPè¿æ¥ã€‚é‚£ä¹ˆé€šè¿‡è®¾ç½®ä¸åŒçš„TTLå°±å¯ä»¥çŸ¥é“ä»ä½ çš„ç”µè„‘ï¼Œåˆ°GFWä¹‹é—´ç»è¿‡äº†å‡ ä¸ªè·¯ç”±å™¨ã€‚æ¯”å¦‚è¯´TTLè®¾ç½®æˆ9ä¸è§¦å‘RSTï¼Œä½†æ˜¯10å°±è§¦å‘RSTï¼Œé‚£ä¹ˆåˆ°GFWå°±æ˜¯ç»è¿‡äº†10ä¸ªè·¯ç”±å™¨ã€‚å¦å¤–ä¸€ä¸ªIPåè®®çš„ç‰¹æ€§æ˜¯å½“TTLè€—å°½çš„æ—¶å€™ï¼Œè·¯ç”±å™¨åº”è¯¥å‘å›ä¸€ä¸ªTTL EXCEEDEDçš„ICMPåŒ…ï¼Œå¹¶æŠŠè‡ªå·±çš„IPåœ°å€è®¾ç½®æˆSRCï¼ˆæ¥æºï¼‰ã€‚ç»“åˆè¿™ä¸¤ç‚¹ï¼Œå°±å¯ä»¥æ¢æµ‹å‡ºIPåŒ…æ˜¯åˆ°äº†IPåœ°å€ä¸ºä»€ä¹ˆçš„è·¯ç”±å™¨ä¹‹åæ‰è¢«GFWæ£€æµ‹åˆ°ã€‚æœ‰äº†IPåœ°å€ä¹‹åï¼Œå†ç»“åˆIPåœ°å€åœ°ç†ä½ç½®çš„æ•°æ®åº“å°±å¯ä»¥çŸ¥é“å…¶åœ°ç†ä½ç½®ã€‚æ®è¯´ï¼Œå¾—å‡ºçš„ä½ç½®å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š\nä½†æ˜¯è¿™é‡Œæ£€æµ‹å‡ºæ¥çš„IPåˆ°åº•æ˜¯GFWçš„è¿˜æ˜¯éª¨å¹²è·¯ç”±å™¨çš„ï¼Ÿæ›´æœ‰å¯èƒ½çš„æ˜¯éª¨å¹²è·¯ç”±å™¨çš„IPã€‚GFWåšä¸ºä¸€ä¸ªè®¾å¤‡ç”¨â€œåˆ†å…‰â€çš„æ–¹å¼æŒ‚åœ¨ä¸»å¹²è·¯ç”±å™¨æ—è¾¹åšå…¥ä¾µæ£€æµ‹ã€‚æ— è®ºå¦‚ä½•ï¼ŒGFWé€šè¿‡æŸç§ç¥å¥‡çš„æ–¹å¼ï¼Œå¯ä»¥æ‹¿åˆ°ä½ å’Œå›½å¤–æœåŠ¡å™¨ä¹‹é—´æ¥å¾€çš„æ‰€æœ‰çš„IPåŒ…ï¼Œè¿™ç‚¹æ˜¯è‚¯å®šçš„ã€‚æ›´ä¸¥è°¨çš„ç†è®ºç ”ç©¶æœ‰ï¼š GFWåœ¨æ‹¥æœ‰äº†è¿™äº›IPåŒ…ä¹‹åï¼Œè¦åšä¸€ä¸ªè‰°éš¾çš„å†³å®šï¼Œé‚£å°±æ˜¯åˆ°åº•è¦ä¸è¦è®©ä½ å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ç»§ç»­ä¸‹å»ã€‚GFWä¸èƒ½å¤ªè¿‡äºæ¿€è¿›ï¼Œæ¯•ç«Ÿå…¨å›½æ€§çš„ä¸èƒ½è®¿é—®å›½å¤–çš„ç½‘ç«™æ˜¯è¿åGFWè‡ªèº«å­˜åœ¨ä»·å€¼çš„ã€‚GFWå°±éœ€è¦åœ¨ç†è§£äº†IPåŒ…èƒŒåä»£è¡¨çš„å«ä¹‰ä¹‹åï¼Œå†æ¥å†³å®šæ˜¯ä¸æ˜¯å¯ä»¥å®‰å…¨çš„é˜»æ–­ä½ å’Œå›½å¤–æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚è¿™ç§ç†è§£å°±è¦å»ºç«‹äº†å‰é¢è¯´çš„â€œé‡å»ºâ€è¿™ä¸€æ­¥çš„åŸºç¡€ä¸Šã€‚å¤§æ¦‚ç”¨å›¾è¡¨è¾¾ä¸€ä¸‹é‡å»ºæ˜¯åœ¨æ€ä¹ˆä¸€å›äº‹ï¼š\né‡å»ºè¿™æ ·çš„å­—èŠ‚æµæœ‰ä¸€ä¸ªéš¾ç‚¹æ˜¯å¦‚ä½•å¤„ç†å·¨å¤§çš„æµé‡ï¼Ÿå…¶åŸç†ä¸ç½‘ç«™çš„è´Ÿè½½å‡è¡¡å™¨ä¸€æ ·ã€‚å¯¹äºç»™å®šçš„æ¥æºå’Œç›®æ ‡ï¼Œä½¿ç”¨ä¸€ä¸ªHASHç®—æ³•å–å¾—ä¸€ä¸ªèŠ‚ç‚¹å€¼ï¼Œç„¶åæŠŠæ‰€æœ‰ç¬¦åˆè¿™ä¸ªæ¥æºå’Œç›®æ ‡çš„æµé‡éƒ½å¾€è¿™ä¸ªèŠ‚ç‚¹å‘ã€‚æ‰€ä»¥åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šå°±å¯ä»¥é‡å»ºä¸€ä¸ªTCPä¼šè¯çš„å•å‘å­—èŠ‚æµã€‚ æœ€åä¸ºäº†è®¨è®ºå®Œæ•´ï¼Œå†æä¸¤ç‚¹ã€‚è™½ç„¶GFWçš„é‡å»ºå‘ç”Ÿåœ¨æ—è·¯ä¸Šæ˜¯åŸºäºåˆ†å…‰æ¥å®ç°çš„ï¼Œä½†å¹¶ä¸ä»£è¡¨æ•´ä¸ªGFWçš„æ‰€æœ‰è®¾å¤‡éƒ½åœ¨æ—è·¯ã€‚åé¢ä¼šæåˆ°æœ‰ä¸€äº›GFWåº”å¯¹å½¢å¼å¿…é¡»æ˜¯æŠŠä¸€äº›GFWçš„è®¾å¤‡éƒ¨ç½²åœ¨äº†ä¸»å¹²è·¯ç”±ä¸Šï¼Œä¹Ÿå°±æ˜¯GFWæ˜¯è¦å‚ä¸éƒ¨åˆ†IPçš„è·¯ç”±å·¥ä½œçš„ã€‚å¦å¤–ä¸€ç‚¹æ˜¯ï¼Œé‡å»ºæ˜¯å•å‘çš„TCPæµï¼Œä¹Ÿå°±æ˜¯GFWæ ¹æœ¬ä¸åœ¨ä¹åŒå‘çš„å¯¹è¯å†…å®¹ï¼Œå®ƒåªæ ¹æ®ç›‘å¬åˆ°çš„ä¸€ä¸ªæ–¹å‘çš„å†…å®¹ç„¶ååšåˆ¤æ–­ã€‚ä½†æ˜¯ç›‘å¬æœ¬èº«æ˜¯åŒå‘çš„ï¼Œä¹Ÿå°±æ˜¯æ— è®ºæ˜¯ä»å›½å†…å‘åˆ°å›½å¤–ï¼Œè¿˜æ˜¯ä»å›½å¤–å‘åˆ°å›½å†…ï¼Œéƒ½ä¼šè¢«é‡å»ºç„¶ååŠ ä»¥åˆ†æã€‚æ‰€ä»¥ä¸€ä¸ªTCPè¿æ¥å¯¹äºGFWæ¥è¯´ä¼šè¢«é‡å»ºæˆä¸¤ä¸ªå­—èŠ‚æµã€‚å…·ä½“çš„è¯æ®ä¼šåœ¨åé¢è°ˆå¦‚ä½•ç›´ç©¿GFWä¸­è¯¦ç»†è®²è§£ã€‚\nåˆ†æ åˆ†ææ˜¯GFWåœ¨é‡å»ºå‡ºå­—èŠ‚æµä¹‹åè¦åšçš„ç¬¬äºŒæ­¥ã€‚å¯¹äºé‡å»ºæ¥è¯´ï¼ŒGFWä¸»è¦å¤„ç†IPåè®®ï¼Œä»¥åŠä¸Šä¸€å±‚çš„TCPå’ŒUDPåè®®å°±å¯ä»¥äº†ã€‚ä½†æ˜¯å¯¹äºåˆ†ææ¥è¯´ï¼ŒGFWå°±éœ€è¦ç†è§£å„ç§å„æ ·çš„åº”ç”¨å±‚çš„ç¨€å¥‡å¤æ€ªçš„åè®®äº†ã€‚ç”šè‡³ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±å‘æ˜æ–°çš„åè®®ã€‚ æ€»çš„æ¥è¯´ï¼ŒGFWåšåè®®åˆ†ææœ‰ä¸¤ä¸ªç›¸ä¼¼ï¼Œä½†æ˜¯ä¸åŒçš„ç›®çš„ã€‚ç¬¬ä¸€ä¸ªç›®çš„æ˜¯é˜²æ­¢ä¸å’Œè°å†…å®¹çš„ä¼ æ’­ï¼Œç¬¬äºŒä¸ªç›®çš„æ˜¯é˜²æ­¢ä½¿ç”¨ç¿»å¢™å·¥å…·ç»•è¿‡GFWçš„å®¡æŸ¥ã€‚ä¸‹é¢åˆ—ä¸¾ä¸€äº›å·²çŸ¥çš„GFWèƒ½å¤Ÿå¤„ç†çš„åè®®ã€‚ å¯¹äºGFWå…·ä½“æ˜¯æ€ä¹ˆè¾¾åˆ°ç›®çš„ä¸€ï¼Œä¹Ÿå°±æ˜¯é˜²æ­¢ä¸å’Œè°å†…å®¹ä¼ æ’­çš„å°±ç‰µæ¶‰åˆ°å¯¹HTTPåè®®å’ŒDNSåè®®ç­‰å‡ ä¸ªåè®®çš„æ˜æ–‡å®¡æŸ¥ã€‚å¤§ä½“çš„åšæ³•æ˜¯è¿™æ ·çš„:\nåƒHTTPè¿™æ ·çš„åè®®ä¼šæœ‰éå¸¸æ˜æ˜¾çš„ç‰¹å¾ä¾›æ£€æµ‹ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ã€‚å½“GFWå‘ç°äº†åŒ…æ˜¯HTTPçš„åŒ…ä¹‹åå°±ä¼šæŒ‰ç…§HTTPçš„åè®®è§„åˆ™æ‹†åŒ…ã€‚è¿™ä¸ªæ‹†åŒ…è¿‡ç¨‹æ˜¯GFWæŒ‰ç…§å®ƒå¯¹äºåè®®çš„ç†è§£æ¥åšçš„ã€‚æ¯”å¦‚è¯´ï¼Œä»HTTPçš„GETè¯·æ±‚ä¸­å–å¾—è¯·æ±‚çš„URLã€‚ç„¶åGFWæ‹¿åˆ°è¿™ä¸ªè¯·æ±‚çš„URLå»ä¸å…³é”®å­—åšåŒ¹é…ï¼Œæ¯”å¦‚æŸ¥æ‰¾Twitteræ˜¯å¦åœ¨è¯·æ±‚çš„URLä¸­ã€‚ä¸ºä»€ä¹ˆæœ‰æ‹†åŒ…è¿™ä¸ªè¿‡ç¨‹ï¼Ÿé¦–å…ˆï¼Œæ‹†åŒ…ä¹‹åå¯ä»¥æ›´ç²¾ç¡®çš„æ‰“å‡»ï¼Œé˜²æ­¢è¯¯æ€ã€‚å¦å¤–å¯èƒ½é¢„å…ˆåšæ‹†åŒ…ï¼Œæ¯”å…¨æ–‡åŒ¹é…æ›´èŠ‚çœèµ„æºã€‚å…¶æ¬¡ï¼ŒGFWè¿˜æ˜¯å…ˆå»ç†è§£åè®®ï¼Œç„¶åæ‰åšå…³é”®å­—åŒ¹é…çš„ã€‚å…³é”®å­—åŒ¹é…åº”è¯¥å°±æ˜¯ä½¿ç”¨äº†ä¸€äº›é«˜æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼ç®—æ³•ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥è®¨è®ºçš„ã€‚ HTTPä»£ç†å’ŒSOCKSä»£ç†ï¼Œè¿™ä¸¤ç§æ˜æ–‡çš„ä»£ç†éƒ½å¯ä»¥è¢«GFWè¯†åˆ«ã€‚ä¹‹å‰ç¬”è€…è®¤ä¸ºGFWå¯ä»¥åœ¨è¯†åˆ«åˆ°HTTPä»£ç†å’ŒSOCKSä»£ç†ä¹‹åï¼Œå†æ‹†è§£å…¶å†…éƒ¨çš„HTTPåè®®çš„æ­£æ–‡ã€‚ä¹Ÿå°±æ˜¯åšä¸¤æ¬¡æ‹†åŒ…ã€‚ä½†æ˜¯åˆ†æå‘ç°ï¼ŒHTTPä»£ç†çš„å…³é”®å­—åˆ—è¡¨å’ŒHTTPçš„å…³é”®å­—åˆ—è¡¨æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç¬”è€…ç°åœ¨è®¤ä¸ºHTTPä»£ç†åè®®å’ŒSOCKSä»£ç†åè®®æ˜¯å½“ä½œå•ç‹¬çš„åè®®æ¥å¤„ç†çš„ï¼Œå¹¶ä¸æ˜¯æ‹†å‡ºè½½è·çš„HTTPè¯·æ±‚å†è¿›è¡Œåˆ†æçš„ã€‚ ç›®å‰å·²çŸ¥çš„GFWä¼šåšçš„åè®®åˆ†æå¦‚ä¸‹ï¼š\nDNS æŸ¥è¯¢ GFWå¯ä»¥åˆ†æ53ç«¯å£çš„UDPåè®®çš„DNSæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢çš„åŸŸååŒ¹é…å…³é”®å­—åˆ™ä¼šè¢«DNSåŠ«æŒã€‚å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œè¿™ä¸ªåŒ¹é…è¿‡ç¨‹ä½¿ç”¨çš„æ˜¯ç±»ä¼¼æ­£åˆ™çš„æœºåˆ¶ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªé»‘åå•ï¼Œå› ä¸ºå­åŸŸåå®åœ¨å¤ªå¤šäº†ã€‚è¯æ®æ˜¯ï¼š2012å¹´11æœˆ9æ—¥ä¸‹åˆ3ç‚¹åŠå¼€å§‹ï¼Œé˜²ç«é•¿åŸå¯¹Googleçš„æ³›åŸŸå .google.com è¿›è¡Œäº†å¤§é¢ç§¯çš„æ±¡æŸ“ï¼Œæ‰€æœ‰ä»¥ google.com ç»“å°¾çš„åŸŸåå‡é­åˆ°æ±¡æŸ“è€Œè§£æé”™è¯¯ä¸èƒ½æ­£å¸¸è®¿é—®ï¼Œå…¶ä¸­ç”šè‡³åŒ…æ‹¬ä¸å­˜åœ¨çš„åŸŸåã€‚ ç›®å‰ä¸ºæ­¢53ç«¯å£ä¹‹å¤–çš„æŸ¥è¯¢ä¹Ÿæ²¡æœ‰è¢«åŠ«æŒã€‚ä½†æ˜¯TCPçš„DNSæŸ¥è¯¢å·²ç»å¯ä»¥è¢«TCP RSTåˆ‡æ–­äº†ï¼Œè¡¨æ˜äº†GFWå…·æœ‰è¿™æ ·çš„èƒ½åŠ›ï¼Œåªæ˜¯ä¸å±‘äºå¤§è§„æ¨¡éƒ¨ç½²ã€‚è€Œä¸”TCPæŸ¥è¯¢çš„å…³é”®å­—æ¯”UDPåŠ«æŒçš„åŸŸåè¦å°‘çš„å¤šã€‚\nHTTP è¯·æ±‚ GFWå¯ä»¥è¯†åˆ«å‡ºHTTPåè®®ï¼Œå¹¶ä¸”æ£€æŸ¥GETçš„URLä¸HOSTã€‚å¦‚æœåŒ¹é…äº†å…³é”®å­—åˆ™ä¼šè§¦å‘TCP RSTé˜»æ–­ã€‚\nHTTP å“åº” GFWé™¤äº†ä¼šåˆ†æä¸Šè¡Œçš„HTTP GETè¯·æ±‚ï¼Œå¯¹äºHTTPè¿”å›çš„å†…å®¹ä¹Ÿä¼šåšå…¨æ–‡å…³é”®å­—æ£€æŸ¥ã€‚è¿™ç§æ£€æŸ¥ä¸å¯¹è¯·æ±‚çš„å…³é”®å­—æ£€æŸ¥ä¸æ˜¯ç”±åŒä¸€è®¾å¤‡å®Œæˆçš„ï¼Œè€Œä¸”å¯¹GFWçš„èµ„æºæ¶ˆè€—ä¹Ÿæ›´å¤§ã€‚\nHTTPä»£ç†åè®® ç•¥\nSOCKS4/5ä»£ç†åè®® ç•¥\nSMTP åè®® å› ä¸ºæœ‰å¾ˆå¤šç¿»å¢™è½¯ä»¶éƒ½æ˜¯ä»¥é‚®ä»¶ç´¢å–ä¸‹è½½åœ°å€çš„æ–¹å¼å‘å¸ƒçš„ï¼Œæ‰€ä»¥GFWæœ‰é’ˆå¯¹æ€§çš„å°é”äº†SMTPåè®®ï¼Œé˜»æ­¢è¿™æ ·çš„é‚®ä»¶å¾€æ¥ã€‚ å°é”æœ‰ä¸‰ç§è¡¨ç°æ–¹å¼ï¼Œç®€å•æ¦‚è¦çš„è¯´å°±æ˜¯çœ‹é‚®ä»¶æ˜¯ä¸æ˜¯å‘å¾€ä¸Šäº†é»‘åå•çš„é‚®ä»¶åœ°å€çš„ï¼Œå¦‚æœå‘ç°äº†å°±ç«‹é©¬ç”¨TCP RSTåŒ…åˆ‡æ–­è¿æ¥ã€‚\nå‘ç°å‘ä»¶äººåœ¨é»‘åå•ä¸­ï¼Œç«‹å³é‡ç½®TCPé“¾æ¥\nfrom scapy.all import * send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;S\u0026#39;, seq=0)) send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;A\u0026#39;, seq=1)) send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;A\u0026#39;, seq=1) / \u0026#39;MAIL FROM: xiazai@upup.info\\r\\n\u0026#39;) çœ‹ä¼¼æ™®é€šçš„ä¸‰ä¸ªåŒ…å…¶å®æš—è—ç„æœºã€‚é¦–å…ˆï¼Œç›®æ ‡åœ°å€æ˜¯1.2.3.4ï¼Œè¿™æ˜¾ç„¶æ˜¯æˆ‘èƒ¡å†™çš„ä¸€ä¸ªåœ°å€ï¼Œè€Œä¸”TTLè®¾ç½®ä¸º9ã€‚æ‰€ä»¥è¿™ä¸ªåŒ…å‘å‡ºå»å°±æ²¡æœ‰æ‰“ç®—è®©æœ€ç»ˆçš„ç›®æ ‡æœºå™¨æ¥åˆ°ï¼Œè€Œåªæ˜¯å‘ç»™GFWçœ‹çš„ã€‚è¿™ä¸ªTTLå€¼è¦å¤§äºä½ çš„æœºå™¨åˆ°GFWçš„è·³æ•°ï¼Œä¸€èˆ¬11æ˜¯ä¸€ä¸ªä¿é™©çš„å€¼ã€‚\nç„¶åè¦è§¦å‘GFWçš„å“åº”ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªç¼ºä¸€ä¸å¯çš„æ¡ä»¶:\nç›®æ ‡ç«¯å£æ˜¯25ï¼Œæˆ‘å°è¯•äº†å…¶ä»–å‡ ä¸ªç«¯å£æ²¡æœ‰å‘ç°è§¦å‘å“åº”ã€‚ ç¬¬äºŒä¸ªåŒ…è™½ç„¶å†…å®¹æ˜¯ç©ºçš„ï¼Œä½†æ˜¯å¿…é¡»å­˜åœ¨ã€‚è€Œä¸”å¿…é¡»æ˜¯ACKã€‚å†…å®¹ä¹Ÿå¯ä»¥ä¸ä¸ºç©ºï¼ŒGFWä¼¼ä¹ä¸careå†…å®¹æ˜¯ä»€ä¹ˆï¼Œåªè¦æœ‰è¿™ä¸ªåŒ…å°±å¯ä»¥ã€‚ ç¬¬ä¸‰ä¸ªåŒ…çš„seqå¿…é¡»ä¸º1ï¼Œå“ªæ€•ç¬¬äºŒåŒ…æœ‰å†…å®¹äº†ï¼Œè¿™ä¸ªåŒ…çš„seqä¹Ÿå¿…é¡»ä¸º1ã€‚è€Œä¸”MAIL FROM: \\r\\nè¿™ä¸ªæ ¼å¼å¿…é¡»å¯¹ï¼Œä¸èƒ½æ›¿æ¢æˆFROM MAILå•¥çš„ã€‚è¿˜æœ‰ä¸€ä¸ªæ¡ä»¶å°±æ˜¯é‚®ä»¶åœ°å€å¿…é¡»ä¸Šäº†é»‘åå•ã€‚è¿™é‡Œä¸¾çš„ä¾‹å­æ˜¯ä¸€ä¸ªç¿»å¢™è½¯ä»¶çš„ç´¢å–åœ°å€ï¼Œæ‰€ä»¥ä¸Šäº†é»‘åå•ã€‚ è§‚æµ‹åˆ°çš„å“åº”æ˜¯GFWå‘ä¸€ä¸ªTCP RSTåŒ…ã€‚è€Œä¸”æ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªï¼Œä»æ¥ä¸å¤šå‘ã€‚å¦‚æœå°‘äº†ä¸­é—´é‚£ä¸ªç©ºçš„ACKï¼Œåˆ™æ˜¯è¿åšä¸¤æ¬¡æ¢æµ‹è§¦å‘ä¸€ä¸ªTCP RSTã€‚è²Œä¼¼GFWæŠŠä¸¤æ¬¡æ¢æµ‹è®¤ä¸ºæ˜¯ä¸€ä¸ªè¿æ¥äº†ã€‚\nå‘ç°æ”¶ä»¶äººåœ¨é»‘åå•ä¸­ï¼Œç«‹å³é‡ç½®TCPé“¾æ¥ from scapy.all import * send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;S\u0026#39;, seq=0)) send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;A\u0026#39;, seq=1)) send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;A\u0026#39;, seq=1) / \u0026#39;RCPT TO: xiazai@upup.info\\r\\n\u0026#39;) è¿™ä¸ä¸Šé¢çš„MAIL FROMçš„ä¾‹å­åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ä¸åŒä¹‹å¤„åªæœ‰ä¸€ç‚¹å°±æ˜¯æœ‰çš„æ—¶å€™å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªTCP RSTçš„å›åŒ…ã€‚\nå‘ç°æ”¶ä»¶äººåœ¨é»‘åå•ä¸­ï¼Œå‘å›ç”¨æˆ·ä¸å­˜åœ¨çš„é”™è¯¯æ¶ˆæ¯ from scapy.all import * send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;S\u0026#39;, seq=0)) send(IP(dst=\u0026#39;1.2.3.4\u0026#39;, ttl=9) / TCP(dport=25, flags=\u0026#39;A\u0026#39;, seq=1) / \u0026#39;EHLO anything-here\\nRCPT TO: xiazai@upup.info\\n\u0026#39;) å¾—åˆ°çš„é”™è¯¯æ¶ˆæ¯æ˜¯ â€œ551 User not local; please try \\r\\nâ€ã€‚æœ‰çš„æ—¶å€™è¿˜ä¼šä¼´éšæœ‰æ•°ä¸ªè¿ç»­çš„TCP RSTã€‚åŒæ ·å› ä¸ºåŒ…æ ¹æœ¬æ²¡æœ‰åˆ°å¯¹æ–¹çš„æœåŠ¡å™¨ï¼Œè€Œä¸”è¿™ä¸ªæœåŠ¡å™¨å‹æ ¹å°±ä¸å­˜åœ¨ï¼Œæ‰€ä»¥è¿™ä¸ªç”¨æˆ·ä¸å­˜åœ¨çš„é”™è¯¯æ¶ˆæ¯åªèƒ½æ˜¯GFWåšå‡ºçš„å“åº”ã€‚ è§¦å‘çš„æ¡ä»¶æ˜¯\nç›®æ ‡ç«¯å£å¿…é¡»æ˜¯25 ç¬¬äºŒä¸ªåŒ…çš„ç¬¬ä¸€ä¸ªå‘½ä»¤å¿…é¡»æ˜¯EHLOæˆ–è€…HELOï¼Œå†…å®¹æ²¡æœ‰å…³ç³» ç¬¬äºŒä¸ªåŒ…çš„ç¬¬äºŒä¸ªå‘½ä»¤å¿…é¡»æ˜¯RCPT TOï¼Œè€Œä¸”é‚®ä»¶åœ°å€è¦åœ¨é»‘åå•ä¸­ã€‚ \\r\\næ²¡æœ‰å…³ç³»ï¼Œ\\nä¹Ÿæ˜¯å¯ä»¥è§¦å‘çš„ è¿™æ¬¡è§¦å‘çš„æ¡ä»¶æ˜¯ä¸€ä¸ªåˆæ³•çš„SMTPè¯·æ±‚è¿‡ç¨‹ã€‚è€Œä¹‹å‰çš„è§¦å‘è¿‡ç¨‹æ ¹æœ¬å°±ä¸æ˜¯åˆæ³•çš„SMTPè¯·æ±‚ã€‚è€Œä¸”å¦å¤–ä¸€ä¸ªç‰¹å¾æ˜¯è¿™æ ·è§¦å‘çš„TCP RSTï¼Œä¼šæœ‰ä¸‰ä¸ªé‡å ï¼Œacké€’åŠ çš„ç°è±¡ï¼Œä¸HTTPå…¨æ–‡å…³é”®å­—çš„å“åº”éå¸¸ç±»ä¼¼ã€‚æˆ‘æ¨æµ‹ï¼Œä¸¤å‹çš„å“åº”æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¨¡å—ã€‚å•ç‹¬å¯¹MAIL FROMå’ŒRCPT TOçš„å°é”ï¼Œä¸å¯¹HTTPå…³é”®å­—çš„å°é”ç±»ä¼¼ï¼Œå±äºçœ‹åˆ°å°±å°å‹ã€‚è€Œåä¸€ç§æ›´æ™ºèƒ½çš„ï¼Œè¿˜ä¼šå›ç­”é”™è¯¯æ¶ˆæ¯çš„æ˜¯èƒ½å¤ŸçœŸæ­£ç†è§£SMTPåè®®çš„æ¨¡å—ï¼Œå¯èƒ½è¿˜ç”¨äºåšé‚®ä»¶å…¨æ–‡å†…å®¹çš„å…³é”®å­—æ£€æµ‹ã€‚\nç”µé©´(ed2k)åè®® GFWè¿˜ä¼šè¿‡æ»¤ç”µé©´ï¼ˆed2kï¼‰åè®®ä¸­çš„æŸ¥è¯¢å†…å®¹ã€‚å› ä¸ºed2kè¿˜æœ‰ä¸€ä¸ªæ··æ·†æ¨¡å¼ï¼Œä¼šåŠ å¯†å¾€æ¥çš„æ•°æ®åŒ…ï¼ŒGFWä¼šåˆ‡æ–­æ‰€æœ‰ä½¿ç”¨æ··æ·†æ¨¡å¼çš„ed2kè¿æ¥ï¼Œè¿«ä½¿å®¢æˆ·ç«¯ä½¿ç”¨æ˜æ–‡ä¸æœåŠ¡å™¨é€šè®¯ã€‚ç„¶åå¦‚æœå®¢æˆ·ç«¯å‘èµ·äº†æœç´¢è¯·æ±‚ï¼ŒæŸ¥æ‰¾çš„å…³é”®å­—ä¸­åŒ…å«æ•æ„Ÿè¯çš„è¯å°±ä¼šè¢«ç”¨TCP RSTåŒ…åˆ‡æ–­è¿æ¥ã€‚\nå¯¹ç¿»å¢™æµé‡çš„åˆ†æè¯†åˆ« GFWçš„ç¬¬äºŒä¸ªç›®çš„æ˜¯å°æ€ç¿»å¢™è½¯ä»¶ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„GFWé‡‡å–çš„æ‰‹æ®µæ›´åŠ æš´åŠ›ã€‚åŸå› ç®€å•ï¼Œå¯¹äºHTTPåè®®çš„å°æ€å¦‚æœåšä¸å¥½ä¼šå½±å“äº’è”ç½‘çš„æ­£å¸¸è¿ä½œï¼ŒGFWä¸äº’è”ç½‘æ˜¯å…±ç”Ÿçš„å…³ç³»ï¼Œå®ƒä¸ä¼šåšå¨èƒè‡ªå·±å­˜åœ¨çš„äº‹æƒ…ã€‚ä½†æ˜¯å¯¹äºTORè¿™æ ·çš„å‡ ä¹çº¯ç²¹æ˜¯ä¸ºç¿»å¢™è€Œå­˜åœ¨çš„åè®®ï¼Œåªè¦æ£€æµ‹å‡ºæ¥å°±æ˜¯æ ¼æ€å‹¿è®ºçš„äº†ã€‚GFWå…·ä½“æ˜¯å¦‚ä½•å°æ€å„ç§ç¿»å¢™åè®®çš„ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œäº‹æ€ä»ç„¶åœ¨ä¸æ–­æ›´æ–°ä¸­ã€‚ä½†æ˜¯ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯æ˜GFWçš„é«˜è¶…æŠ€æœ¯ã€‚ ç¬¬ä¸€ä¸ªä¾‹å­æ˜¯GFWå¯¹TORçš„è‡ªåŠ¨å°æ€ï¼Œä½“ç°äº†GFWå°½æœ€å¤§åŠªåŠ›å»ç†è§£åè®®æœ¬èº«ã€‚æ ¹æ®è¿™ç¯‡åšå®¢ï¼ˆ \u0026laquo;https://blog.torproject.org/blog/knock-knock-knockin-bridges-doors\u003e \u0026gt;ï¼‰ã€‚ä½¿ç”¨ä¸­å›½çš„IPå»è¿æ¥ä¸€ä¸ªç¾å›½çš„TORç½‘æ¡¥ï¼Œä¼šè¢«GFWå‘ç°ã€‚ç„¶åGFWå›å¤´ï¼ˆ15åˆ†é’Ÿä¹‹åï¼‰ä¼šäº²è‡ªå‡è£…æˆå®¢æˆ·ç«¯ï¼Œç”¨TORçš„åè®®å»è¿æ¥é‚£ä¸ªç½‘æ¡¥ã€‚å¦‚æœç¡®è®¤æ˜¯TORçš„ç½‘æ¡¥ï¼Œåˆ™ä¼šå°å½“æ—¶çš„é‚£ä¸ªç«¯å£ã€‚æ¢äº†ç«¯å£ä¹‹åï¼Œå¯ä»¥ç”¨ä¸€æ®µæ—¶é—´ï¼Œç„¶ååˆä¼šè¢«å°ã€‚è¿™è¡¨ç°å‡ºäº†GFWå¯¹äºåè®®çš„é«˜è¶…æ£€æµ‹èƒ½åŠ›ï¼Œå¯ä»¥ä»å›½é™…å‡ºå£çš„æµé‡ä¸­æ•é”åœ°å‘ç°ä½ è¿æ¥çš„TORç½‘æ¡¥ã€‚æ®TORçš„åŒå¿—è¯´æ˜¯å› ä¸ºTORåè®®ä¸­çš„æ¡æ‰‹è¿‡ç¨‹å…·æœ‰å¤ªæ˜æ˜¾çš„ç‰¹å¾äº†ã€‚å¦å¤–ä¸€ç‚¹å°±è¡¨ç°äº†GFWçš„ä¸è¾è¾›åŠ³ï¼Œå±…ç„¶ä¼šè‡ªå·±ä¼ªè£…æˆå®¢æˆ·ç«¯è¿‡å»è¿è¿çœ‹ã€‚ ç¬¬äºŒä¸ªä¾‹å­è¡¨ç°äº†GFWæ ¹æœ¬ä¸åœ¨ä¹åŠ å¯†çš„æµé‡ä¸­çš„å…·ä½“å†…å®¹æ˜¯ä¸æ˜¯æœ‰æ•æ„Ÿè¯ã€‚åªè¦ç–‘ä¼¼ç¿»å¢™ï¼Œç‰¹åˆ«æ˜¯æä¾›å•†ä¸šæœåŠ¡ç»™å¤šä¸ªç¿»å¢™ï¼Œå°±ä¼šè¢«å°æ€ã€‚ä½¿ç”¨ShadowSocksåè®®, é¢„å…ˆéƒ¨ç½²å¯†é’¥ï¼Œæ²¡æœ‰æ˜æ˜¾çš„æ¡æ‰‹è¿‡ç¨‹ä»ç„¶è¢«å°ã€‚æ®è¯´æ˜¯GFWå·²ç»å‡çº§ä¸ºèƒ½å¤Ÿæœºå™¨è¯†åˆ«å‡ºå“ªäº›åŠ å¯†çš„æµé‡æ˜¯ç–‘ä¼¼ç¿»å¢™æœåŠ¡çš„ã€‚ æ€»ç»“èµ·æ¥å°±æ˜¯ï¼ŒGFWå·²ç»åŸºæœ¬ä¸Šå®Œæˆäº†ç›®çš„ä¸€çš„æ‰€æœ‰å·¥ä½œã€‚æ˜æ–‡çš„åè®®ä»HTTPåˆ°SMTPéƒ½å¯ä»¥åˆ†æç„¶åå…³é”®å­—æ£€æµ‹ï¼Œç”šè‡³ç”µé©´è¿™æ ·ä¸æ˜¯é‚£ä¹ˆå¤§ä¼—çš„åè®®GFWéƒ½å»æäº†ã€‚ä»åŸç†ä¸Šæ¥è¯´ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½ç ”ç©¶çš„ï¼Œå°±æ˜¯æ˜æ–‡ï¼Œæ‹†åŒ…ï¼Œå…³é”®å­—ã€‚GFWæ˜¾ç„¶è¿‘æœŸçš„å·¥ä½œé‡å¿ƒåœ¨åˆ†æç½‘ç»œæµé‡ä¸Šï¼Œä»ä¸­è¯†åˆ«å‡ºå“ªäº›æ˜¯ç¿»å¢™çš„æµé‡ã€‚è¿™æ–¹é¢çš„ç ”ç©¶è¿˜æ¯”è¾ƒå°‘ï¼Œè€Œä¸”ä¸€ä¸ªæ˜¾è‘—çš„ç‰¹å¾æ˜¯è‡ªå·±ç”¨æ²¡å…³ç³»ï¼Œå¤§è§„æ¨¡éƒ¨ç½²å°±å®¹æ˜“å‡ºé—®é¢˜ã€‚æˆ‘ç›®å‰æ²¡æœ‰åœ¨GFWæ˜¯å¦‚ä½•å°ç¿»å¢™å·¥å…·ä¸Šæœ‰å¤ªå¤šç ”ç©¶ï¼Œåªèƒ½æ˜¯é“å¬é€”è¯´äº†ã€‚\nåº”å¯¹ GFWçš„åº”å¯¹æªæ–½æ˜¯ä¸‰æ­¥ä¸­æœ€æ˜æ˜¾çš„ï¼Œå› ä¸ºå®ƒæœ€ç›´æ¥ã€‚GFWçš„é‡å»ºè¿‡ç¨‹å’Œåè®®åˆ†æçš„è¿‡ç¨‹éœ€è¦è€å¿ƒçš„è¯•æ¢æ‰èƒ½å¤§æ¦‚æ¨æµ‹å‡ºGFWæ˜¯æ€ä¹ˆå®ç°çš„ã€‚ä½†æ˜¯GFWçš„åº”å¯¹æ‰‹æ®µæˆ‘ä»¬æ¯å¤©éƒ½å¯ä»¥è§åˆ°ï¼Œæ¯”å¦‚è¿æ¥é‡ç½®ã€‚GFWçš„åº”å¯¹ç›®å‰å¯ä»¥æ„Ÿå—åˆ°çš„åªæœ‰ä¸€ä¸ªç›®çš„å°±æ˜¯é˜»æ–­ã€‚ä½†æ˜¯ä»å¹¿ä¹‰ä¸Šæ¥è¯´ï¼Œåº”å¯¹æ–¹å¼åº”è¯¥ä¸é™äºé˜»æ–­ã€‚æ¯”å¦‚è¯´è®°å½•ä¸‹æ—¥å¿—ï¼Œç„¶ååšç»Ÿè®¡åˆ†æï¼Œç§‹åç®—è´¦ä»€ä¹ˆçš„ä¹Ÿå¯ä»¥ç®—æ˜¯ä¸€ç§åº”å¯¹ã€‚å°±é˜»æ–­æ–¹å¼è€Œè¨€ï¼Œå…¶å®å¹¶ä¸å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸€ä¸ªä¸ªæ¥åˆ—ä¸¾å§ã€‚\nå°IP ä¸€èˆ¬å¸¸è§äºäººå·¥æ£€æµ‹ä¹‹åçš„åº”å¯¹ã€‚è¿˜æ²¡æœ‰å¬è¯´æœ‰ä»€ä¹ˆæ–¹å¼å¯ä»¥ç›´æ¥ä½¿å¾—GFWçš„æœºå™¨æ£€æµ‹ç›´æ¥å°IPã€‚ä¸€èˆ¬å¸¸è§çš„ç°è±¡æ˜¯GFWæœºå™¨æ£€æµ‹ï¼Œç„¶åç”¨TCP RSTé‡ç½®æ¥åº”å¯¹ã€‚è¿‡äº†ä¸€æ®µæ—¶é—´æ‰ä¼šè¢«å°IPï¼Œè€Œä¸”æ²¡æœ‰æ˜æ˜¾çš„æ—¶é—´è§„å¾‹ã€‚æ‰€ä»¥æˆ‘çš„æ¨æµ‹æ˜¯ï¼Œå…¨å±€æ€§çš„å°IPåº”è¯¥æ˜¯ä¸€ç§éœ€è¦äººå·¥ä»‹å…¥çš„ã€‚æ³¨æ„æˆ‘å¼ºè°ƒäº†å…¨å±€æ€§çš„å°IPï¼Œä¸ä¹‹ç›¸å¯¹çš„æ˜¯éƒ¨åˆ†å°IPï¼Œæ¯”å¦‚åªå¯¹ä½ è®¿é—®é‚£ä¸ªIPå°ä¸ª3åˆ†é’Ÿï¼Œä½†æ˜¯åˆ«äººè¿˜æ˜¯å¯ä»¥è®¿é—®è¿™æ ·çš„ã€‚è¿™æ˜¯ä¸€ç§å®Œå…¨ä¸åŒçš„å°é”æ–¹å¼ï¼Œè™½ç„¶ç°è±¡å·®ä¸å¤šï¼Œéƒ½æ˜¯pingä¹Ÿpingä¸é€šã€‚è¦è§‚æ‘©çš„è¯ping twitter.comå°±å¯ä»¥äº†ï¼Œéƒ½å°äº†å¥½ä¹…äº†ã€‚ å…¶å®ç°æ–¹å¼æ˜¯æŠŠæ— æ•ˆçš„è·¯ç”±é»‘æ´åŠ å…¥åˆ°ä¸»å¹²è·¯ç”±å™¨çš„è·¯ç”±è¡¨ä¸­ï¼Œç„¶åè®©è¿™äº›ä¸»å¹²ç½‘ä¸Šçš„è·¯ç”±å™¨å»å¸®GFWæŠŠåˆ°æŒ‡å®šIPçš„åŒ…ç»™ä¸¢å¼ƒæ‰ã€‚è·¯ç”±å™¨çš„è·¯ç”±è¡¨æ˜¯åŠ¨æ€æ›´æ–°çš„ï¼Œä½¿ç”¨çš„åè®®æ˜¯BGPåè®®ã€‚GFWåªéœ€è¦ç»´æŠ¤ä¸€ä¸ªè¢«å°çš„IPåˆ—è¡¨ï¼Œç„¶åç”¨BGPåè®®å¹¿æ’­å‡ºå»å°±å¥½äº†ã€‚ç„¶åå›½å†…ä¸»å¹²ç½‘ä¸Šçš„è·¯ç”±å™¨éƒ½å¥½åƒå˜æˆäº†GFWçš„ä¸€ä»½å­é‚£æ ·ï¼Œæˆä¸ºäº†å¸®å‡¶ã€‚\nå¦‚æœæˆ‘ä»¬ä½¿ç”¨tracerouteå»æ£€æŸ¥è¿™ç§è¢«å…¨å±€å°é”çš„IPå°±å¯ä»¥å‘ç°ï¼ŒIPåŒ…è¿˜æ²¡æœ‰åˆ°GFWæ‰€åœ¨çš„å›½é™…å‡ºå£å°±å·²ç»è¢«è¿è¥å•†çš„è·¯ç”±å™¨ç»™ä¸¢å¼ƒäº†ã€‚è¿™å°±æ˜¯BGPå¹¿æ’­çš„ä½œç”¨äº†ã€‚\nDNSåŠ«æŒ è¿™ä¹Ÿæ˜¯ä¸€ç§å¸¸è§çš„äººå·¥æ£€æµ‹ä¹‹åçš„åº”å¯¹ã€‚äººå·¥å‘ç°ä¸€ä¸ªä¸å’Œè°ç½‘ç«™ï¼Œç„¶åå°±æŠŠè¿™ä¸ªç½‘ç«™çš„åŸŸåç»™åŠ åˆ°åŠ«æŒåˆ—è¡¨ä¸­ã€‚å…¶åŸç†æ˜¯åŸºäºDNSä¸IPåè®®çš„å¼±ç‚¹ï¼ŒDNSä¸IPè¿™ä¸¤ä¸ªåè®®éƒ½ä¸éªŒè¯æœåŠ¡å™¨çš„æƒå¨æ€§ï¼Œè€Œä¸”DNSå®¢æˆ·ç«¯ä¼šç›²ç›®åœ°ç›¸ä¿¡ç¬¬ä¸€ä¸ªæ”¶åˆ°çš„ç­”æ¡ˆã€‚æ‰€ä»¥ä½ å»æŸ¥è¯¢facebook.comçš„è¯ï¼ŒGFWåªè¦åœ¨æ­£ç¡®çš„ç­”æ¡ˆè¢«è¿”å›ä¹‹å‰æŠ¢ç­”äº†ï¼Œç„¶åä¼ªè£…æˆä½ æŸ¥è¯¢çš„DNSæœåŠ¡å™¨å‘ä½ å‘é”™è¯¯çš„ç­”æ¡ˆå°±å¯ä»¥äº†ã€‚\nä¸‹å›¾ä¸ºGFWå¯¹åŸŸåtelegram.orgçš„åŠ«æŒï¼š\nå¯è§è®¸å¤šåœ°åŒºçš„IPè¢«è§£æåˆ°Twitterå’ŒFacebookç­‰å·²è¢«å°é”çš„IPä¸Šã€‚\nTCP RSTé˜»æ–­ TCPåè®®è§„å®šï¼Œåªè¦çœ‹åˆ°RSTåŒ…ï¼Œè¿æ¥ç«‹é©¬è¢«ä¸­æ–­ã€‚ä»æµè§ˆå™¨é‡Œæ¥çœ‹å°±æ˜¯è¿æ¥å·²ç»è¢«é‡ç½®ã€‚æˆ‘æƒ³å¯¹äºè¿™ä¸ªé”™è¯¯å¤§å®¶éƒ½ä¸é™Œç”Ÿã€‚æ®æˆ‘ä¸ªäººè§‚æ„Ÿï¼Œè¿™ç§å°é”æ–¹å¼æ˜¯GFWç›®å‰çš„ä¸»è¦åº”å¯¹æ‰‹æ®µã€‚å¤§éƒ¨åˆ†çš„RSTæ˜¯æ¡ä»¶è§¦å‘çš„ï¼Œæ¯”å¦‚URLä¸­åŒ…å«æŸäº›å…³é”®å­—ã€‚è¿˜æœ‰ä¸€äº›ç½‘ç«™ï¼Œä¼šè¢«æ— æ¡ä»¶RSTã€‚ä¹Ÿå°±æ˜¯é’ˆå¯¹ç‰¹å®šçš„IPå’Œç«¯å£ï¼Œæ— è®ºåŒ…çš„å†…å®¹å°±ä¼šè§¦å‘RSTã€‚æ¯”è¾ƒè‘—åçš„ä¾‹å­æ˜¯httpsçš„wikipediaã€‚GFWåœ¨TCPå±‚çš„åº”å¯¹æ˜¯åˆ©ç”¨äº†IPv4åè®®çš„å¼±ç‚¹ï¼Œä¹Ÿå°±æ˜¯åªè¦ä½ åœ¨ç½‘ç»œä¸Šï¼Œå°±å‡è£…æˆä»»ä½•äººå‘åŒ…ã€‚æ‰€ä»¥GFWå¯ä»¥å¾ˆè½»æ˜“åœ°è®©ä½ ç›¸ä¿¡RSTç¡®å®æ˜¯Googleå‘çš„ï¼Œè€Œè®©Googleç›¸ä¿¡RSTæ˜¯ä½ å‘çš„ã€‚\nå°ç«¯å£ GFWé™¤äº†è‡ªèº«ä¸»ä½“æ˜¯æŒ‚åœ¨éª¨å¹²è·¯ç”±å™¨æ—è·¯ä¸Šçš„å…¥ä¾µæ£€æµ‹è®¾å¤‡ï¼Œåˆ©ç”¨åˆ†å…‰æŠ€æœ¯ä»è¿™ä¸ªéª¨å¹²è·¯ç”±å™¨æŠ“åŒ…ä¸‹æ¥åšå…¥ä¾µæ£€æµ‹ (æ‰€è°“ IDS)ï¼Œé™¤æ­¤ä¹‹å¤–è¿™ä¸ªè·¯ç”±å™¨è¿˜ä¼šè¢«ç”¨æ¥å°ç«¯å£ (æ‰€è°“ IPS)ã€‚GFWåœ¨æ£€æµ‹åˆ°å…¥ä¾µä¹‹åå¯ä»¥ä¸ä»…ä»…å¯ä»¥ç”¨TCP RSTé˜»æ–­å½“å‰è¿™ä¸ªè¿æ¥ï¼Œè€Œä¸”åˆ©ç”¨éª¨å¹²è·¯ç”±å™¨è¿˜å¯ä»¥å¯¹æŒ‡å®šçš„IPæˆ–è€…ç«¯å£è¿›è¡Œä»å°ç«¯å£åˆ°å°IPï¼Œè®¾ç½®é€‰æ‹©æ€§ä¸¢åŒ…çš„å„ç§å°ç¦æªæ–½ã€‚å¯ä»¥ç†è§£ä¸ºéª¨å¹²è·¯ç”±å™¨ä¸Šå…·æœ‰äº†ç±»ä¼¼â€œiptablesâ€çš„èƒ½åŠ›ï¼ˆç½‘ç»œå±‚å’Œä¼ è¾“å±‚çš„å®æ—¶æ‹†åŒ…ï¼ŒåŒ¹é…è§„åˆ™çš„èƒ½åŠ›ï¼‰ã€‚è¿™ä¸ªiptablesçš„èƒ½åŠ›åœ¨CISCOè·¯ç”±å™¨ä¸Šå«åšACL Based Forwarding (ABF)ã€‚è€Œä¸”è§„åˆ™çš„éƒ¨ç½²æ˜¯å…¨å›½åŒæ­¥çš„ï¼Œä¸€å°è·¯ç”±å™¨å°äº†ä½ çš„ç«¯å£ï¼Œå…¨å›½çš„æŒ‚äº†GFWçš„éª¨å¹²è·¯ç”±å™¨éƒ½ä¼šå°ã€‚ä¸€èˆ¬è¿™ç§å°ç«¯å£éƒ½æ˜¯é’ˆå¯¹ç¿»å¢™æœåŠ¡å™¨çš„ï¼Œå¦‚æœæ£€æµ‹åˆ°æœåŠ¡å™¨æ˜¯ç”¨SSHæˆ–è€…VPNç­‰æ–¹å¼æä¾›ç¿»å¢™æœåŠ¡ã€‚GFWä¼šåœ¨å…¨å›½çš„å‡ºå£éª¨å¹²è·¯ç”±ä¸Šéƒ¨ç½²è¿™æ ·çš„ä¸€æ¡ACLè§„åˆ™ï¼Œæ¥å°ä½ è¿™ä¸ªæœåŠ¡å™¨+ç«¯å£çš„ä¸‹è¡Œæ•°æ®åŒ…ã€‚ä¹Ÿå°±æ˜¯å¦‚æœåŒ…æ˜¯ä»å›½å¤–å‘å‘å›½å†…çš„ï¼Œè€Œä¸”srcï¼ˆæºipï¼‰æ˜¯è¢«å°çš„æœåŠ¡å™¨ipï¼Œsportï¼ˆæºç«¯å£ï¼‰æ˜¯è¢«å°çš„ç«¯å£ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒ…å°±ä¼šè¢«è¿‡æ»¤æ‰ã€‚è¿™æ ·éƒ¨ç½²çš„è§„åˆ™çš„ç‰¹ç‚¹æ˜¯ï¼Œä¸Šè¡Œçš„æ•°æ®åŒ…æ˜¯å¯ä»¥è¢«æœåŠ¡å™¨æ”¶åˆ°çš„ï¼Œè€Œä¸‹è¡Œçš„æ•°æ®åŒ…ä¼šè¢«è¿‡æ»¤æ‰ã€‚ å¦‚æœè¢«å°ç«¯å£ä¹‹åæœåŠ¡å™¨é‡‡å–æ›´æ¢ç«¯å£çš„åº”å¯¹æªæ–½ï¼Œå¾ˆå¿«ä¼šå†æ¬¡è¢«å°ã€‚è€Œä¸”å¤šæ¬¡å°è¯•ä¹‹åä¼šè¢«å°IPã€‚åˆæ­¥æ¨æ–­æ˜¯ï¼Œå°ç«¯å£ä¸æ˜¯GFWçš„è‡ªåŠ¨åº”å¯¹è¡Œä¸ºï¼Œè€Œæ˜¯é‡‡å–é»‘åå•åŠ äººå·¥è¿‡æ»¤åœ°æ–¹å¼å®ç°çš„ã€‚ä¸€ä¸ªæ¨æ–­çš„ç†ç”±å°±æ˜¯ç½‘å‹æŠ¥é“ï¼Œå°ç«¯å£éƒ½æ˜¯å‘ç”Ÿåœ¨ç™½å¤©å·¥ä½œæ—¶é—´ã€‚ åœ¨è¿›å…¥äº†å°ç«¯å£é˜¶æ®µä¹‹åï¼Œè¿˜ä¼šæœ‰ç»§å‘æ€§çš„ä¸´æ—¶æ€§å°å…¶ä»–ç«¯å£çš„ç°è±¡ï¼Œä½†æ˜¯è¿™äº›ç»§å‘æ€§çš„å°é”å…·æœ‰æ˜æ˜¾çš„è¶…æ—¶æ—¶é—´ï¼Œè§¦å‘äº†ä¹‹åï¼ˆè§¦å‘æ¡ä»¶ä¸æ˜¯éå¸¸æ˜ç¡®ï¼‰ä¼šç«‹å³è¢«å°é”ï¼Œç„¶åè¿‡äº†ä¸€æ®µæ—¶é—´å°±è‡ªåŠ¨è§£å°ã€‚\nHTTPSé—´æ­‡æ€§ä¸¢åŒ… å¯¹äºGithubçš„HTTPSæœåŠ¡ï¼ŒGFWä¸æ„¿æ„è®©å…¶å®Œå…¨ä¸èƒ½è®¿é—®ã€‚æ‰€ä»¥é‡‡å–çš„åŠæ³•æ˜¯å¯¹äºGithubçš„æŸäº›IPçš„443ç«¯å£é‡‡å–é—´æ­‡æ€§ä¸¢åŒ…çš„æªæ–½ã€‚å…¶åŸç†åº”è¯¥ç±»ä¼¼äºå°ç«¯å£ï¼Œæ˜¯åœ¨éª¨å¹²è·¯ç”±å™¨ä¸Šåšçš„ä¸¢åŒ…åŠ¨ä½œã€‚ä½†æ˜¯è§¦å‘æ¡ä»¶å¹¶ä¸åªæ˜¯çœ‹IPå’Œç«¯å£ï¼ŒåŠ ä¸Šäº†æ—¶é—´é—´éš”è¿™æ ·ä¸€ä¸ªæ¡ä»¶ã€‚\nç¿»å¢™åŸç† å‰é¢ä»åŸç†ä¸Šè®²è§£äº†GFWçš„è¿ä½œåŸç†ã€‚ç¿»å¢™çš„åŸç†ä¸ä¹‹ç›¸å¯¹åº”ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ã€‚ç¬¬ä¸€ç±»æ˜¯å¤§å®¶æ™®éçš„ä½¿ç”¨çš„ç»•é“çš„æ–¹å¼ã€‚IPåŒ…ç»ç”±ç¬¬ä¸‰æ–¹ä¸­è½¬å·²åŠ å¯†çš„å½¢å¼é€šè¿‡GFWçš„æ£€æŸ¥ã€‚è¿™æ ·çš„ä¸€ç§åšæ³•æ›´åƒâ€œç¿»â€å¢™ï¼Œæ˜¯ä»å¢™å¤–ç»•è¿‡å»çš„ã€‚ç¬¬äºŒç±»æ˜¯æ‰¾å‡ºGFWæ£€æµ‹è¿‡ç¨‹çš„ä¸­ä¸€äº›BUGï¼Œåˆ©ç”¨è¿™äº›BUGè®©GFWæ— æ³•çŸ¥é“å‡†ç¡®çš„ä¼šè¯å†…å®¹ä»è€Œæ”¾è¡Œã€‚è¿™ç§åšæ³•æ›´åƒâ€œç©¿â€å¢™ã€‚æ›¾ç»å¼•èµ·ä¸€æ—¶è½°åŠ¨çš„è¥¿å¢è®¡åˆ’ç¬¬ä¸€å­£å°±æ˜¯åŸºäºè¿™ç§æ–¹å¼çš„å®ç°ã€‚ åŸºäºç»•é“æ³•çš„ç¿»å¢™æ–¹å¼æ— è®ºæ˜¯VPNè¿˜æ˜¯ä»£ç†ï¼ŒåŸç†éƒ½æ˜¯ç±»ä¼¼çš„ã€‚éƒ½æ˜¯ä»¥å›½å¤–æœ‰ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ä¸ºå‰æï¼Œç„¶åä½ ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡ï¼Œä»£ç†æœåŠ¡å™¨å†ä¸ç›®æ ‡æœåŠ¡å™¨é€šä¿¡ã€‚\nç»•é“æ³•å¯¹äºIPå°é”æ¥è¯´ï¼Œå› ä¸ºæœ€ç»ˆçš„IPåŒ…æ˜¯ç”±ä»£ç†æœåŠ¡å™¨åœ¨å¢™å¤–å‘å‡ºçš„ï¼Œæ‰€ä»¥å›½å†…éª¨å¹²è·¯ç”±å°IPå¹¶ä¸ä¼šäº§ç”Ÿå½±å“ã€‚å¯¹äºTCPé‡ç½®æ¥è¯´ï¼Œå› ä¸ºTCPé‡ç½®æ˜¯ä»¥å…¥ä¾µæ£€æµ‹ä¸ºå‰æçš„ï¼Œå®¢æˆ·ç«¯ä¸ä»£ç†ä¹‹é—´çš„åŠ å¯†é€šä¿¡è§„é¿äº†å…¥ä¾µæ£€æµ‹ï¼Œä½¿å¾—TCPé‡ç½®ä¸ä¼šè¢«è§¦å‘ã€‚ ä½†æ˜¯å¯¹äºåDNSæ±¡æŸ“æ¥è¯´ï¼ŒVPNå’Œä»£ç†ä»£ç†å´æœ‰ä¸åŒã€‚åŸºäºVPNçš„ç¿»å¢™æ–¹æ³•ï¼Œå¾—åˆ°æ­£ç¡®çš„DNSè§£æçš„ç»“æœéœ€è¦è®¾ç½®ä¸€ä¸ªå›½å¤–çš„æ²¡æœ‰è¢«æ±¡æŸ“çš„DNSæœåŠ¡å™¨ã€‚ç„¶åå‘UDPè¯·æ±‚å»è§£æåŸŸåçš„æ—¶å€™ï¼ŒVPNä¼šç”¨ç»•é“çš„æ–¹å¼è®©UDPè¯·æ±‚ä¸è¢«åŠ«æŒåœ°é€šè¿‡GFWã€‚\nä½†æ˜¯SOCKSä»£ç†å’ŒHTTPä»£ç†è¿™äº›æ›´ä¸Šå±‚çš„ä»£ç†åè®®åˆ™å¯ä»¥é€‰æ‹©ä¸åŒçš„æ–¹å¼ã€‚å› ä¸ºä»£ç†ä¸åº”ç”¨ä¹‹é—´æœ‰æ›´ç´§å¯†çš„å…³ç³»ï¼Œåº”ç”¨ç¨‹åºæ¯”å¦‚æµè§ˆå™¨å¯ä»¥æŠŠè¦è®¿é—®çš„æœåŠ¡å™¨çš„åŸŸåç›´æ¥å‘Šè¯‰æœ¬åœ°çš„ä»£ç†ã€‚ç„¶åSOCKSä»£ç†å¯ä»¥é€‰æ‹©ä¸åœ¨æœ¬åœ°åšè§£æï¼Œç›´æ¥æŠŠè¯·æ±‚å‘ç»™å¢™å¤–çš„ä»£ç†æœåŠ¡å™¨ã€‚åœ¨ä»£ç†æœåŠ¡å™¨å»ä¸ç›®æ ‡æœåŠ¡å™¨åšè¿æ¥çš„æ—¶å€™å†åœ¨ä»£ç†æœåŠ¡å™¨ä¸ŠåšDNSè§£æï¼Œä»è€Œé¿å¼€äº†GFWçš„DNSåŠ«æŒã€‚\nVPNä¸ä»£ç†çš„å¦å¤–ä¸€ä¸ªä¸»è¦åŒºåˆ«æ˜¯åº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•ä½¿ç”¨ä¸Šä»£ç†å»è®¿é—®å›½å¤–çš„æœåŠ¡å™¨çš„ã€‚å…ˆæ¥çœ‹ä¸åŠ ä»£ç†çš„æ—¶å€™ï¼Œåº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•è®¿é—®ç½‘ç»œçš„ã€‚\nåº”ç”¨ç¨‹åºæŠŠIPåŒ…äº¤ç»™æ“ä½œç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿä¼šå»å†³å®šæŠŠåŒ…ç”¨æœºå™¨ä¸Šçš„å“ªå—ç½‘å¡å‘å‡ºå»ã€‚VPNçš„å®¢æˆ·ç«¯å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´å°±æ˜¯ä¸€ä¸ªè™šæ‹Ÿå‡ºæ¥çš„ç½‘å¡ã€‚åº”ç”¨ç¨‹åºå®Œå…¨ä¸ç”¨çŸ¥é“VPNå®¢æˆ·ç«¯çš„å­˜åœ¨ï¼Œæ“ä½œç³»ç»Ÿç”šè‡³ä¹Ÿä¸éœ€è¦åŒºåˆ†VPNå®¢æˆ·ç«¯ä¸æ™®é€šç½‘å¡çš„åŒºåˆ«ã€‚\nVPNå®¢æˆ·ç«¯åœ¨å¯åŠ¨ä¹‹åä¼šæŠŠæ“ä½œç³»ç»Ÿçš„ç¼ºçœè·¯ç”±æ”¹æˆè‡ªå·±ã€‚è¿™æ ·æ‰€æœ‰çš„IPåŒ…éƒ½ä¼šç»ç”±è¿™å—è™šæ‹Ÿçš„ç½‘å¡å‘å‡ºå»ã€‚è¿™æ ·VPNå°±èƒ½å¤Ÿå†æ‰“åŒ…æˆåŠ å¯†çš„æµé‡å‘å‡ºå»ï¼ˆå½“ç„¶çº¿è·¯è¿˜æ˜¯ä¹‹å‰çš„çº¿è·¯ï¼‰ï¼Œå‘å›å»çš„åŠ å¯†æµé‡å†è§£å¯†æ‹†åŒ…äº¤è¿˜ç»™æ“ä½œç³»ç»Ÿã€‚ åº”ç”¨å±‚çš„ä»£ç†åˆ™ä¸åŒã€‚å…¶æµé‡èµ°ä¸èµ°ä»£ç†çš„çº¿è·¯å¹¶ä¸æ˜¯ç”±æ“ä½œç³»ç»Ÿä½¿ç”¨è·¯ç”±è¡¨é€‰æ‹©ç½‘å¡æ¥å†³å®šçš„ï¼Œè€Œæ˜¯åœ¨åº”ç”¨ç¨‹åºé‡Œè‡ªå·±åšçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä½¿ç”¨ä»£ç†çš„TCPè¿æ¥å’Œä¸ä½¿ç”¨ä»£ç†çš„TCPè¿æ¥å¹¶æ²¡æœ‰ä»»ä½•çš„ä¸åŒã€‚åº”ç”¨ç¨‹åºè‡ªå·±å»é€‰æ‹©æ˜¯ç›´æ¥ä¸ç›®æ ‡æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œè¿˜æ˜¯ä¸ä»£ç†æœåŠ¡å™¨å»ºç«‹TCPè¿æ¥ï¼Œç„¶åç”±SOCKSä»£ç†æœåŠ¡å™¨å»å»ºç«‹ç¬¬äºŒä¸ªTCPè¿æ¥ï¼Œä¸¤ä¸ªTCPè¿æ¥çš„æ•°æ®ç”±ä»£ç†æœåŠ¡å™¨ä¸­è½¬ã€‚\nç»•é“æ³•çš„ç¿»å¢™åŸç†å°±æ˜¯è¿™äº›äº†ï¼Œç›¸å¯¹æ¥è¯´éå¸¸ç®€å•ã€‚å…¶é’ˆå¯¹çš„éƒ½æ˜¯GFWçš„åˆ†æé‚£ä¸€æ­¥ï¼Œé€šè¿‡åŠ å¯†ä½¿å¾—GFWæ— æ³•åˆ†æå‡ºæµé‡çš„åŸæ–‡ä»è€Œè®©GFWæ”¾è¡Œã€‚ä½†æ˜¯GFWæœ€è¿‘çš„å‡çº§è¡¨æ˜ï¼ŒGFWè™½ç„¶æ— æ³•è§£å¯†è¿™äº›åŠ å¯†çš„æµé‡ï¼Œä½†æ˜¯GFWå¯ä»¥ç»“åˆæµé‡ä¸å…¶ä»–åè®®ç‰¹å¾æ¢æµ‹å‡ºè¿™äº›æµé‡æ˜¯ä¸æ˜¯â€œç¿»å¢™â€çš„ï¼Œç„¶åå°±ç›´æ¥æš´åŠ›çš„åˆ‡æ–­ã€‚ç»•é“æ³•çš„ä¸‹ä¸€æ­¥å‘å±•å°±æ˜¯è¦ä»åŸç†å¼„æ˜ç™½ï¼ŒGFWæ˜¯å¦‚ä½•åˆ†æå‡ºç¿»å¢™æµé‡çš„ï¼Œä»è€Œè¦ä¹ˆé™ä½è‡ªèº«çš„æµé‡ç‰¹å¾é¿å…ä¸ŠçŸ­åå•è¢«åè®®åˆ†æï¼Œæˆ–è€…é€šè¿‡æ··æ·†åè®®æŠŠè‡ªå·±ä¼ªè£…æˆå…¶ä»–çš„æ— å®³æµé‡ã€‚\nç©¿å¢™åŸç† DNSåŠ«æŒè§‚æµ‹ æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä¸ªå®éªŒæ˜¯ç”¨pythonä»£ç è§‚æµ‹åˆ°DNSåŠ«æŒçš„å…¨è¿‡ç¨‹ã€‚\nåº”ç”¨å±‚è§‚æµ‹ digæ˜¯DNSçš„å®¢æˆ·ç«¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ„é€ å‡ºæˆ‘ä»¬æƒ³è¦çš„DNSè¯·æ±‚ã€‚ dig @8.8.8.8 twitter.com ã€‚å¯ä»¥å¾—åˆ°ç›¸åº”å¦‚ä¸‹ï¼š\n; (1 server found) ;; global options: +cmd ;; Got answer: ;; -\u0026gt;\u0026gt;HEADER\u0026lt;\u0026lt;- opcode: QUERY, status: NOERROR, id: 5494 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0 ;; QUESTION SECTION: ;twitter.com. IN A ;; ANSWER SECTION: twitter.com. 4666 IN A 59.24.3.173 ;; Query time: 110 msec ;; SERVER: 8.8.8.8#53(8.8.8.8) ;; WHEN: Sun Jan 13 13:22:10 2013 ;; MSG SIZE rcvd: 45 å¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°æˆ‘ä»¬å¾—åˆ°çš„é”™è¯¯ç­”æ¡ˆ59.24.3.173ã€‚\næŠ“åŒ…è§‚æµ‹ ä½¿ç”¨iptablesæˆ‘ä»¬å¯ä»¥è®©ç‰¹å®šçš„IPåŒ…ç»è¿‡åº”ç”¨å±‚çš„ä»£ç ï¼Œä»è€Œä½¿å¾—æˆ‘ä»¬ç”¨pythonè§‚æµ‹DNSæŸ¥è¯¢è¿‡ç¨‹æä¾›äº†å¯èƒ½ã€‚ä»£ç å¦‚ä¸‹:\nfrom netfilterqueue import NetfilterQueue import subprocess import signal def observe_dns_hijacking(nfqueue_element): print(\u0026#39;packet past through me\u0026#39;) nfqueue_element.accept() nfqueue = NetfilterQueue() nfqueue.bind(0, observe_dns_hijacking) def clean_up(*args): subprocess.call(\u0026#39;iptables -D OUTPUT -p udp --dst 8.8.8.8 -j QUEUE\u0026#39;, shell=True) subprocess.call(\u0026#39;iptables -D INPUT -p udp --src 8.8.8.8 -j QUEUE\u0026#39;, shell=True) signal.signal(signal.SIGINT, clean_up) try: subprocess.call(\u0026#39;iptables -I INPUT -p udp --src 8.8.8.8 -j QUEUE\u0026#39;, shell=True) subprocess.call(\u0026#39;iptables -I OUTPUT -p udp --dst 8.8.8.8 -j QUEUE\u0026#39;, shell=True) print(\u0026#39;running..\u0026#39;) nfqueue.run() except KeyboardInterrupt: print(\u0026#39;bye\u0026#39;) æ‰§è¡Œæ­¤è„šæœ¬ï¼Œå†ä½¿ç”¨dig @8.8.8.8 twitter.comåº”è¯¥å¯ä»¥çœ‹åˆ°package past through meã€‚è¿™å°±è¯´æ˜DNSçš„è¯·æ±‚å’Œç­”æ¡ˆéƒ½ç»è¿‡äº†pythonä»£ç äº†ã€‚ ä¸Šä¸€æ­¥ä¸»è¦æ˜¯éªŒè¯NetfilterQueueæ˜¯ä¸æ˜¯å·¥ä½œæ­£å¸¸ã€‚è¿™ä¸€æ­¥åˆ™è¦é dpktçš„äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š\nfrom netfilterqueue import NetfilterQueue import subprocess import signal import dpkt import traceback import socket def observe_dns_hijacking(nfqueue_element): try: ip_packet = dpkt.ip.IP(nfqueue_element.get_payload()) dns_packet = dpkt.dns.DNS(ip_packet.udp.data) print(repr(dns_packet)) for answer in dns_packet.an: print(socket.inet_ntoa(answer[\u0026#39;rdata\u0026#39;])) nfqueue_element.accept() except: traceback.print_exc() nfqueue_element.accept() nfqueue = NetfilterQueue() nfqueue.bind(0, observe_dns_hijacking) def clean_up(*args): subprocess.call(\u0026#39;iptables -D OUTPUT -p udp --dst 8.8.8.8 -j QUEUE\u0026#39;, shell=True) subprocess.call(\u0026#39;iptables -D INPUT -p udp --src 8.8.8.8 -j QUEUE\u0026#39;, shell=True) signal.signal(signal.SIGINT, clean_up) try: subprocess.call(\u0026#39;iptables -I INPUT -p udp --src 8.8.8.8 -j QUEUE\u0026#39;, shell=True) subprocess.call(\u0026#39;iptables -I OUTPUT -p udp --dst 8.8.8.8 -j QUEUE\u0026#39;, shell=True) print(\u0026#39;running..\u0026#39;) nfqueue.run() except KeyboardInterrupt: print(\u0026#39;bye\u0026#39;) æ‰§è¡Œæ­¤è„šæœ¬ï¼Œå†ä½¿ç”¨dig @8.8.8.8 twitter.comåº”è¯¥å¯ä»¥çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š\nDNS(ar=[RR(type=41, cls=4096)], qd=[Q(name=\u0026#39;twitter.com\u0026#39;)], id=8613, op=288) DNS(an=[RR(name=\u0026#39;twitter.com\u0026#39;, rdata=\u0026#39;;\\x18\\x03\\xad\u0026#39;, ttl=19150)], qd=[Q(name=\u0026#39;twitter.com\u0026#39;)], id=8613, op=33152) .24.3.173 DNS(an=[RR(name=\u0026#39;twitter.com\u0026#39;, rdata=\u0026#39;\\xc7;\\x95\\xe6\u0026#39;, ttl=27), RR(name=\u0026#39;twitter.com\u0026#39;, rdata=\u0026#39;\\xc7;\\x96\\x07\u0026#39;, ttl=27), RR(name=\u0026#39;twitter.com\u0026#39;, rdata=\u0026#34;\\xc7;\\x96\u0026#39;\u0026#34;, ttl=27)], ar=[RR(type=41, cls=512)], qd=[Q(name=\u0026#39;twitter.com\u0026#39;)], id=8613, op=33152) .59.149.230 .59.150.7 .59.150.39 å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å‘å‡ºå»äº†ä¸€ä¸ªåŒ…ï¼Œæ”¶åˆ°äº†ä¸¤ä¸ªåŒ…ã€‚å…¶ä¸­ç¬¬ä¸€ä¸ªæ”¶åˆ°çš„åŒ…æ˜¯GFWå‘å›æ¥çš„é”™è¯¯ç­”æ¡ˆï¼Œç¬¬äºŒä¸ªåŒ…æ‰æ˜¯æ­£ç¡®çš„ç­”æ¡ˆã€‚ä½†æ˜¯ç”±äºdigåªå–ç¬¬ä¸€ä¸ªè¿”å›çš„ç­”æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å®é™…çœ‹åˆ°çš„è§£æç»“æœæ˜¯é”™è¯¯çš„ã€‚\nè§‚æµ‹åŠ«æŒå‘ç”Ÿçš„ä½ç½® åˆ©ç”¨IPåŒ…çš„TTLç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠTTLå€¼ä»1å¼€å§‹é€’å¢ï¼Œç›´åˆ°æˆ‘ä»¬æ”¶åˆ°é”™è¯¯çš„åº”ç­”ä¸ºæ­¢ã€‚ç»“åˆTTL EXECEEDED ICMPè¿”å›çš„IPåœ°å€ï¼Œå°±å¯ä»¥çŸ¥é“DNSè¯·æ±‚æ˜¯åœ¨ç¬¬å‡ è·³çš„è·¯ç”±å™¨åˆ†å…‰ç»™GFWçš„ã€‚ä»£ç å¦‚ä¸‹:\nfrom netfilterqueue import NetfilterQueue import subprocess import signal import dpkt import traceback import socket import sys DNS_IP = \u0026#39;8.8.8.8\u0026#39; # source http://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%93%E5%AD%98%E6%B1%A1%E6%9F%93 WRONG_ANSWERS = { \u0026#39;4.36.66.178\u0026#39;, \u0026#39;8.7.198.45\u0026#39;, \u0026#39;37.61.54.158\u0026#39;, \u0026#39;46.82.174.68\u0026#39;, \u0026#39;59.24.3.173\u0026#39;, \u0026#39;64.33.88.161\u0026#39;, \u0026#39;64.33.99.47\u0026#39;, \u0026#39;64.66.163.251\u0026#39;, \u0026#39;65.104.202.252\u0026#39;, \u0026#39;65.160.219.113\u0026#39;, \u0026#39;66.45.252.237\u0026#39;, \u0026#39;72.14.205.99\u0026#39;, \u0026#39;72.14.205.104\u0026#39;, \u0026#39;78.16.49.15\u0026#39;, \u0026#39;93.46.8.89\u0026#39;, \u0026#39;128.121.126.139\u0026#39;, \u0026#39;159.106.121.75\u0026#39;, \u0026#39;169.132.13.103\u0026#39;, \u0026#39;192.67.198.6\u0026#39;, \u0026#39;202.106.1.2\u0026#39;, \u0026#39;202.181.7.85\u0026#39;, \u0026#39;203.161.230.171\u0026#39;, \u0026#39;207.12.88.98\u0026#39;, \u0026#39;208.56.31.43\u0026#39;, \u0026#39;209.36.73.33\u0026#39;, \u0026#39;209.145.54.50\u0026#39;, \u0026#39;209.220.30.174\u0026#39;, \u0026#39;211.94.66.147\u0026#39;, \u0026#39;213.169.251.35\u0026#39;, \u0026#39;216.221.188.182\u0026#39;, \u0026#39;216.234.179.13\u0026#39; } current_ttl = 1 def locate_dns_hijacking(nfqueue_element): global current_ttl try: ip_packet = dpkt.ip.IP(nfqueue_element.get_payload()) if dpkt.ip.IP_PROTO_ICMP == ip_packet[\u0026#39;p\u0026#39;]: print(socket.inet_ntoa(ip_packet.src)) elif dpkt.ip.IP_PROTO_UDP == ip_packet[\u0026#39;p\u0026#39;]: if DNS_IP == socket.inet_ntoa(ip_packet.dst): ip_packet.ttl = current_ttl current_ttl += 1 ip_packet.sum = 0 nfqueue_element.set_payload(str(ip_packet)) else: if contains_wrong_answer(dpkt.dns.DNS(ip_packet.udp.data)): sys.stdout.write(\u0026#39;* \u0026#39;) sys.stdout.flush() nfqueue_element.drop() return else: print(\u0026#39;END\u0026#39;) nfqueue_element.accept() except: traceback.print_exc() nfqueue_element.accept() def contains_wrong_answer(dns_packet): for answer in dns_packet.an: if socket.inet_ntoa(answer[\u0026#39;rdata\u0026#39;]) in WRONG_ANSWERS: return True return False nfqueue = NetfilterQueue() nfqueue.bind(0, locate_dns_hijacking) def clean_up(*args): subprocess.call(\u0026#39;iptables -D OUTPUT -p udp --dst %s -j QUEUE\u0026#39; % DNS_IP, shell=True) subprocess.call(\u0026#39;iptables -D INPUT -p udp --src %s -j QUEUE\u0026#39; % DNS_IP, shell=True) subprocess.call(\u0026#39;iptables -D INPUT -p icmp -m icmp --icmp-type 11 -j QUEUE\u0026#39;, shell=True) signal.signal(signal.SIGINT, clean_up) try: subprocess.call(\u0026#39;iptables -I INPUT -p icmp -m icmp --icmp-type 11 -j QUEUE\u0026#39;, shell=True) subprocess.call(\u0026#39;iptables -I INPUT -p udp --src %s -j QUEUE\u0026#39; % DNS_IP, shell=True) subprocess.call(\u0026#39;iptables -I OUTPUT -p udp --dst %s -j QUEUE\u0026#39; % DNS_IP, shell=True) print(\u0026#39;running..\u0026#39;) nfqueue.run() except KeyboardInterrupt: print(\u0026#39;bye\u0026#39;) æ‰§è¡Œ dig +tries=30 +time=1 @8.8.8.8 twitter.com å¯ä»¥å¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š\n.158.100.166 .158.11.150 * 219.158.97.30 * * 219.158.27.30 * 72.14.215.130 * 209.85.248.60 * 216.239.43.19 * * END å‡ºç°*å·å‰é¢çš„é‚£ä¸ªIPå°±æ˜¯æŒ‚äº†GFWçš„è·¯ç”±äº†ã€‚è„šæœ¬åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡éœ€è¦é‡å¯ã€‚å¦å¤–åŒä¸€ä¸ªDNSä¸èƒ½è¢«åŒæ—¶æŸ¥è¯¢ï¼ŒæŠŠ8.8.8.8æ”¹æˆä½ æ²¡æœ‰åœ¨ç”¨çš„DNSã€‚è¿™ä¸ªè„šæœ¬çš„ä¸€ä¸ªâ€œå‰¯ä½œç”¨â€å°±æ˜¯digè¿”å›çš„ç­”æ¡ˆæ˜¯æ­£ç¡®çš„äº†ï¼Œå› ä¸ºé”™è¯¯çš„ç­”æ¡ˆè¢«ä¸¢å¼ƒäº†ã€‚\nåå‘è§‚æµ‹ å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“ä»å›½å†…è¯·æ±‚å›½å¤–çš„DNSæœåŠ¡å™¨å¤§ä½“æ˜¯æ€ä¹ˆä¸€ä¸ªè¢«åŠ«æŒçš„è¿‡ç¨‹äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨å›½å†…æ­å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œä»å›½å¤–å¾€å›½å†…å‘è¯·æ±‚ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å¯ä»¥è§‚æµ‹åˆ°è¢«åŠ«æŒçš„ç°è±¡ã€‚ æŠŠè·¯ç”±å™¨çš„WANå£çš„é˜²ç«å¢™æ‰“å¼€ã€‚é…ç½®æœ¬åœ°çš„dnsmasqä¸ºä½¿ç”¨éæ ‡å‡†ç«¯å£ä»£ç†æŸ¥è¯¢ä»è€Œä¿è¯æœ¬åœ°åšdigæŸ¥è¯¢çš„æ—¶å€™å¯ä»¥æ‹¿åˆ°æ­£ç¡®çš„ç»“æœã€‚ç„¶ååœ¨å›½å¤–çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œdig @å›½å†…è·¯ç”±å™¨ip twitter.com å¯ä»¥çœ‹åˆ°æ”¶åˆ°çš„ç­”æ¡ˆæ˜¯é”™è¯¯çš„ã€‚æ‰§è¡Œå‰é¢çš„è·¯ç”±è·Ÿè¸ªä»£ç ï¼Œç»“æœå¦‚ä¸‹ï¼š\n.160.187.13 .248.76.73 .158.33.181 .158.29.129 .158.19.165 * 219.158.96.225 * * * 219.158.101.233 END å¯ä»¥çœ‹åˆ°ä¸ä½†æœ‰DNSåŠ«æŒï¼Œè€Œä¸”DNSåŠ«æŒå‘ç”Ÿåœ¨éå¸¸é è¿‘å›½å†…è·¯ç”±å™¨çš„ä½ç½®ã€‚è¿™ä¹Ÿè¯å®äº†è®ºæ–‡ä¸­æå‡ºçš„è§‚æµ‹ç»“æœã€‚GFWå¹¶æ²¡æœ‰ä¸¥æ ¼åœ°éƒ¨ç½²åœ¨å‡ºå›½å¢ƒå‰ç¬¬ä¸€è·³çš„ä½ç½®ï¼Œè€Œæ˜¯æ›´åŠ é å‰ã€‚å¹¶ä¸”æ˜¯åŒå‘çš„ï¼Œè‡³å°‘DNSåŠ«æŒæ˜¯åŒå‘ç»è¿‡å®éªŒè¯å®äº†ã€‚\nåDNSåŠ«æŒ é€šè¿‡é¿å…GFWé‡å»ºè¯·æ±‚åDNSåŠ«æŒ ä½¿ç”¨éæ ‡å‡†ç«¯å£ è¿™ä¸ªå®éªŒå°±éå¸¸ç®€å•äº†ã€‚ä½¿ç”¨53ä¹‹å¤–çš„ç«¯å£æŸ¥è¯¢DNSï¼Œè§‚æµ‹æ˜¯å¦æœ‰é”™è¯¯ç­”æ¡ˆè¢«è¿”å›ã€‚ ä½¿ç”¨çš„DNSæœåŠ¡å™¨æ˜¯OpenDNSï¼Œç«¯å£ä¸º5353ç«¯å£ã€‚ä½¿ç”¨éæ ‡å‡†ç«¯å£çš„DNSæœåŠ¡å™¨ä¸å¤šï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„DNSæœåŠ¡å™¨éƒ½ä¼šæä¾›éæ ‡å‡†ç«¯å£ä¾›æŸ¥è¯¢ã€‚ç»“æœå¦‚ä¸‹ï¼š\n; \u0026lt;\u0026lt;\u0026gt;\u0026gt; DiG 9.9.1-P3 \u0026lt;\u0026lt;\u0026gt;\u0026gt; @208.67.222.222 -p 5353 twitter.com ; (1 server found) ;; global options: +cmd ;; Got answer: ;; -\u0026gt;\u0026gt;HEADER\u0026lt;\u0026lt;- opcode: QUERY, status: NOERROR, id: 5367 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 8192 ;; QUESTION SECTION: ;twitter.com. IN A ;; ANSWER SECTION: twitter.com. 5 IN A 199.59.150.39 twitter.com. 5 IN A 199.59.148.82 twitter.com. 5 IN A 199.59.148.10 ;; Query time: 194 msec ;; SERVER: 208.67.222.222#5353(208.67.222.222) ;; WHEN: Mon Jan 14 11:47:46 2013 ;; MSG SIZE rcvd: 88 å¯è§ï¼Œéæ ‡å‡†ç«¯å£è¿˜æ˜¯å¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœçš„ã€‚ä½†æ˜¯è¿™ç§ç©¿å¢™å¹¶ä¸èƒ½è¢«åº”ç”¨ç¨‹åºç›´æ¥ä½¿ç”¨ï¼Œå› ä¸ºå‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½ä¸æ”¯æŒä½¿ç”¨éæ ‡å‡†ç«¯å£æŸ¥è¯¢ã€‚æœ‰å¾ˆå¤šç§åŠæ³•æŠŠç«¯å£å˜æˆ53ç«¯å£èƒ½ç”¨:\nä½¿ç”¨æœ¬åœ°DNSæœåŠ¡å™¨è½¬å‘ï¼ˆdnsmasqï¼Œpdnsdï¼‰ ç”¨NetfilterQueueæ”¹å†™IPåŒ… ç”¨iptablesæ”¹å†™IPåŒ…ï¼š iptables -t nat -I OUTPUT --dst 208.67.222.222 -p udp --dport 53 -j DNAT --to-destination 208.67.222.222:5353 ä½¿ç”¨TCPæŸ¥è¯¢ è¿™ä¸ªå®éªŒå°±æ›´åŠ ç®€å•äº†ï¼Œä¹Ÿæ˜¯ä¸€æ¡å‘½ä»¤ï¼š\ndig +tcp @8.8.8.8 twitter.com GFWåœ¨æ—¥å¸¸æ˜¯ä¸å±è”½TCPçš„DNSæŸ¥è¯¢çš„ï¼Œæ‰€ä»¥å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚ä½†æ˜¯å’Œéæ ‡å‡†ç«¯å£ä¸€æ ·ï¼Œå‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½ä¸æ”¯æŒä½¿ç”¨TCPæŸ¥è¯¢ã€‚å·²çŸ¥çš„TCPè½¬UDPæ–¹å¼æ˜¯ä½¿ç”¨pdnsdæˆ–è€…unboundè½¬ã€‚ ä½†æ˜¯GFWç°åœ¨ä¸å±è”½TCPçš„DNSæŸ¥è¯¢å¹¶ä¸ä»£è¡¨GFWä¸èƒ½è¿™ä¹ˆå¹²ã€‚åšä¸€ä¸ªå°å®éªŒï¼š\nroot@OpenWrt:~# dig +tcp @8.8.8.8 dl.dropbox.com ;; communications error to 8.8.8.8#53: connection reset å¯ä»¥çœ‹åˆ°GFWæ˜¯èƒ½å¤ŸçŸ¥é“ä½ åœ¨æŸ¥è¯¢ä»€ä¹ˆçš„ã€‚ä¸HTTPå…³é”®å­—è¿‡æ»¤ä¸€æ ·ï¼Œä¸€æ—¦å‘ç°æŸ¥è¯¢çš„å†…å®¹ä¸æ°å½“ï¼Œç«‹é©¬å°±å‘RSTåŒ…è¿‡æ¥åˆ‡æ–­è¿æ¥ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆGFWä¸å®¡æŸ¥æ‰€æœ‰çš„TCPçš„DNSæŸ¥è¯¢å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼Œç”¨TCPæŸ¥è¯¢çš„ç»å¯¹å°‘æ•°ï¼Œå°šä¸å€¼å¾—è¿™ä¹ˆå»å¹²ã€‚è€Œä¸”å°±ç®—ä½ èƒ½æŸ¥è¯¢åˆ°æ­£ç¡®åŸŸåï¼ŒGFWè‡ªè®¤ä¸ºè¿˜æœ‰HTTPå…³é”®å­—è¿‡æ»¤å’Œå°IPç­‰åç€å®ˆç€å‘¢ï¼ŒçŠ¯ä¸ç€åœ¨DNSä¸Šå¡è¿™ä¹ˆæ­»ã€‚\nä½¿ç”¨å•å‘ä»£ç† ä¸¥æ ¼æ¥è¯´å•å‘ä»£ç†å¹¶ä¸æ˜¯ç©¿å¢™ï¼Œå› ä¸ºå®ƒä»ç„¶éœ€è¦åœ¨å›½å¤–æœ‰ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ã€‚ä½¿ç”¨ä»£ç†æœåŠ¡å™¨æŠŠDNSæŸ¥è¯¢å‘å‡ºå»ï¼Œä½†æ˜¯DNSæŸ¥è¯¢å¹¶ä¸ç»ç”±ä»£ç†æœåŠ¡å™¨è€Œæ˜¯ç›´æ¥å‘å›å®¢æˆ·ç«¯ã€‚è¿™æ ·çš„å®ç°åœ¨ç›®å‰æœ‰æ›´å¥½çš„ååŠ«æŒçš„æ‰‹æ®µï¼ˆæ¯”å¦‚éæ ‡å‡†ç«¯å£ï¼‰çš„æƒ…å†µä¸‹å¹¶ä¸æ˜¯ä¸€ä¸ªæœ‰å®é™…æ„ä¹‰çš„åšæ³•ã€‚ä½†æ˜¯å¯¹äºè§‚æµ‹GFWçš„å°é”æœºåˆ¶è¿˜æ˜¯æœ‰å¸®åŠ©çš„ã€‚æ®æŠ¥é“åœ¨æ•æ„Ÿæ—¶æœŸï¼Œå¯¹DNSä¸ä»…ä»…æ˜¯åŠ«æŒï¼Œè€Œæ˜¯ç›´æ¥ä¸¢åŒ…ã€‚é€šè¿‡å•å‘ä»£ç†å¯ä»¥è§‚æµ‹ä¸¢åŒ…æ˜¯é’ˆå¯¹å‡ºå¢ƒæµé‡çš„è¿˜æ˜¯å…¥å¢ƒæµé‡çš„ã€‚ å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨iptablesæŠŠDNSè¯·æ±‚è½¬ç»™NetfilterQueueï¼Œç„¶åç”¨pythonä»£ç æŠŠDNSè¯·æ±‚åŒ…è£…ä¹‹åå‘ç»™ä¸­è½¬ä»£ç†ã€‚å¯¹äºåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œè¿™ä¸ªåŒ…è£…çš„è¿‡ç¨‹æ˜¯é€æ˜çš„ï¼Œå®ƒä»ç„¶è®¤ä¸ºè¯·æ±‚æ˜¯ç›´æ¥å‘ç»™DNSæœåŠ¡å™¨çš„ã€‚ å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹:\nfrom netfilterqueue import NetfilterQueue import subprocess import signal import traceback import socket IMPERSONATOR_IP = \u0026#39;x.x.x.x\u0026#39; IMPERSONATOR_PORT = 19840 udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.IPPROTO_UDP) def smuggle_packet(nfqueue_element): try: original_packet = nfqueue_element.get_payload() print(\u0026#39;smuggled\u0026#39;) udp_socket.sendto(original_packet, (IMPERSONATOR_IP, IMPERSONATOR_PORT)) nfqueue_element.drop() except: traceback.print_exc() nfqueue_element.accept() nfqueue = NetfilterQueue() nfqueue.bind(0, smuggle_packet) def clean_up(*args): subprocess.call(\u0026#39;iptables -D OUTPUT -p udp --dst 8.8.8.8 --dport 53 -j QUEUE\u0026#39;, shell=True) signal.signal(signal.SIGINT, clean_up) try: subprocess.call(\u0026#39;iptables -I OUTPUT -p udp --dst 8.8.8.8 --dport 53 -j QUEUE\u0026#39;, shell=True) print(\u0026#39;running..\u0026#39;) nfqueue.run() except KeyboardInterrupt: print(\u0026#39;bye\u0026#39;) æœåŠ¡å™¨ç«¯ä»£ç å¦‚ä¸‹:\nimport socket import dpkt.ip def main_loop(server_socket, raw_socket): while True: packet_bytes, from_ip = server_socket.recvfrom(4096) packet = dpkt.ip.IP(packet_bytes) dst = socket.inet_ntoa(packet.dst) print(\u0026#39;%s:%s =\u0026gt; %s:%s\u0026#39; % (socket.inet_ntoa(packet.src), packet.data.sport, dst, packet.data.dport)) raw_socket.sendto(packet_bytes, (dst, 0)) server_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) try: server_socket.bind((\u0026#39;0.0.0.0\u0026#39;, 19840)) raw_socket = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_RAW) try: raw_socket.setsockopt(socket.SOL_IP, socket.IP_HDRINCL, 1) main_loop(server_socket, raw_socket) finally: raw_socket.close() finally: server_socket.close() åœ¨è·¯ç”±å™¨ä¸Šè¿è¡Œçš„æ—¶å€™è¦æŠŠWANçš„é˜²ç«å¢™è§„åˆ™æ”¹ä¸ºæ¥å—INPUTï¼Œå¦åˆ™è¿›å…¥çš„UDPåŒ…ä¼šå› ä¸ºæ²¡æœ‰å¯¹åº”çš„å‡ºå»çš„UDPåŒ…è€Œè¢«è¿‡æ»¤æ‰ã€‚è¿™æ˜¯å•å‘ä»£ç†çš„ä¸€ä¸ªç¼ºé™·ï¼Œéœ€è¦åœ¨å¢™ä¸Šå¼€æ´ã€‚æŠŠé˜²ç«å¢™æ•´ä¸ªæ‰“å¼€æ˜¯ä¸€ç§å¼€æ´çš„æç«¯æ–¹å¼ã€‚åé¢ä¸“é—¨è®¨è®ºå•å‘ä»£ç†çš„æ—¶å€™ä¼šæœ‰æ›´å¤šå…³äºé˜²ç«å¢™å‡¿æ´çš„è®¨è®ºã€‚ ç¬¬äºŒä¸ªè¿è¡Œçš„æ¡ä»¶æ˜¯æœåŠ¡å™¨æ‰€åœ¨çš„ç½‘ç»œæ²¡æœ‰å¯¹IP SPROOFINGåšè¿‡æ»¤ã€‚æœåŠ¡å™¨å®é™…ä¸Šä½¿ç”¨äº†å’ŒGFWå‘é”™è¯¯ç­”æ¡ˆä¸€æ ·çš„æŠ€æœ¯ï¼Œå°±æ˜¯ä¼ªé€ SRCåœ°å€ã€‚é€šè¿‡æŠŠSRCåœ°å€å¡«æˆå®¢æˆ·ç«¯æ‰€åœ¨çš„IPåœ°å€ï¼Œä½¿å¾—DNSæŸ¥è¯¢çš„ç»“æœä¸éœ€è¦ç»è¿‡ä»£ç†æœåŠ¡å™¨ä¸­è£…ç›´æ¥åˆ°è¾¾å®¢æˆ·ç«¯ã€‚\né€šè¿‡ä¸¢å¼ƒé”™è¯¯ç­”æ¡ˆåDNSåŠ«æŒ ä½¿ç”¨iptablesè¿‡æ»¤ å‰ä¸¤ç§æ–¹å¼éƒ½æ˜¯é’ˆå¯¹GFWçš„é‡å»ºè¿™ä¸€æ­¥ã€‚å› ä¸ºGFWæ²¡æœ‰åœ¨æ—¥å¸¸çš„æ—¶å€™ç›‘å¬æ‰€æœ‰UDPç«¯å£ä»¥åŠç›‘å¬TCPæµé‡ï¼Œæ‰€ä»¥éæ ‡å‡†ç«¯å£æˆ–è€…TCPçš„DNSæŸ¥è¯¢å¯ä»¥è¢«æ”¾è¡Œã€‚é€‰æ‹©æ€§ä¸¢åŒ…åˆ™é’ˆå¯¹çš„æ˜¯GFWçš„åº”å¯¹æªæ–½ã€‚æ—¢ç„¶GFWå‘é”™è¯¯çš„ç­”æ¡ˆå›æ¥ï¼Œåªè¦æˆ‘ä»¬ä¸è®¤å®ƒç»™çš„ç­”æ¡ˆï¼Œç­‰æ­£ç¡®çš„ç­”æ¡ˆæ¥å°±æ˜¯äº†ã€‚ ä»£ç å¦‚ä¸‹ï¼š\nmport sys import subprocess # source http://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%93%E5%AD%98%E6%B1%A1%E6%9F%93 WRONG_ANSWERS = { \u0026#39;4.36.66.178\u0026#39;, \u0026#39;8.7.198.45\u0026#39;, \u0026#39;37.61.54.158\u0026#39;, \u0026#39;46.82.174.68\u0026#39;, \u0026#39;59.24.3.173\u0026#39;, \u0026#39;64.33.88.161\u0026#39;, \u0026#39;64.33.99.47\u0026#39;, \u0026#39;64.66.163.251\u0026#39;, \u0026#39;65.104.202.252\u0026#39;, \u0026#39;65.160.219.113\u0026#39;, \u0026#39;66.45.252.237\u0026#39;, \u0026#39;72.14.205.99\u0026#39;, \u0026#39;72.14.205.104\u0026#39;, \u0026#39;78.16.49.15\u0026#39;, \u0026#39;93.46.8.89\u0026#39;, \u0026#39;128.121.126.139\u0026#39;, \u0026#39;159.106.121.75\u0026#39;, \u0026#39;169.132.13.103\u0026#39;, \u0026#39;192.67.198.6\u0026#39;, \u0026#39;202.106.1.2\u0026#39;, \u0026#39;202.181.7.85\u0026#39;, \u0026#39;203.161.230.171\u0026#39;, \u0026#39;207.12.88.98\u0026#39;, \u0026#39;208.56.31.43\u0026#39;, \u0026#39;209.36.73.33\u0026#39;, \u0026#39;209.145.54.50\u0026#39;, \u0026#39;209.220.30.174\u0026#39;, \u0026#39;211.94.66.147\u0026#39;, \u0026#39;213.169.251.35\u0026#39;, \u0026#39;216.221.188.182\u0026#39;, \u0026#39;216.234.179.13\u0026#39; } rules = [\u0026#39;-p udp --sport 53 -m u32 --u32 \u0026#34;4 \u0026amp; 0x1FFF = 0 \u0026amp;\u0026amp; 0 \u0026gt;\u0026gt; 22 \u0026amp; 0x3C @ 8 \u0026amp; 0x8000 = 0x8000 \u0026amp;\u0026amp; 0 \u0026gt;\u0026gt; 22 \u0026amp; 0x3C @ 14 = 0\u0026#34; -j DROP\u0026#39;] for wrong_answer in WRONG_ANSWERS: hex_ip = \u0026#39; \u0026#39;.join([\u0026#39;%02x\u0026#39; % int(s) for s in wrong_answer.split(\u0026#39;.\u0026#39;)]) rules.append(\u0026#39;-p udp --sport 53 -m string --algo bm --hex-string \u0026#34;%s\u0026#34; --from 60 --to 180 -j DROP\u0026#39; % hex_ip) try: for rule in rules: print(rule) subprocess.call(\u0026#39;iptables -I INPUT %s\u0026#39; % rule, shell=True) print(\u0026#39;running..\u0026#39;) sys.stdin.readline() except KeyboardInterrupt: print(\u0026#39;bye\u0026#39;) finally: for rule in reversed(rules): subprocess.call(\u0026#39;iptables -D INPUT %s\u0026#39; % rule, shell=True) æœ¬åœ°æœ‰äº†è¿™äº›iptablesè§„åˆ™ä¹‹åå°±å¯ä»¥ä¸¢å¼ƒæ‰GFWå‘å›æ¥çš„é”™è¯¯ç­”æ¡ˆï¼Œä»è€Œå¾—åˆ°æ­£ç¡®çš„è§£æç»“æœã€‚è¿™ä¸ªè„šæœ¬ç”¨åˆ°äº†ä¸¤ä¸ªiptablesæ¨¡å—ä¸€ä¸ªæ˜¯u32ä¸€ä¸ªæ˜¯stringã€‚è¿™ä¸¤ä¸ªå†…æ ¸æ¨¡å—ä¸æ˜¯æ‰€æœ‰çš„linuxæœºå™¨éƒ½æœ‰çš„ã€‚æ¯”å¦‚å¤§éƒ¨åˆ†çš„Androidæ‰‹æœºéƒ½æ²¡æœ‰è¿™ä¸¤ä¸ªå†…æ ¸æ¨¡å—ã€‚æ‰€ä»¥ä¸Šé¢çš„è„šæœ¬é€‚åˆå†…æ ¸æ¨¡å—å¾ˆå®¹æ˜“å®‰è£…çš„åœºæ™¯ï¼Œæ¯”å¦‚ä½ çš„ubuntu pcã€‚å› ä¸ºlinuxçš„å†…æ ¸æ¨¡å—ä¸å†…æ ¸ç‰ˆæœ¬ï¼ˆæ¯æ¬¡ç¼–è¯‘åŸºæœ¬éƒ½ä¸åŒï¼‰æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥ä¸åŒçš„linuxæœºå™¨æ˜¯æ— æ³•å…±äº«åŒæ ·çš„å†…æ ¸æ¨¡å—çš„ã€‚æ‰€ä»¥åŸºäºå†…æ ¸æ¨¡å—çš„æ–¹æ¡ˆå¤©ç„¶åœ°å…·æœ‰å®‰è£…å›°éš¾çš„ç¼ºé™·ã€‚\nä½¿ç”¨nfqueueè¿‡æ»¤ å¯¹äºæ²¡æœ‰åŠæ³•è‡ªå·±å®‰è£…æˆ–è€…ç¼–è¯‘å†…æ ¸æ¨¡å—çš„åœºæ™¯ï¼Œæ¯”å¦‚æœ€å¸¸è§çš„Androidæ‰‹æœºï¼Œå‚å®¶ä¸å‘Šè¯‰ä½ å†…æ ¸çš„å…·ä½“ç‰ˆæœ¬ä»¥åŠç¼–è¯‘å‚æ•°ï¼Œæ™®é€šç”¨æˆ·æ˜¯æ²¡æœ‰åŠæ³•é‡æ–°ç¼–è¯‘linuxå†…æ ¸çš„ã€‚å¯¹äºè¿™æ ·çš„æƒ…å†µï¼Œiptablesæä¾›äº†nfqueueï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†…æ ¸æ¨¡å—åšçš„ipè¿‡æ»¤çš„å·¥ä½œäº¤ç»™ç”¨æˆ·æ€ï¼ˆä¹Ÿå°±æ˜¯æ™®é€šçš„åº”ç”¨ç¨‹åºï¼‰æ¥å®Œæˆã€‚\nCLEAN_DNS = \u0026#39;8.8.8.8\u0026#39; RULES = [] for iface in network_interface.list_data_network_interfaces(): # this rule make sure we always query from the \u0026#34;CLEAN\u0026#34; dns RULE_REDIRECT_TO_CLEAN_DNS = ( {\u0026#39;target\u0026#39;: \u0026#39;DNAT\u0026#39;, \u0026#39;iface_out\u0026#39;: iface, \u0026#39;extra\u0026#39;: \u0026#39;udp dpt:53 to:%s:53\u0026#39; % CLEAN_DNS}, (\u0026#39;nat\u0026#39;, \u0026#39;OUTPUT\u0026#39;, \u0026#39;-o %s -p udp --dport 53 -j DNAT --to-destination %s:53\u0026#39; % (iface, CLEAN_DNS)) ) RULES.append(RULE_REDIRECT_TO_CLEAN_DNS) RULE_DROP_PACKET = ( {\u0026#39;target\u0026#39;: \u0026#39;NFQUEUE\u0026#39;, \u0026#39;iface_in\u0026#39;: iface, \u0026#39;extra\u0026#39;: \u0026#39;udp spt:53 NFQUEUE num 1\u0026#39;}, (\u0026#39;filter\u0026#39;, \u0026#39;INPUT\u0026#39;, \u0026#39;-i %s -p udp --sport 53 -j NFQUEUE --queue-num 1\u0026#39; % iface) ) RULES.append(RULE_DROP_PACKET) # source http://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%BC%93%E5%AD%98%E6%B1%A1%E6%9F%93 WRONG_ANSWERS = { \u0026#39;4.36.66.178\u0026#39;, \u0026#39;8.7.198.45\u0026#39;, \u0026#39;37.61.54.158\u0026#39;, \u0026#39;46.82.174.68\u0026#39;, \u0026#39;59.24.3.173\u0026#39;, \u0026#39;64.33.88.161\u0026#39;, \u0026#39;64.33.99.47\u0026#39;, \u0026#39;64.66.163.251\u0026#39;, \u0026#39;65.104.202.252\u0026#39;, \u0026#39;65.160.219.113\u0026#39;, \u0026#39;66.45.252.237\u0026#39;, \u0026#39;72.14.205.99\u0026#39;, \u0026#39;72.14.205.104\u0026#39;, \u0026#39;78.16.49.15\u0026#39;, \u0026#39;93.46.8.89\u0026#39;, \u0026#39;128.121.126.139\u0026#39;, \u0026#39;159.106.121.75\u0026#39;, \u0026#39;169.132.13.103\u0026#39;, \u0026#39;192.67.198.6\u0026#39;, \u0026#39;202.106.1.2\u0026#39;, \u0026#39;202.181.7.85\u0026#39;, \u0026#39;203.161.230.171\u0026#39;, \u0026#39;203.98.7.65\u0026#39;, \u0026#39;207.12.88.98\u0026#39;, \u0026#39;208.56.31.43\u0026#39;, \u0026#39;209.36.73.33\u0026#39;, \u0026#39;209.145.54.50\u0026#39;, \u0026#39;209.220.30.174\u0026#39;, \u0026#39;211.94.66.147\u0026#39;, \u0026#39;213.169.251.35\u0026#39;, \u0026#39;216.221.188.182\u0026#39;, \u0026#39;216.234.179.13\u0026#39;, \u0026#39;243.185.187.39\u0026#39; } def handle_nfqueue(): try: nfqueue = NetfilterQueue() nfqueue.bind(1, handle_packet) nfqueue.run() except: LOGGER.exception(\u0026#39;stopped handling nfqueue\u0026#39;) dns_service_status.error = traceback.format_exc() def handle_packet(nfqueue_element): try: ip_packet = dpkt.ip.IP(nfqueue_element.get_payload()) dns_packet = dpkt.dns.DNS(ip_packet.udp.data) if contains_wrong_answer(dns_packet): # after the fake packet dropped, the real answer can be accepted by the client LOGGER.debug(\u0026#39;drop fake dns packet: %s\u0026#39; % repr(dns_packet)) nfqueue_element.drop() return nfqueue_element.accept() dns_service_status.last_activity_at = time.time() except: LOGGER.exception(\u0026#39;failed to handle packet\u0026#39;) nfqueue_element.accept() def contains_wrong_answer(dns_packet): if dpkt.dns.DNS_A not in [question.type for question in dns_packet.qd]: return False # not answer to A question, might be PTR for answer in dns_packet.an: if dpkt.dns.DNS_A == answer.type: resolved_ip = socket.inet_ntoa(answer[\u0026#39;rdata\u0026#39;]) if resolved_ip in WRONG_ANSWERS: return True # to find wrong answer else: LOGGER.info(\u0026#39;dns resolve: %s =\u0026gt; %s\u0026#39; % (dns_packet.qd[0].name, resolved_ip)) return False # if the blacklist is incomplete, we will think it is right answer return True # to find empty answer å…¶åŸç†æ˜¯ä¸€æ ·çš„ï¼Œè¿‡æ»¤æ‰€æœ‰çš„DNSåº”ç­”ï¼Œå¦‚æœå‘ç°æ˜¯é”™è¯¯çš„ç­”æ¡ˆå°±ä¸¢å¼ƒã€‚å› ä¸ºæ˜¯åŸºäºnfqueueçš„ï¼Œæ‰€ä»¥åªè¦linuxå†…æ ¸æ”¯æŒnfqueueï¼Œè€Œä¸”iptableså¯ä»¥æ·»åŠ nfqueueçš„targetï¼Œå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸Šæ–¹å¼æ¥ä¸¢å¼ƒDNSé”™è¯¯ç­”æ¡ˆã€‚ç›®å‰å·²ç»æˆåŠŸåœ¨ä¸»æµçš„androidæ‰‹æœºä¸Šè¿è¡Œè¯¥ç¨‹åºï¼Œå¹¶è·å¾—æ­£ç¡®çš„DNSè§£æç»“æœã€‚å¦å¤–ï¼Œä¸Šé¢çš„å®ç°åˆ©ç”¨iptablesçš„é‡å®šå‘èƒ½åŠ›ï¼Œè¾¾åˆ°äº†æ›´æ¢æœ¬æœºdnsæœåŠ¡å™¨çš„ç›®çš„ã€‚æ— è®ºæœºå™¨è®¾ç½®çš„dnsæœåŠ¡å™¨æ˜¯ä»€ä¹ˆï¼Œé€šè¿‡ä¸Šé¢çš„iptablesè§„åˆ™ï¼Œç»Ÿç»Ÿç»™ä½ é‡å®šå‘åˆ°å¹²å‡€çš„DNSï¼ˆ8.8.8.8ï¼‰ã€‚ è‡ªæ­¤DNSç©¿å¢™çš„è®¨è®ºåŸºæœ¬ä¸Šå°±å®Œæˆäº†ã€‚DNSåŠ«æŒæ˜¯æ‰€æœ‰GFWå°é”æ‰‹æ®µä¸­æœ€è–„å¼±çš„ä¸€ç¯ï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•éƒ½å¯ä»¥ç©¿è¿‡ã€‚å¦‚æœä¸æƒ³å†™ä»£ç ï¼Œç”¨éæ ‡å‡†ç«¯å£æ˜¯æœ€å®¹æ˜“çš„éƒ¨ç½²æ–¹å¼ã€‚å¦‚æœæ„¿æ„éƒ¨ç½²ä»£ç ï¼Œç”¨nfqueueä¸¢å¼ƒé”™è¯¯ç­”æ¡ˆæ˜¯æœ€å¯é é€šç”¨çš„æ–¹å¼ï¼Œä¸ä¾èµ–äºç‰¹å®šçš„æœåŠ¡å™¨ã€‚\nå°IPè§‚æµ‹ è§‚æµ‹twitter.com é¦–å…ˆä½¿ç”¨digè·å¾—twitter.comçš„ipåœ°å€ï¼š\n; \u0026lt;\u0026lt;\u0026gt;\u0026gt; DiG 9.9.1-P3 \u0026lt;\u0026lt;\u0026gt;\u0026gt; +tcp @8.8.8.8 twitter.com ; (1 server found) ;; global options: +cmd ;; Got answer: ;; -\u0026gt;\u0026gt;HEADER\u0026lt;\u0026lt;- opcode: QUERY, status: NOERROR, id: 8015 ;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 512 ;; QUESTION SECTION: ;twitter.com. IN A ;; ANSWER SECTION: twitter.com. 7 IN A 199.59.149.230 twitter.com. 7 IN A 199.59.150.39 twitter.com. 7 IN A 199.59.150.7 æ ¹æ®å‰é¢çš„å†…å®¹æˆ‘ä»¬çŸ¥é“ä½¿ç”¨dns over tcpï¼Œå¤§éƒ¨åˆ†çš„åŸŸåè§£æéƒ½ä¸ä¼šè¢«å¹²æ‰°çš„ã€‚è¿™é‡Œå¾—åˆ°äº†ä¸‰ä¸ªipåœ°å€ã€‚å…ˆæ¥æµ‹è¯•199.59.149.230\ntraceroute to 199.59.149.230 (199.59.149.230), 30 hops max, 38 byte packets 123.114.32.1 19.862 ms 4.267 ms 101.431 ms 61.148.163.73 920.148 ms 5.108 ms 3.868 ms 124.65.56.129 7.596 ms 7.742 ms 7.735 ms 123.126.0.133 5.310 ms 7.745 ms 7.573 ms * * * * * * è¿™ä¸ªç»“æœæ˜¯æœ€å¸¸è§çš„ã€‚åœ¨éª¨å¹²è·¯ç”±å™¨ä¸Šï¼Œé’ˆå¯¹è¿™ä¸ªipä¸¢åŒ…äº†ã€‚è¿™ç§å°é”æ–¹å¼å°±æ˜¯æœ€ä¼ ç»Ÿçš„å°IPæ–¹å¼ï¼ŒBGPè·¯ç”±æ‰©æ•£ï¼Œç°è±¡å°±æ˜¯é’ˆå¯¹ä¸Šè¡Œæµé‡çš„ä¸¢åŒ…ã€‚å†æ¥çœ‹199.59.150.39\ntraceroute to 199.59.150.39 (199.59.150.39), 30 hops max, 38 byte packets 123.114.32.1 14.046 ms 20.322 ms 19.918 ms 61.148.163.229 7.461 ms 7.182 ms 7.540 ms 124.65.56.157 4.491 ms 3.342 ms 7.260 ms 123.126.0.93 6.715 ms 7.309 ms 7.438 ms 219.158.4.126 5.326 ms 3.217 ms 3.596 ms 219.158.98.10 3.508 ms 3.606 ms 4.198 ms 219.158.33.254 140.965 ms 133.414 ms 136.979 ms 129.250.4.107 132.847 ms 137.153 ms 134.207 ms 61.213.145.166 253.193 ms 253.873 ms 258.719 ms 199.16.159.15 257.592 ms 258.963 ms 256.034 ms 199.16.159.55 267.503 ms 268.595 ms 267.590 ms 199.59.150.39 266.584 ms 259.277 ms 263.364 ms åœ¨æˆ‘æ’°å†™çš„æ—¶å€™ï¼Œè¿™ä¸ªipè¿˜æ²¡æœ‰è¢«å°ã€‚ä½†æ˜¯æ ¹æ®ç»éªŒï¼Œtwitter.comäº«å—äº†æœ€é«˜å±‚æ¬¡çš„GFWå…³æ€€ï¼Œæ–°çš„ipåŸºæœ¬ä¸Šæœ€æ…¢ä¹Ÿæ˜¯éš”æ—¥è¢«å°çš„ã€‚ä¸è¿‡é€šè¿‡è¿™ä¸ªtracerouteå¯ä»¥çœ‹åˆ°219.158.4.126å…¶å®å°±æ˜¯é‚£ä¸ªä¹‹å‰æ£ä¹±çš„æœåŠ¡å™¨ï¼ŒåŒ…æ˜¯åœ¨å®ƒæ‰‹é‡Œè¢«ä¸¢æ‰çš„ï¼ˆä¸¥æ ¼æ¥è¯´å¹¶ä¸ä¸€å®šæ˜¯219.158.4.126ï¼Œå› ä¸ºipåŒ…ç»è¿‡çš„è·¯ç”±å¯¹äºä¸åŒçš„ç›®æ ‡ipè®¾ç½®ä¸åŒçš„ç«¯å£éƒ½å¯èƒ½ä¼šä¸ä¸€æ ·ï¼‰ã€‚å†æ¥çœ‹199.59.150.7\ntraceroute to 199.59.150.7 (199.59.150.7), 30 hops max, 38 byte packets 123.114.32.1 11.379 ms 10.420 ms 23.008 ms 61.148.163.229 6.102 ms 6.777 ms 7.373 ms 61.148.153.61 5.638 ms 3.148 ms 3.235 ms 123.126.0.9 3.473 ms 3.306 ms 3.216 ms 219.158.4.198 2.839 ms !H * 6.136 ms !H è¿™æ¬¡åŒæ ·æ˜¯å°IPï¼Œä½†æ˜¯ç°è±¡ä¸åŒã€‚é€šè¿‡æŠ“åŒ…å¯ä»¥è§‚å¯Ÿåˆ°æ˜¯ä»€ä¹ˆé—®é¢˜ï¼š\n:46:11.355913 IP (tos 0x0, ttl 251, id 0, offset 0, flags [none], proto ICMP (1), length 56) .158.4.198 \u0026gt; 123.114.40.44: ICMP host r-199-59-150-7.twttr.com unreachable, length 36 IP (tos 0x0, ttl 1, id 0, offset 0, flags [DF], proto UDP (17), length 38) .114.40.44.45021 \u0026gt; r-199-59-150-7.twttr.com.33449: UDP, length 10 åŸæ¥219.158.4.198å‘å›æ¥äº†ä¸€ä¸ªICMPåŒ…ï¼Œå†…å®¹æ˜¯åœ°å€ä¸å¯åˆ°è¾¾ï¼ˆunreachableï¼‰ã€‚äºæ˜¯tracerouteå°±åœ¨é‚£é‡Œæ–­æ‰äº†ã€‚ å¦‚æœæŠŠunreachableç±»å‹çš„ICMPåŒ…ä¸¢å¼ƒæ‰ï¼Œä¼šå‘ç°ipåŒ…ä»ç„¶è¿‡ä¸å»\ntraceroute to 199.59.150.7 (199.59.150.7), 30 hops max, 38 byte packets 123.114.32.1 4.866 ms 3.165 ms 3.212 ms 61.148.163.229 3.107 ms 3.104 ms 3.270 ms 61.148.153.61 6.001 ms 7.246 ms 7.398 ms 123.126.0.9 7.840 ms 7.223 ms 7.443 ms * * * è¿™æ¬¡å°±å’Œè¢«ä¸¢åŒ…äº†æ˜¯ä¸€æ ·çš„è§‚æµ‹ç°è±¡äº†ã€‚ åŒæ—¶ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä»ç„¶æ˜¯æ”¶åˆ°äº†icmpåœ°å€ä¸å¯åˆ°è¾¾çš„åŒ…çš„ï¼Œåªæ˜¯è¢«æˆ‘ä»¬dropæ‰äº†ã€‚\nè§‚æµ‹è¢«å°ipçš„åå‘æµé‡ ä¹‹å‰çš„è§‚æµ‹ä¸­ï¼Œè¢«å°çš„ipæ˜¯ipåŒ…çš„dstã€‚å¦‚æœæˆ‘ä»¬ä»å›½å¤–å¾€å›½å†…å‘åŒ…ï¼Œå…¶srcæ˜¯è¢«å°çš„ipï¼Œé‚£ä¹ˆipåŒ…æ˜¯å¦ä¼šè¢«GFWè¿‡æ»¤æ‰å‘¢ï¼Ÿç™»å½•åˆ°ä¸€å°å›½å¤–çš„vpsä¸Šæ‰§è¡Œä¸‹é¢çš„pythonä»£ç :\nfrom scapy.all import * send(IP(src=\u0026#34;http://drops.wooyun.org/papers/199.59.150.7\u0026#34;, dst=\u0026#34;123.114.40.44\u0026#34;)/ICMP()) ç„¶ååœ¨å›½å†…çš„è·¯ç”±å™¨ä¸Šæ‰§è¡ŒæŠ“åŒ…ç¨‹åº\ntcpdump: listening on pppoe-wan, link-type LINUX_SLL (Linux cooked), capture size 65535 bytes :41:14.294671 IP (tos 0x0, ttl 50, id 1, offset 0, flags [none], proto ICMP (1), length 28) r-199-59-150-7.twttr.com \u0026gt; 123.114.40.44: ICMP echo request, id 0, seq 0, length 8 :41:14.294779 IP (tos 0x0, ttl 64, id 25013, offset 0, flags [none], proto ICMP (1), length 28) .114.40.44 \u0026gt; r-199-59-150-7.twttr.com: ICMP echo reply, id 0, seq 0, length 8 å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœè¯¥ipæ˜¯srcè€Œä¸æ˜¯dstå¹¶ä¸ä¼šè¢«GFWè¿‡æ»¤ã€‚è¿™ä¸€è¡Œä¸ºæœ‰ä¸¤ç§å¯èƒ½ï¼šè¦ä¹ˆGFWè®¤ä¸ºå°dstå°±å¯ä»¥äº†ï¼Œä¸å±‘äºå†å°srcäº†ã€‚å¦å¤–ä¸€ç§å¯èƒ½æ˜¯GFWå°twitterçš„IPç”¨çš„æ˜¯è·¯ç”±è¡¨æ‰©æ•£æŠ€æœ¯ï¼Œè€Œä¼ ç»Ÿçš„è·¯ç”±è¡¨æ˜¯åŸºäºdståšè·¯ç”±åˆ¤æ–­çš„ï¼ˆé«˜çº§çš„è·¯ç”±å™¨å¯ä»¥æ ¹æ®srcç”šè‡³ç«¯å£å·åšä¸ºè·¯ç”±çš„ä¾æ®ï¼‰ï¼Œæ‰€ä»¥dstè·¯ç”±è¡¨å¯¼è‡´çš„è·¯ç”±é»‘æ´å¹¶ä¸ä¼šå½±å“è¯¥ipä¸ºsrcçš„æƒ…å†µã€‚æˆ‘ç›¸ä¿¡æ˜¯åè€…ï¼Œä½†æ˜¯GFWåœ¨å°ä¸ªäººç¿»å¢™ä¸»æœºä¸Šæ‰€è¡¨ç°çš„å®åŠ›ï¼ˆå¯¹å¤§é‡çš„ipåšç²¾ç¡®åˆ°ç«¯å£çš„å…¨å›½æ€§ä¸¢åŒ…ï¼‰è®©æˆ‘ä»¬ç›¸ä¿¡ï¼ŒGFWå¾ˆå®¹æ˜“æŠŠå°é”å˜æˆåŒå‘çš„ã€‚ä¸è¿‡è¯´å®è¯ï¼Œåœ¨è¿™ä¸ªç¡¬å®åŠ›çš„èƒŒåï¼Œé çš„æ›´å¤šçš„æ˜¯CISCOä¸‹ä¸€ä»£éª¨å¹²ç½‘è·¯ç”±å™¨çš„è¶…å¼ºå¤„ç†èƒ½åŠ›ï¼Œè€Œä¸æ˜¯GFWè‡ªèº«ã€‚\nå•å‘ä»£ç† å› ä¸ºGFWå¯¹IPçš„å°é”æ˜¯é’ˆå¯¹ä¸Šè¡Œæµé‡çš„ï¼Œæ‰€ä»¥ä½¿å¾—å•å‘ä»£ç†å°±å¯ä»¥çªç ´å°é”ã€‚ä¸Šè¡Œçš„IPåŒ…ç»è¿‡å•å‘ä»£ç†è½¬å‘ç»™ç›®æ ‡æœåŠ¡å™¨ï¼Œä¸‹è¡Œçš„IPåŒ…ç›´æ¥ç”±ç›®æ ‡æœåŠ¡å™¨å‘å›ç»™å®¢æˆ·ç«¯ã€‚ä»£ç ä¸DNSï¼ˆUDPåè®®ï¼‰çš„å•å‘ä»£ç†æ˜¯ä¸€æ ·çš„ã€‚å› ä¸ºå•å‘ä»£ç†åˆ©ç”¨çš„æ˜¯IPåè®®ï¼Œæ‰€ä»¥TCPä¸UDPéƒ½æ˜¯ä¸€æ ·çš„ã€‚é™¤äº†å•å‘ä»£ç†ï¼Œç›®å‰å°šæ²¡æœ‰å…¶ä»–çš„åŠæ³•ç©¿è¿‡GFWè®¿é—®è¢«å°çš„IPï¼Œåªèƒ½ä½¿ç”¨ä¼ ç»Ÿçš„ç¿»å¢™æŠ€æœ¯ï¼Œä»£ç†æˆ–è€…VPNè¿™äº›ã€‚\nç»“è¯­ GFWä¸ç½‘æ°‘ä¹‹é—´å·²ç»æˆ–è€…å³å°†å½¢æˆæŸç§ç¨³æ€ï¼Œè¿™ç§ç¨³æ€æ˜¯åŒæ–¹æ–—äº‰çŠ¶å†µä¸‹çš„åŠ¨æ€å¹³è¡¡ï¼Œæ˜¯éœ€è¦æœ‰æ„è¯†ç»´æŠ¤çš„ã€‚ä¸€ä¸ªæ— æ³•æ§åˆ¶çš„ç½‘ç»œæ˜¯æ— æ³•è¢«æ”¿åºœæ‰€å®¹å¿çš„ï¼Œå½“ç½‘ç»œæ— æ³•æ§åˆ¶æ—¶æ”¿åºœæ˜¯ä¸åäºåˆ‡æ–­ä¸€åˆ‡ç½‘ç»œçš„ï¼ˆä½ ä¸€å®šçŸ¥é“æˆ‘åœ¨è¯´ä»€ä¹ˆï¼‰ï¼Œç¨³æ€çš„ç ´åä¹Ÿå°±æ„å‘³ç€ç¯å¢ƒçš„æ¯ç­ã€‚ä¸€ä¸ªç†æƒ³çš„ç¨³æ€å°±æ˜¯ç½‘ç»œå¤„äºâ€œçœ‹èµ·æ¥â€å¯ä»¥æ§åˆ¶çš„çŠ¶æ€ï¼Œè®©GFWå¤„äºä¸æ–­å–å¾—å°å‹å°é”æˆåŠŸçš„è™šå¹»èƒœåˆ©æ„Ÿä¹‹ä¸­ï¼Œç½‘æ°‘ä¸ªäººå„è‡ªæŒæ¡éä¸­å¿ƒåŒ–çš„ç¿»å¢™æ–¹æ³•ã€‚ä¸€ä¸ªä¸­å¿ƒåŒ–çš„å¤§ä¼—ç¿»å¢™æ–¹æ³•ï¼ˆæœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯è®¾ç½®hostsé™æ€è§£æï¼‰å¿…å®šæ— æ³•é¿å…è¢«å½“å±€å‘ç°å¹¶è¢«GFWå°é”ã€‚ä¸‹ä¸€ä»£çš„ç¿»å¢™æ–¹æ³•åº”è¯¥æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼ˆp2pï¼‰ã€å°ä¼—çš„ã€å¤šæ ·åŒ–çš„ã€æ··åˆå‹çš„ã€åŠ¨æ€æ›´æ–°çš„ã€‚\n","permalink":"https://EitanWong.github.io/en/posts/passgfw/%E4%BB%8Egfw%E5%8E%9F%E7%90%86%E5%88%B0%E7%BF%BB%E5%A2%99%E5%AE%9E%E8%B7%B5/","summary":"å¼•è¨€ GFWå…·æœ‰é‡å¤§çš„ç¤¾ä¼šæ„ä¹‰ã€‚æ— è®ºæ˜¯æ­£é¢çš„ç¤¾ä¼šæ„ä¹‰ï¼Œè¿˜æ˜¯è´Ÿé¢çš„æ„ä¹‰ã€‚æ— è®ºä½ æ˜¯è®¨åŒï¼Œè¿˜æ˜¯æ†æ¨ã€‚å®ƒéƒ½åœ¨é‚£é‡Œã€‚åœ¨å¯ä»¥é¢„è§çš„å°†æ¥ï¼Œå¢™è¿˜ä¼šç»§ç»­å­˜åœ¨ã€‚æˆ‘ä»¬è¦å­¦ä¼šå¦‚ä½•ä¸å…¶å…±å­˜ã€‚ æˆ‘ä»¬æŠŠç¿»å¢™çœ‹æˆä¸€åœºæˆ‘ä»¬ä¸GFWä¹‹é—´çš„åšå¼ˆï¼Œæ˜¯ä¸€ä¸ªä¸æ–­å¯¹æŠ—å‡çº§çš„åŠ¨æ€è¿‡ç¨‹ã€‚ç›®å‰æ•´ä½“çš„åšå¼ˆæ€åŠ¿æ¥è®²æ˜¯GFWå äº†ç»å¯¹çš„ä¸Šé£ã€‚","title":"ä»GFWåŸç†åˆ°ç¿»å¢™å®è·µ"},{"content":"ğŸ’¬å‰è¨€ ä»¥å‰è®°å½•ä¸€äº›ç¬”è®°æ–‡ç« ï¼Œéƒ½ç”¨Notionè¿™æ¬¾è½¯ä»¶ğŸ–Šï¸ğŸ“’ ä½†æ˜¯æœ‰ä¸€å¤©æˆ‘å‘ç°è¿ä¸ä¸ŠğŸš«Notionçš„ç½‘ç«™äº†(å¹³æ—¶ä¸»è¦åœ¨çº¿ç”¨ç½‘é¡µå†™æ–‡ç« ) è¯¯ä»¥ä¸ºNotionè·‘è·¯ğŸƒäº†\u0026hellip;.åæ¥æ‰å‘ç°æ˜¯æˆ‘çš„ç½‘ç»œğŸ›œé—®é¢˜ ä¸è¿‡æ•°æ®åœ¨åˆ«äººé‚£é‡Œï¼Œæ€»å½’æ˜¯æœ‰é£é™©çš„ï¼Œæ— è®ºæ˜¯ä¿¡æ¯å®‰å…¨ğŸ”ï¼Œè¿˜æ˜¯æ•°æ®å®‰å…¨ğŸ” æ‰€ä»¥æˆ‘æ‰“ç®—æŠŠNotioné‡Œé¢æ‰€æœ‰çš„ç¬”è®°å¯¼å‡ºâ¡ï¸æˆmarkdownğŸ“ƒæ ¼å¼\nğŸ”§å®æ–½ Notionç½‘é¡µå½“ä¸­å°±å·²ç»åŒ…å«äº†å¯¼å‡ºåŠŸèƒ½ï¼Œç‚¹å‡»ExportæŒ‰é’®ï¼Œå°±å¯ä»¥å¯¼å‡ºPDFï¼ŒHTMLï¼ŒMarkdown\nå¯¼å‡ºä¹‹åæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œè§£å‹ä¹‹åå¯ä»¥çœ‹åˆ°ï¼Œé‡Œé¢æœ‰å¾ˆå¤šæ–‡ä»¶å¤¹ï¼Œè¿˜æœ‰markdownæ–‡ä»¶ï¼Œ å›¾ç‰‡å°±æ˜¯å­˜æ”¾åœ¨å¯¹åº”å‘½åçš„æ–‡ä»¶å¤¹ä¸­\nå¯ä»¥çœ‹åˆ°markdownä¸­çš„å›¾ç‰‡æ˜¯é“¾æ¥åˆ°æœ¬åœ°çš„\næˆ‘ä»¬å¯ä»¥å°†å›¾ç‰‡ä¸€ä¸ªä¸€ä¸ªä¸Šä¼ åˆ°åœ¨çº¿çš„å›¾åºŠä¸Šï¼Œæ›¿æ¢è¿™ä¸ªè¿æ¥å°±å¯ä»¥äº† å—â“ å¦‚æœæˆ‘æœ‰1000ç¯‡æ–‡ç« ï¼Œæˆ‘è¦ä¸€ä¸ªä¸ªæ›¿æ¢åˆ°ğŸ’ğŸ§¨ğŸğŸŒ›å»\u0026hellip;\u0026hellip; å°±ç®—ä¸Šä¼ åˆ°å›¾åºŠä¸Šå»äº†ï¼Œç©æ„åœ¨çº¿å›¾åºŠæŒ‚äº†ï¼Œé‚£å°±å‡‰å‡‰\nğŸ™‹å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜å‘¢ï¼Ÿ ç­”æ¡ˆå°±æ˜¯è®©å›¾ç‰‡è¿›è¡Œbase64ç¼–ç å­˜å‚¨ è¿™é‡Œæœ‰ä¸€ä¸ªç½‘ç«™å¯ä»¥åœ¨çº¿base64ç¼–è§£ç https://base64.us/\nğŸ§‘â€ğŸ’»ç¼–ç  ä¸ºäº†å®ç°æ‰¹é‡å¤„ç†è¿™äº›æ–‡æ¡£ä¸­å›¾ç‰‡çš„ç¼–ç  æˆ‘éœ€è¦å®ç°ä¸€ä¸ªPythonè„šæ­¥ï¼Œæ¥å¸®æˆ‘è‡ªåŠ¨å¤„ç†è¿™äº›æ–‡ä»¶ è„šæœ¬ä»£ç å¦‚ä¸‹\nimport os import base64 import urllib.parse import re from PIL import Image def replace(directory, output_directory,quality): # éå†ç›®å½•ä¸­çš„æ‰€æœ‰markdownæ–‡ä»¶ for root, _, files in os.walk(directory): for filename in files: if filename.endswith(\u0026#34;.md\u0026#34;): filepath = os.path.join(root, filename) # è¯»å–markdownæ–‡ä»¶å†…å®¹ with open(filepath, \u0026#34;r\u0026#34;) as f: content = f.read() # æŸ¥æ‰¾æ‰€æœ‰çš„å›¾ç‰‡é“¾æ¥å¹¶æ›¿æ¢ä¸ºbase64ç¼–ç  pattern = r\u0026#34;!\\[(.*?)\\]\\((.*?)\\)\u0026#34; matches = re.findall(pattern, content) ref_dict = {} for match in matches: img_path = os.path.abspath(os.path.join(os.path.dirname(filepath), urllib.parse.unquote(match[1]))) print(\u0026#34;è¯»å–å›¾ç‰‡:\u0026#34;+img_path) if not match[1].startswith(\u0026#34;https://\u0026#34;): try: with Image.open(img_path) as img: img = img.convert(\u0026#39;RGB\u0026#39;) img.save(\u0026#34;temp.webp\u0026#34;, \u0026#34;WebP\u0026#34;, quality=quality) with open(\u0026#34;temp.webp\u0026#34;, \u0026#34;rb\u0026#34;) as f: img_data = f.read() img_base64 = base64.b64encode(img_data).decode(\u0026#34;utf-8\u0026#34;) ref_id = f\u0026#34;img-{base64.b32encode(match[1].encode()).decode()}\u0026#34; ref_dict[ref_id] = f\u0026#34;data:image/webp;base64,{img_base64}\u0026#34; img_tag = f\u0026#34;![{match[0]}][{ref_id}]\u0026#34; content = content.replace(f\u0026#34; ![{match![0]}]({match[1]}) \u0026#34;, img_tag) except IOError: print (\u0026#34;Error: \u0026#34;+img_path+\u0026#34;æ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶æˆ–è¯»å–æ–‡ä»¶å¤±è´¥\u0026#34;) else: print(\u0026#34;æ›¿æ¢\u0026#34;+img_path+\u0026#34;æˆåŠŸ\u0026#34;) img.close() # å–æ¶ˆ\u0026lt;aside\u0026gt;æ ‡ç­¾å‰åçš„æ¢è¡Œç¬¦ content = re.sub(r\u0026#34;\\n\\s*\u0026lt;/aside\u0026gt;\u0026#34;, \u0026#34;\u0026lt;/aside\u0026gt;\u0026#34;, content) content = re.sub(r\u0026#34;\u0026lt;aside\u0026gt;\\s*\\n\u0026#34;, \u0026#34;\u0026lt;aside\u0026gt;\u0026#34;, content) # åœ¨markdownæ–‡ä»¶æœ«å°¾æ·»åŠ å¼•ç”¨ ref_content = \u0026#34;\\n\\n\u0026#34;.join([f\u0026#34;[{ref_id}]: {ref_url}\u0026#34; for ref_id, ref_url in ref_dict.items()]) content += f\u0026#34;\\n\\n{ref_content}\u0026#34; # å†™å…¥ä¿®æ”¹åçš„markdownå†…å®¹ output_filepath = os.path.join(output_directory, filename) with open(output_filepath, \u0026#34;w\u0026#34;) as f: f.write(content) if __name__ == \u0026#39;__main__\u0026#39;: replace(input(\u0026#34;è¯·è¾“å…¥markdownæ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„: \u0026#34;), input(\u0026#34;è¯·è¾“å…¥è¾“å‡ºæ–‡ä»¶å¤¹çš„è·¯å¾„: \u0026#34;),float(input(\u0026#34;è¯·è¾“å…¥å›¾ç‰‡è´¨é‡(0~100): \u0026#34;))) åœ¨ç»ˆç«¯å½“ä¸­è¾“å…¥markdownæ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œä»¥åŠå¤„ç†åè¾“å‡ºçš„æ–‡ä»¶å¤¹è·¯å¾„ å›è½¦ï¼Œç¨‹åºå°±ä¼šä»æ–‡ä»¶å¤¹ä¸­è‡ªåŠ¨æœå¯»å›¾ç‰‡ï¼Œå¹¶è¿›è¡Œbase64ç¼–ç ï¼Œç„¶åæ›¿æ¢\nğŸ“„ç»“æœ è¿™äº›å°±æ˜¯è¾“å‡ºåçš„æ–‡ä»¶\næ›¿æ¢åä¸ºäº†æ–¹ä¾¿ç¼–è¾‘å’Œé˜…è¯»markdownçš„å›¾ç‰‡åœ°å€ï¼Œé‡‡ç”¨çš„å¼•ç”¨çš„æ–¹å¼\nå…·ä½“çš„base64çš„ç¼–ç åœ¨æ–‡æ¡£çš„æœ€åé¢\nğŸ™ï¸æ€»ç»“ ğŸ’¡ç»è¿‡è¿™æ ·å¤„ç†åçš„markdownæ–‡ä»¶ï¼Œå›¾ç‰‡å°±å†…ç½®åœ¨äº†æ–‡ä»¶å½“ä¸­ï¼Œåªè¦æ–‡ä»¶åœ¨å›¾ç‰‡å°±ä¸€ç›´å­˜åœ¨ ğŸ’¡ç¼ºç‚¹çš„è¯å¯èƒ½å°±æ˜¯markdownæ–‡ä»¶ä½“ç§¯å¢å¤§äº†ä¸€ç‚¹ï¼Œä¸è¿‡ä½ å¯ä»¥é€‰æ‹©é™ä½å›¾ç‰‡è´¨é‡\n","permalink":"https://EitanWong.github.io/en/posts/other/notion%E7%AC%94%E8%AE%B0%E5%AF%BC%E5%87%BA%EF%B8%8Fmarkdown%E5%B9%B6%E8%A7%A3%E5%86%B3%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/","summary":"ğŸ’¬å‰è¨€ ä»¥å‰è®°å½•ä¸€äº›ç¬”è®°æ–‡ç« ï¼Œéƒ½ç”¨Notionè¿™æ¬¾è½¯ä»¶ğŸ–Šï¸ğŸ“’ ä½†æ˜¯æœ‰ä¸€å¤©æˆ‘å‘ç°è¿ä¸ä¸ŠğŸš«Notionçš„ç½‘ç«™äº†(å¹³æ—¶ä¸»è¦åœ¨çº¿ç”¨ç½‘é¡µå†™æ–‡ç« ) è¯¯ä»¥ä¸ºNotionè·‘è·¯ğŸƒäº†\u0026hellip;.åæ¥æ‰å‘ç°æ˜¯æˆ‘çš„ç½‘ç»œğŸ›œé—®é¢˜ ä¸è¿‡æ•°æ®åœ¨åˆ«äººé‚£é‡Œï¼Œæ€»å½’æ˜¯æœ‰é£é™©çš„ï¼Œæ— è®ºæ˜¯ä¿¡æ¯å®‰å…¨ğŸ”ï¼Œè¿˜æ˜¯æ•°æ®å®‰å…¨ğŸ” æ‰€ä»¥æˆ‘æ‰“ç®—æŠŠ","title":"Notionç¬”è®°ğŸ“’å¯¼å‡ºâ¡ï¸markdownğŸ“„ï¼Œå¹¶è§£å†³å›¾ç‰‡è·¯å¾„ä¾èµ–é—®é¢˜"},{"content":"æ³•çº¿ ğŸ’¡ æ³•çº¿ï¼ˆnormal lineï¼‰ï¼Œæ˜¯æŒ‡å§‹ç»ˆå‚ç›´äºæŸå¹³é¢çš„ç›´çº¿ã€‚ åœ¨å‡ ä½•å­¦ä¸­ï¼Œæ³•çº¿æŒ‡å¹³é¢ä¸Šå‚ç›´äºæ›²çº¿åœ¨æŸç‚¹çš„åˆ‡çº¿çš„ä¸€æ¡çº¿ã€‚ æ³•çº¿ä¹Ÿåº”ç”¨äºå…‰å­¦çš„å¹³é¢é•œåå°„ä¸Šã€‚\nPythonå®ç°çš„å…‰ç…§æ¸²æŸ“Demo ï¼ˆä¾èµ–åŒ…ï¼šnumpyã€opencvï¼‰ 1ã€ç¼–å†™å˜æ¢çš„çŸ©é˜µåŒ…æ‹¬ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ã€æŠ•å½±\nimport numpy as np from math import * def M_Move(x,y,z): return np.array([1,0,0,0,0,1,0,0,0,0,1,0,x,y,z,1]).reshape(4,4) def M_Scale(x,y,z): return np.array([x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1]).reshape(4,4) def M_RotateY(angle): return np.array([cos(angle),0,sin(angle),0,0,1,0,0,-sin(angle),0,cos(angle),0,0,0,0,1]).reshape(4,4) def M_RotateX(angle): return np.array([1,0,0,0,0,cos(angle),-sin(angle),0,0,sin(angle),cos(angle),0,0,0,0,1]).reshape(4,4) def M_Projection(distance): return np.array([1,0,0,0,0,1,0,0,0,0,1,1/distance,0,0,0,1]).reshape(4,4) def GetPoint(vector4): offset=250 d=1 if vector4[3]==0 else vector4[3] # d=-d if d\u0026lt;0 else d return (int(offset+vector4[0]/d),int(offset-vector4[1]/d)) def GetNomalizedDir(targetPos,vector4): Dir=targetPos-np.array([vector4[0],vector4[1],vector4[2]]) return nomalizeVector3(Dir) def mul(matrix4x4_1,matrix4x4_2): return np.matmul(matrix4x4_1,matrix4x4_2) def nomalizeVector3(vector3): return vector3/np.linalg.norm(vector3) 2ã€å®ç°TriangleClassï¼Œå®ç°ä¸‰è§’é¢çš„å˜æ¢ä¸ç»˜åˆ¶\nimport cv2 as cv import numpy as np from math import * from matrix import * class Trangle: def __init__(self,a,b,c): self.a=np.array(a);self.b=np.array(b);self.c=np.array(c) self.A=self.a;self.B=self.b;self.C=self.c self.cullMask=False self.drawLines=True self.thickness=1 self.linesColor=(255,255,255) self.lightPos=np.array([0,0,-1]) self.cameraPos=np.array([0,0,-1]) def transform(self,matrix): self.A=mul(self.a,matrix);self.B=mul(self.b,matrix);self.C=mul(self.c,matrix) self.pointA=GetPoint(self.A);self.pointB=GetPoint(self.B);self.pointC=GetPoint(self.C) u=self.B-self.A;v=self.C-self.A self.U=np.array([u[0],u[1],u[2]]) ;self.V=np.array([v[0],v[1],v[2]]) def drawCall(self,img): points=[self.pointA,self.pointB,self.pointC] if self.drawLines: cv.line(img,points[0],points[1],self.linesColor,self.thickness) cv.line(img,points[1],points[2],self.linesColor,self.thickness) cv.line(img,points[2],points[0],self.linesColor,self.thickness) self.normal=np.cross(self.U,self.V) self.normal=self.normal/np.linalg.norm(self.normal) eyeDir=-self.cameraPos self.cullMask =np.dot(eyeDir,self.normal)\u0026lt;0 if not self.cullMask: lightDir=nomalizeVector3(-self.lightPos) l=np.dot(lightDir,self.normal) l= 0 if l\u0026lt;0 else l col=int(200*l)+55 cv.fillPoly(img,[np.array(points)], (col,col,col)) return img 3ã€å®ç°Cube Classï¼Œæ ¹æ®å®šç‚¹æ„å»ºç«‹æ–¹ä½“ä¸‰è§’é¢ï¼Œå¹¶ç¼–å†™ç»˜åˆ¶ä¸å˜æ¢æ–¹æ³•\nfrom Triangle import * class Cube: def __init__(self,vertices): self.vertices=vertices self.triangles=[ # Top Trangle(self.vertices[0],self.vertices[1],self.vertices[2]), Trangle(self.vertices[0],self.vertices[2],self.vertices[3]), # Down Trangle(self.vertices[4],self.vertices[7],self.vertices[5]), Trangle(self.vertices[5],self.vertices[7],self.vertices[6]), # Front Trangle(self.vertices[3],self.vertices[7],self.vertices[6]), Trangle(self.vertices[3],self.vertices[6],self.vertices[2]), # Back Trangle(self.vertices[0],self.vertices[1],self.vertices[4]), Trangle(self.vertices[1],self.vertices[5],self.vertices[4]), # Left Trangle(self.vertices[3],self.vertices[0],self.vertices[7]), Trangle(self.vertices[0],self.vertices[4],self.vertices[7]), # Right Trangle(self.vertices[2],self.vertices[6],self.vertices[5]), Trangle(self.vertices[2],self.vertices[5],self.vertices[1]), ] self.drawLines=True self.thickness=1 self.linesColor=(255,255,255) self.lightPos=np.array([0,0,-1]) self.cameraPos=np.array([0,0,-1]) def transform(self,matrix): for t in self.triangles: t.transform(matrix) def drawCall(self,img): for t in self.triangles: t.drawLines=self.drawLines t.thickness=self.thickness t.linesColor=self.linesColor # t.lightPos=self.lightPos # t.cameraPos=self.cameraPos img=t.drawCall(img) return img 4ã€mainè„šæœ¬ä¸­ï¼Œåˆå§‹åŒ–é¡¶ç‚¹ç­‰ç›¸å…³æ•°æ®ï¼Œè¿›è¡Œå¾ªç¯ç»˜åˆ¶ï¼Œå®ç°ç«‹æ–¹ä½“æ—‹è½¬æ•ˆæœ\nfrom Cube import * lightPos=np.array([10,10,-10]) cameraPos=np.array([0,0,-10]) moveSpeed=10 fov=250 rotateY=0 if __name__==\u0026#39;__main__\u0026#39;: a=[-0.5, 0.5, 0.5, 1] b=[0.5, 0.5, 0.5, 1] c=[0.5, 0.5, -0.5, 1] d=[-0.5, 0.5, -0.5, 1] e=[-0.5, -0.5, 0.5, 1] f=[0.5, -0.5, 0.5, 1] g=[0.5, -0.5, -0.5, 1] h=[-0.5, -0.5, -0.5, 1] cube= Cube([a,b,c,d,e,f,g,h]) done = False while not done: img=np.zeros((500,500,3),np.uint8) cube.lightPos=lightPos cube.cameraPos=cameraPos cube.drawLines=False rotateY+=0.05 matMove=M_Move(cameraPos[0],cameraPos[1],cameraPos[2]) distance=-cameraPos[2] if cameraPos[2]\u0026lt;0 else cameraPos[2] distance=0.001 if distance\u0026lt;=0 else distance matScale= M_Scale(200,200,200) matRotate=mul(M_RotateX(rotateY),M_RotateY(rotateY)) m=matMove matProjection=M_Projection(fov) m=mul(matScale,m) m=mul(matRotate,m) m=mul(m,matProjection) cube.transform(m) graphics= cube.drawCall(img) cv.imshow(\u0026#34;img\u0026#34;,graphics) key=cv.waitKey(10) if key==27: done=True cv.destroyAllWindows() elif key==119: cameraPos[2]-=moveSpeed elif key==115: cameraPos[2]+=moveSpeed elif key==97: cameraPos[0]+=moveSpeed elif key==100: cameraPos[0]-=moveSpeed elif key==101: cameraPos[1]-=moveSpeed elif key==113: cameraPos[1]+=moveSpeed ","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%85%89%E7%85%A7%E6%B8%B2%E6%9F%93/","summary":"æ³•çº¿ ğŸ’¡ æ³•çº¿ï¼ˆnormal lineï¼‰ï¼Œæ˜¯æŒ‡å§‹ç»ˆå‚ç›´äºæŸå¹³é¢çš„ç›´çº¿ã€‚ åœ¨å‡ ä½•å­¦ä¸­ï¼Œæ³•çº¿æŒ‡å¹³é¢ä¸Šå‚ç›´äºæ›²çº¿åœ¨æŸç‚¹çš„åˆ‡çº¿çš„ä¸€æ¡çº¿ã€‚ æ³•çº¿ä¹Ÿåº”ç”¨äºå…‰å­¦çš„å¹³é¢é•œåå°„ä¸Šã€‚ Pythonå®ç°çš„å…‰ç…§æ¸²æŸ“Demo ï¼ˆä¾èµ–åŒ…ï¼šnumpyã€opencvï¼‰ 1ã€ç¼–å†™å˜æ¢çš„çŸ©é˜µåŒ…æ‹¬ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾ã€æŠ•å½± import numpy as np from math import","title":"å…‰ç…§æ¸²æŸ“"},{"content":"1ã€æ³•å‘é‡ï¼šå‚ç›´äºå¹³é¢çš„å‘é‡ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ–¹å‘ åœ¨çœŸæ­£çš„æ¨¡å‹é¡¶ç‚¹æ•°æ®å°±ä¼šå­˜å‚¨æ³•å‘é‡ï¼Œåœ¨å­˜å‚¨è¿‡åï¼Œå®ƒæŠ›å¼ƒäº†åœ¨æ•°å­¦æ¦‚å¿µä¸Šçš„ä¸¤ä¸ªæ–¹å‘çš„æ³•å‘é‡ åªä¿ç•™äº†æ­£æ–¹å‘çš„æ³•å‘é‡ 2ã€è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„ç¤ºæ„å›¾ï¼Œè“è‰²æ˜¯ä»é¡¶ç‚¹å¼•å‡ºå‚ç›´äºå¹³é¢çš„æ³•å‘é‡ï¼Œ é»„è‰²çš„æ˜¯ä»å¤–éƒ¨å°„å‘è¡¨é¢çš„å…‰å‘é‡ ğŸ’¡ å…‰çš„æ–¹å‘æ˜¯ç›¸åçš„ï¼Œä¸€å®šæ˜¯ä»æ¨¡å‹æŒ‡å‘å…‰ å…‰å‘é‡ä¹Ÿä¼šè¢«å½¢è±¡ç†è§£ä¸ºï¼Œå…‰åœ¨è·ç¦»é¡¶ç‚¹å¾ˆè¿œçš„ä½ç½®ï¼Œè¿™ä¸ªå‘é‡çš„é•¿åº¦å¾ˆé•¿\né‚£ä¹ˆå®ƒå’Œæˆ‘ä»¬çš„è®¡ç®—æœ‰æ²¡æœ‰å…³ç³»å‘¢ 3ã€å¯¹äºä¸¤ä¸ªå‘é‡æ±‚ç‚¹å‡»ï¼Œå®ƒä»¬æœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„å‡ ä½•æ„ä¹‰ï¼Œå°±æ˜¯èƒ½å¤Ÿå¾—åˆ°è¿™ä¸¤ä¸ªå‘é‡ä¹‹é—´å¤¹è§’çš„å¤§å° ä¹Ÿå°±æ˜¯æ±‚çš„ä½™å¼¦å€¼cos å¯¹äºv1å’Œv2æ±‚ç‚¹ç§¯ï¼Œå…¶å®å°±ç­‰äºv1å’Œv2çš„æ¨¡é•¿ç›¸ä¹˜å†ä¹˜ä¸Šå®ƒä»¬ä¹‹é—´å¤¹è§’çš„ä½™å¼¦å€¼ åè¿‡æ¥è¯´æ±‚å¤¹è§’çš„ä½™å¼¦å€¼å…¶å®ï¼Œå°±æ˜¯ç”¨ç‚¹ç§¯çš„ç»“æœé™¤ä»¥v1v2æ¨¡é•¿çš„ä¹˜ç§¯ ç»“åˆä¸Šå›¾ï¼Œå¦‚æœå…‰å‘é‡çš„é•¿åº¦å¾ˆé•¿ï¼Œé‚£å°±å¿…é¡»æ±‚çš„å®ƒçš„æ¨¡é•¿ï¼Œè¿˜è¦æ±‚çš„æ³•å‘é‡çš„æ¨¡é•¿ï¼Œåªæœ‰ä¸¤ä¸ªå‘é‡æ¨¡é•¿å¾—åˆ°ä¹‹åï¼Œæ‰èƒ½æ±‚å¾—å‡†ç¡®çš„ä½™å¼¦å€¼ åä¸‰è§’å‡½æ•°æ±‚å…·ä½“çš„è§’åº¦åœ¨è¿™é‡Œä¸éœ€è¦åº”ç”¨ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹å¯èƒ½ä¼šéœ€è¦æ±‚è§£å…·ä½“çš„è§’åº¦ ä¸€èˆ¬æƒ…å†µä¸‹è§’åº¦å¦‚æœå¤§äº90åº¦ï¼Œcoså€¼æ˜¯å°äº0çš„ï¼Œ åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ­£å¥½å°±å¯ä»¥è€ƒè™‘å¦‚æœä¸¤ä¸ªå‘é‡ä¹‹é—´çš„å¤¹è§’æ˜¯å°äº90åº¦çš„ï¼Œå®ƒä»¬ç‚¹ç§¯çš„ç»“æœå°±åº”è¯¥æ˜¯0ï½1ä¹‹é—´çš„èŒƒå›´ å¦‚æœèƒ½å¤Ÿè®©v1å’Œv2èƒ½å¤ŸæŠŠå®ƒä»¬åšåˆ°æ˜¯ä¸€ä¸ªå•ä½å‘é‡ï¼Œé‚£ä¹ˆå®ƒä»¬æ¨¡é•¿ç›¸ä¹˜ç»“æœå°±ä¸º1 ä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªè¿™æ ·çš„ä¸¤ä¸ªå‘é‡å®ƒä»¬ä¹‹é—´çš„å¤¹è§’å°±æ˜¯ä¸¤ä¸ªå‘é‡ä¹‹é—´çš„ç‚¹ç§¯\nğŸ’¡ å¯¹äºå…‰çš„è®¡ç®—éœ€è¦ä¸¤ä¸ªå‘é‡ 1.å…³äºæ³•å‘é‡ 2.å…³äºé¡¶ç‚¹æŒ‡å‘å…‰æºçš„å…‰å‘é‡ 3.å†æŠŠè¿™ä¸¤ä¸ªå‘é‡åšåˆ°å½’ä¸€åŒ–çš„æ—¶å€™ï¼Œå¤¹è§’çš„ä½™å¼¦å€¼å°±æ˜¯ä¸¤ä¸ªå‘é‡ç‚¹ç§¯çš„ç»“æœ ğŸ’¡ åˆ©ç”¨è¿™ä¸ªç‚¹ç§¯å€¼0ï½1ä¹‹é—´ï¼Œå°±å¯ä»¥æ‹¿æ¥è¿›è¡Œç€è‰² å¤¹è§’è¶Šå°å…‰ç…§äº®åº¦è¶Šäº®\næ³•å‘é‡çš„è®¡ç®— ä½¿ç”¨Uå’ŒVä¸¤ä¸ªå‘é‡ï¼Œå®ƒä»¬ä¸ä¸€å®šè¦å‚ç›´ï¼Œå®ƒä»¬æè¿°çš„æ˜¯Uå’ŒVæ‰€åœ¨çš„ä¸€ä¸ªå¹³é¢ ç”¨Uå’ŒVè¿›è¡Œä¸€ä¸ªå·¦æ‰‹æ–¹å‘çš„å·®ç§¯ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå‚ç›´äºå¹³é¢æ–¹å‘çš„æ³•å‘é‡N\n5ã€æ ¹æ®å·¦æ‰‹åæ ‡ç³»ï¼Œä¸‹æ–¹çš„å‘é‡è®¡ç®—ï¼Œå¦‚æœæ˜¯V1*V2å‚ç›´çš„æ³•å‘é‡æ˜¯æœç€å±å¹•é‡Œé¢çš„ï¼Œ ä¸ºäº†å¾—åˆ°å‚ç›´äºV1V2æ‰€åœ¨å¹³é¢çš„æ­£ç¡®çš„æ³•å‘é‡ï¼Œåº”è¯¥v2ä¹˜ä»¥v1ï¼Œè¿™æ ·æ³•å‘é‡çš„æœå‘æ˜¯æœå‘å±å¹•å¤–è¾¹çš„ï¼Œä¹Ÿå°±æ˜¯æœå‘è§‚å¯Ÿè€…çš„æ–¹å‘ï¼Œè¿™æ ·æ‰å¯ä»¥é€šè¿‡å¤¹è§’è®¡ç®—å…‰ç…§ï¼Œå¹¶å¾—åˆ°æ­£ç¡®çš„å…‰ç…§æ•ˆæœ\n6ã€æ‰€ä»¥å¯¹äºä¸‹æ–¹çš„ä¸‰è§’å½¢ï¼Œåœ¨è®¡ç®—æ³•å‘é‡æ˜¯ï¼Œå’Œé¡¶ç‚¹çš„é¡ºåºæ˜¯å¯†ä¸å¯åˆ†çš„ï¼Œä¾‹å¦‚è¦è®¡ç®—æ­£ç¡®çš„æ³•å‘é‡ï¼Œé‚£ä¹ˆå°±è¦è®¡ç®—V1å’ŒV2çš„å‘é‡ï¼Œä¸€ä¸ªæ˜¯B-Aå¦ä¸€ä¸ªæ˜¯C-Aï¼Œ å¦‚æœABCå¯¹äºçš„é¡ºåºåˆ†åˆ«æ˜¯0ã€1ã€2 V1å’ŒV2å‘é‡ä¹Ÿå°±æ˜¯\n[1]-[0]å’Œ[2]-[0] é‚£ä¹ˆè¿™æ ·å­çš„è¯å°±å¿…é¡»è¦ä¿è¯é¡¶ç‚¹éå†çš„é¡ºåºï¼Œå¦‚æœæ˜¯å…¶ä»–çš„é¡ºåºï¼Œå°±ä¼šå¾—åˆ°é”™è¯¯çš„æ³•çº¿æ–¹å‘ ","permalink":"https://EitanWong.github.io/en/posts/shader/%E6%B3%95%E5%90%91%E9%87%8F%E5%92%8C%E5%85%89%E7%85%A7%E8%AE%A1%E7%AE%97/","summary":"1ã€æ³•å‘é‡ï¼šå‚ç›´äºå¹³é¢çš„å‘é‡ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ–¹å‘ åœ¨çœŸæ­£çš„æ¨¡å‹é¡¶ç‚¹æ•°æ®å°±ä¼šå­˜å‚¨æ³•å‘é‡ï¼Œåœ¨å­˜å‚¨è¿‡åï¼Œå®ƒæŠ›å¼ƒäº†åœ¨æ•°å­¦æ¦‚å¿µä¸Šçš„ä¸¤ä¸ªæ–¹å‘çš„æ³•å‘é‡ åªä¿ç•™äº†æ­£æ–¹å‘çš„æ³•å‘é‡ 2ã€è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆç®€å•çš„ç¤ºæ„å›¾ï¼Œè“è‰²æ˜¯ä»é¡¶ç‚¹å¼•å‡ºå‚ç›´äºå¹³é¢çš„æ³•å‘é‡ï¼Œ é»„è‰²çš„æ˜¯ä»å¤–éƒ¨å°„å‘è¡¨é¢çš„å…‰å‘é‡ ğŸ’¡ å…‰çš„æ–¹å‘æ˜¯ç›¸åçš„ï¼Œä¸€å®šæ˜¯ä»æ¨¡å‹æŒ‡","title":"æ³•å‘é‡å’Œå…‰ç…§è®¡ç®—"},{"content":"ç®€æ˜“çš„æ³¢çº¹æ•ˆæœ ğŸ’¡ åˆ©ç”¨Sinå‘¨æœŸå‡½æ•°ï¼Œè®©é¡¶ç‚¹çš„Yè½´è¿›è¡Œæ³¢åŠ¨\nShader \u0026#34;ShaderLearning/VertexShader/wave\u0026#34; { Properties{ _Amplitude(\u0026#34;Amplitude\u0026#34;,float)=1 _Frequency(\u0026#34;Frequency\u0026#34;,Range(0,5))=1 _Speed(\u0026#34;_Speed\u0026#34;,float)=1 } SubShader { Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; float _Amplitude; float _Frequency; float _Speed; struct v2f { float4 vertex : POSITION; float4 color : COLOR; }; v2f vert (appdata_base v) { float up =sin(v.vertex.x)+_Time.y; // float4x4 m={ // 1,0,0,0, // 0,sin(up)/8+0.5,0,0, // 0,0,1,0, // 0,0,0,1 // };//ç”±äºPlaneæ¨¡å‹é¡¶ç‚¹çš„yå€¼éƒ½ä¸º0å’ŒçŸ©é˜µç›¸ä¹˜çš„ç»“æœä¹Ÿéƒ½ä¸º0ï¼Œæ‰€ä»¥å®šä½æ²¡æœ‰è¿›è¡Œç§»åŠ¨ // v.vertex=mul(m,v.vertex); //A*sin(w*x+t) v.vertex.y+=_Amplitude*sin(v.vertex.z*_Frequency+_Time.y*_Speed); v2f o; o.vertex = UnityObjectToClipPos(v.vertex); o.color=fixed4(v.vertex.y,v.vertex.y,v.vertex.y,1); return o; } fixed4 frag (v2f i) : COLOR { return i.color; } ENDCG } } } å®ç°åœ†å¿ƒæ³¢æ•ˆæœ ğŸ’¡ åªéœ€è¦è®¡ç®—é¡¶ç‚¹åˆ°åœ†å¿ƒçš„æ¨¡é•¿ï¼Œä¼ å…¥sinå‘¨æœŸå‡½æ•°\nv.vertex.y+=_Amplitude*sin(-length(v.vertex.xz)*_Frequency+_Time.y*_Speed); åˆ©ç”¨é¡¶ç‚¹xæ–¹å‘äºzæ–¹å‘ä¹‹å’Œä½œä¸ºå‘¨æœŸä¼ å…¥sin v.vertex.y+=_Amplitude*sin((v.vertex.x+v.vertex.z)*_Frequency+_Time.y*_Speed); ç®€æ˜“æ°´é¢æ³¢æµªæ•ˆæœ ğŸ’¡ æ ¹æ®è‹±ä¼Ÿè¾¾åœ¨æ—©æœŸçš„GPUç¼–ç¨‹ç²¾ç²¹è¿™æ ·çš„æ•°æ®å½“ä¸­æœ‰æåˆ°ï¼Œä»¿çœŸä¸€ä¸ªæ°´æ³¢ï¼Œè¦ç”¨åˆ°4ä¸ªæ­£å¼¦æ³¢ï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¯èƒ½è¿ç®—é‡ä¼šå¾ˆå¤§ ä¸‹é¢çš„ç¤ºä¾‹demoï¼Œç®€åŒ–å°è¯•å°†ä¸¤ä¸ªæ­£å¼¦æ³¢å åŠ \nShader \u0026#34;ShaderLearning/VertexShader/wave\u0026#34; { Properties{ _Amplitude(\u0026#34;Amplitude\u0026#34;,float)=1 _Frequency(\u0026#34;Frequency\u0026#34;,Range(0,5))=1 _Speed(\u0026#34;_Speed\u0026#34;,float)=1 } SubShader { Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; float _Amplitude; float _Frequency; float _Speed; struct v2f { float4 vertex : POSITION; float4 color : COLOR; }; v2f vert (appdata_base v) { float up =sin(v.vertex.x)+_Time.y; // float4x4 m={ // 1,0,0,0, // 0,sin(up)/8+0.5,0,0, // 0,0,1,0, // 0,0,0,1 // };//ç”±äºPlaneæ¨¡å‹é¡¶ç‚¹çš„yå€¼éƒ½ä¸º0å’ŒçŸ©é˜µç›¸ä¹˜çš„ç»“æœä¹Ÿéƒ½ä¸º0ï¼Œæ‰€ä»¥å®šä½æ²¡æœ‰è¿›è¡Œç§»åŠ¨ // v.vertex=mul(m,v.vertex); //A*sin(w*x+t) v.vertex.y+=_Amplitude*sin((v.vertex.x+v.vertex.z)*_Frequency+_Time.y*_Speed); v.vertex.y+=_Amplitude*sin((v.vertex.x-v.vertex.z)*_Frequency+_Time.w*_Speed); v2f o; o.vertex = UnityObjectToClipPos(v.vertex); o.color=lerp(fixed4(0,0.5,1,1),fixed4(1,1,1,1),v.vertex.y); return o; } fixed4 frag (v2f i) : COLOR { return i.color; } ENDCG } } } ","permalink":"https://EitanWong.github.io/en/posts/shader/%E9%A1%B6%E7%82%B9%E5%8F%98%E6%8D%A2-%E6%B3%A2%E7%BA%B9%E6%95%88%E6%9E%9C/","summary":"ç®€æ˜“çš„æ³¢çº¹æ•ˆæœ ğŸ’¡ åˆ©ç”¨Sinå‘¨æœŸå‡½æ•°ï¼Œè®©é¡¶ç‚¹çš„Yè½´è¿›è¡Œæ³¢åŠ¨ Shader \u0026#34;ShaderLearning/VertexShader/wave\u0026#34; { Properties{ _Amplitude(\u0026#34;Amplitude\u0026#34;,float)=1 _Frequency(\u0026#34;Frequency\u0026#34;,Range(0,5))=1 _Speed(\u0026#34;_Speed\u0026#34;,float)=1 } SubShader { Pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; float _Amplitude; float _Frequency; float _Speed; struct v2f { float4 vertex : POSITION; float4 color : COLOR; }; v2f vert (appdata_base v) { float up =sin(v.vertex.x)+_Time.y; // float4x4 m={ // 1,0,0,0, // 0,sin(up)/8+0.5,0,0, // 0,0,1,0, // 0,0,0,1 // };//ç”±äºPlaneæ¨¡å‹é¡¶ç‚¹çš„yå€¼éƒ½ä¸º0å’ŒçŸ©é˜µç›¸ä¹˜çš„ç»“æœä¹Ÿéƒ½ä¸º0ï¼Œæ‰€ä»¥å®šä½æ²¡æœ‰è¿›è¡Œç§»åŠ¨ // v.vertex=mul(m,v.vertex); //A*sin(w*x+t) v.vertex.y+=_Amplitude*sin(v.vertex.z*_Frequency+_Time.y*_Speed); v2f o; o.vertex = UnityObjectToClipPos(v.vertex);","title":"é¡¶ç‚¹å˜æ¢-æ³¢çº¹æ•ˆæœ"},{"content":"é¡¶ç‚¹æ‰­æ›²Shaderæ¡ˆä¾‹ ğŸ’¡ å¯ä»¥åœ¨Shaderå½“ä¸­æ„å»ºæ—‹è½¬çŸ©é˜µï¼Œæ¥å®ç°é¡¶ç‚¹çš„æ—‹è½¬ï¼Œä»è€Œè¾¾åˆ°æ¨¡å‹çš„æ‰­æ›²æ•ˆæœ\nShader \u0026#34;ShaderLeaning/VertexDistortion/vf1\u0026#34; { Properties{ } SubShader{ Pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; struct v2f { float4 pos: POSITION; fixed4 col: COLOR; }; v2f vert(appdata_base v) { v2f o; float angle=length(v.vertex)*_SinTime.w;//è®¡ç®—é¡¶ç‚¹åˆ°ä¸­å¿ƒç‚¹çš„æ¨¡é•¿ï¼Œä¸SinTimeç›¸ä¹˜ï¼Œå®ç°è§’åº¦çš„å‘¨æœŸæ€§å˜åŒ– float4x4 m={ cos(angle),0,sin(angle),0, 0,1,0,0, -sin(angle),0,cos(angle),0, 0,0,0,1 };//æ„å»ºç»•Yè½´æ—‹è½¬çš„çŸ©é˜µ float4 p=mul(m,v.vertex);//å°†æ—‹è½¬çŸ©é˜µä¸é¡¶ç‚¹ç›¸ä¹˜ o.pos=UnityObjectToClipPos(p); o.col=fixed4(0,1,1,1); return o; } fixed4 frag(v2f v):COLOR { return v.col; } ENDCG } } } ğŸ’¡ ä½†æ˜¯æ¯æ¬¡é¡¶ç‚¹ç¨‹åºè®¡ç®—å½“ä¸­ï¼Œéƒ½è¿›è¡Œäº†çŸ©é˜µä¹˜æ³•è¿ç®—ï¼ŒæŒæ¡äº†çŸ©é˜µè¿ç®—è§„åˆ™ å¯ä»¥å‘ç°ï¼Œé¡¶ç‚¹åªæ˜¯åœ¨xï¼Œä¸zæ–¹å‘ä¸Šç§»åŠ¨ï¼Œæ‰€ä»¥yå€¼æ²¡æœ‰å¿…è¦å‚ä¸çŸ©é˜µä¹˜æ³• æ‰€ä»¥å¯ä»¥æ ¹æ®è¿™ä¸ªè§„å¾‹ç¼–å†™ä¼˜åŒ–çš„ä»£ç ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡\n//ä¼˜åŒ–é¡¶ç‚¹æ‰­æ›²å˜æ¢çš„ä»£ç  float x= x=v.vertex.x*cos(angle)+v.vertex.z*sin(angle); float z=v.vertex.x*(-sin(angle))+v.vertex.z*cos(angle); v.vertex.x=x; v.vertex.z=z; o.pos=UnityObjectToClipPos(v.vertex); xyzåŒæ—¶æ—‹è½¬æ‰­æ›²\nShader \u0026#34;ShaderLeaning/VertexDistortion/vf1\u0026#34; { Properties{ } SubShader{ Pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; struct v2f { float4 pos: POSITION; fixed4 col: COLOR; }; v2f vert(appdata_base v) { v2f o; float angle=length(v.vertex)*_SinTime.w*1.5; float4x4 mx={ 1,0,0,0, 0,cos(angle),-sin(angle),0, 0,sin(angle),cos(angle),0, 0,0,0,1 }; float4x4 my={ cos(angle),0,sin(angle),0, 0,1,0,0, -sin(angle),0,cos(angle),0, 0,0,0,1 }; float4x4 mz={ cos(angle),-sin(angle),0,0, sin(angle),cos(angle),0,0, 0,0,1,0, 0,0,0,1 }; v.vertex= mul(mz,mul(my,mul(mx,v.vertex))); o.pos=UnityObjectToClipPos(v.vertex); o.col=fixed4(0,1,1,1); return o; } fixed4 frag(v2f v):COLOR { return v.col; } ENDCG } } å®ç°æ ¹æ®æ ¹æ®éŸ³é‡å¤§å°å®ç°æ³¢åŠ¨æ•ˆæœ Shader \u0026#34;ShaderLeaning/VertexDistortion/vf2\u0026#34; { Properties{ } SubShader{ Pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; uniform float _Height=1; struct v2f { float4 pos: POSITION; fixed4 col: COLOR; }; v2f vert(appdata_base v) { v2f o; float angle=length(v.vertex)*_Time.y; v.vertex.x=v.vertex.x* (sin(angle)/16+1); v.vertex.z=v.vertex.z* (cos(angle)/16+1); v.vertex.y=v.vertex.y+(sin(angle)*cos(angle))*_Height; o.pos=UnityObjectToClipPos(v.vertex); o.col=fixed4(0,1,1,1); return o; } fixed4 frag(v2f v):COLOR { return v.col; } ENDCG } } } using System.Collections; using System.Collections.Generic; using UnityEngine; public class VoiceControl : MonoBehaviour { [SerializeField] float multiplyer=10; AudioClip clip; string device=null; Material mat; // Start is called before the first frame update void Start() { device= Microphone.devices[0]; clip=Microphone.Start(device,true,999,44100); mat=GetComponent().sharedMaterial; } private void Update() { var volume= GetVolume(); mat.SetFloat(\u0026#34;_Height\u0026#34;,volume*multiplyer); //Debug.Log(volume); } public float GetVolume() { if(Microphone.IsRecording(device)) { int sampleSize=128; float[] samples=new float[sampleSize]; int startPosition= Microphone.GetPosition(device)-(sampleSize+1); clip.GetData(samples,startPosition); float levelMax=0; for (int i = 0; i \u0026lt; sampleSize; i++) { float wavePeak=samples[i]; if(levelMax\u0026lt;wavePeak) { levelMax=wavePeak; } } return levelMax; } return 0; } } ","permalink":"https://EitanWong.github.io/en/posts/shader/%E9%A1%B6%E7%82%B9%E6%89%AD%E6%9B%B2/","summary":"é¡¶ç‚¹æ‰­æ›²Shaderæ¡ˆä¾‹ ğŸ’¡ å¯ä»¥åœ¨Shaderå½“ä¸­æ„å»ºæ—‹è½¬çŸ©é˜µï¼Œæ¥å®ç°é¡¶ç‚¹çš„æ—‹è½¬ï¼Œä»è€Œè¾¾åˆ°æ¨¡å‹çš„æ‰­æ›²æ•ˆæœ Shader \u0026#34;ShaderLeaning/VertexDistortion/vf1\u0026#34; { Properties{ } SubShader{ Pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; struct v2f { float4 pos: POSITION; fixed4 col: COLOR; }; v2f vert(appdata_base v) { v2f o; float angle=length(v.vertex)*_SinTime.w;//è®¡ç®—é¡¶ç‚¹åˆ°ä¸­å¿ƒç‚¹çš„æ¨¡é•¿ï¼Œä¸SinTime","title":"é¡¶ç‚¹æ‰­æ›²"},{"content":"é¡¶ç‚¹ä½ç§»Shaderæ¡ˆä¾‹ ğŸ’¡ length(xy): æ±‚å‘é‡æ¨¡é•¿åº¦ ç­‰åŒäºsqrt(x_x+y_y); 1ã€æŠ¬å‡åœ°é¢\nShader \u0026#34;Custom/s_ten\u0026#34; { Properties{ _R(\u0026#34;R\u0026#34;,range(0,5))=1 } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; float _R; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { //xã€yåæ ‡ float2 xy = v.vertex.xz; //æ±‚åˆ°åœ†å¿ƒçš„è·ç¦»ï¼Œå³åŠå¾„ //float d = sqrt((xy.x - 0)*(xy.x - 0) + (xy.y-0)*(xy.y - 0)); //ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è®¡ç®—æ‘¸é•¿çš„æ–¹å¼ float d = _R - length(xy); //då°äº0åˆ™ä¸æŠ¬å‡ï¼Œå¦åˆ™æŠ¬å‡ d = d \u0026lt; 0 ? 0 : d; float height=1; float4 uppos = float4(v.vertex.x,height*d,v.vertex.z,v.vertex.w); v2f o; o.pos = mul(UNITY_MATRIX_MVP, uppos); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; if (x \u0026gt;dis \u0026amp;\u0026amp; x\u0026lt;dis+r)//åœ¨å±å¹•æœ€å·¦è¾¹ o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(x/2+0.5,x/2+0.5,x/2+0.5,1);//ç°åº¦ return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } é€šè¿‡æ›´æ”¹Rçš„å€¼æ›´æ”¹åœ°è¡¨å‡¸èµ·çš„é«˜åº¦ 2ã€å®ç°é›ªå±±æ•ˆæœ\nShader \u0026#34;Custom/s_ten\u0026#34; { Properties{ _R(\u0026#34;R\u0026#34;,range(0,5))=1 } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; float _R; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { //xã€yåæ ‡ float2 xy = v.vertex.xz; //æ±‚åˆ°åœ†å¿ƒçš„è·ç¦»ï¼Œå³åŠå¾„ //float d = sqrt((xy.x - 0)*(xy.x - 0) + (xy.y-0)*(xy.y - 0)); //ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è®¡ç®—æ‘¸é•¿çš„æ–¹å¼ float d = _R - length(xy); //då°äº0åˆ™ä¸æŠ¬å‡ï¼Œå¦åˆ™æŠ¬å‡ d = d \u0026lt; 0 ? 0 : d; float height=1; float4 uppos = float4(v.vertex.x,height*d,v.vertex.z,v.vertex.w); v2f o; o.pos = mul(UNITY_MATRIX_MVP, uppos); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; o.color = fixed4(uppos.y,uppos.y,uppos.y,1); return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } 3ã€å°†åæ ‡æ”¹ä¸ºä¸–ç•Œçš„ï¼Œé‚£ä¹ˆåªæœ‰åœ¨ä¸€ä¸ªæ¨¡å‹ä¸Šä¼šæœ‰æŠ¬å‡ï¼Œå…¶å®ƒçš„æ¨¡å‹éƒ½æ²¡æœ‰\nShader \u0026#34;Custom/s_ten\u0026#34; { Properties{ _R(\u0026#34;R\u0026#34;,range(0,5))=1 } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; float _R; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { float4 wpos = mul(_Object2World,v.vertex); float2 xy = wpos.xz; float d = _R - length(xy); //då°äº0åˆ™ä¸æŠ¬å‡ï¼Œå¦åˆ™æŠ¬å‡ d = d \u0026lt; 0 ? 0 : d; float height=1; float4 uppos = float4(v.vertex.x,height*d,v.vertex.z,v.vertex.w); v2f o; o.pos = mul(UNITY_MATRIX_MVP, uppos); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; o.color = fixed4(uppos.y,uppos.y,uppos.y,1); return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } 4ã€æ”¹å˜é¡¶ç‚¹çš„ä½ç½®ä¿¡æ¯\nShader \u0026#34;Custom/s_ten\u0026#34; { Properties{ _R(\u0026#34;R\u0026#34;,range(0,5))=1 _OX(\u0026#34;OX\u0026#34;,range(-5,5))=0 } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; float _R; float _OX; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { float4 wpos = mul(_Object2World,v.vertex); float2 xy = wpos.xz; float d = _R - length(xy - float2(_OX,0)); //då°äº0åˆ™ä¸æŠ¬å‡ï¼Œå¦åˆ™æŠ¬å‡ d = d \u0026lt; 0 ? 0 : d; float height=1; float4 uppos = float4(v.vertex.x,height*d,v.vertex.z,v.vertex.w); v2f o; o.pos = mul(UNITY_MATRIX_MVP, uppos); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; o.color = fixed4(uppos.y,uppos.y,uppos.y,1); return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } ","permalink":"https://EitanWong.github.io/en/posts/shader/%E9%A1%B6%E7%82%B9%E4%BD%8D%E7%A7%BB/","summary":"é¡¶ç‚¹ä½ç§»Shaderæ¡ˆä¾‹ ğŸ’¡ length(xy): æ±‚å‘é‡æ¨¡é•¿åº¦ ç­‰åŒäºsqrt(x_x+y_y); 1ã€æŠ¬å‡åœ°é¢ Shader \u0026#34;Custom/s_ten\u0026#34; { Properties{ _R(\u0026#34;R\u0026#34;,range(0,5))=1 } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; float _R; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { //xã€yåæ ‡ float2 xy = v.vertex.xz; //æ±‚åˆ°åœ†å¿ƒçš„è·ç¦»ï¼Œå³åŠå¾„ //float d = sqrt((xy.x - 0)*(xy.x - 0) + (xy.y-0)*(xy.y - 0)); //ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è®¡ç®—æ‘¸é•¿çš„æ–¹å¼ float d = _R - length(xy);","title":"é¡¶ç‚¹ä½ç§»"},{"content":"1ã€é¡¶ç‚¹é¢œè‰²å˜æ¢\n// Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Custom/s_nine\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; float4x4 m = mul(sm, UNITY_MATRIX_MVP); o.pos = mul(m,v.vertex); if (float(v.vertex.x) \u0026gt; 0) o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(0,0,1,1);//æ˜¾ç¤ºä¸ºè“è‰² return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } è¿è¡Œç»“æœï¼šä¸­é—´é¢œè‰²è‡ªåŠ¨æ¸å˜ 2ã€æ”¹å˜æŸä¸ªé¡¶ç‚¹çš„é¢œè‰²å€¼\n// Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Custom/s_nine\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; float4x4 m = mul(sm, UNITY_MATRIX_MVP); o.pos = mul(m,v.vertex); if (float(v.vertex.x) == 0.5\u0026amp;\u0026amp;v.vertex.y==0.5\u0026amp;\u0026amp;v.vertex.z==0.5) o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(0,0,1,1);//æ˜¾ç¤ºä¸ºè“è‰² return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } 3ã€ åœ¨ä¸åŒçš„ä½ç½®ï¼Œé¢œè‰²ä¸ä¸€æ · 4ã€åŠ ä¸Šæ—¶é—´å› å­åï¼Œé¢œè‰²çš„å˜åŒ–\n// Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Custom/s_nine\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; float4x4 m = mul(sm, UNITY_MATRIX_MVP); o.pos = mul(m,v.vertex); if (float(v.vertex.x) == 0.5\u0026amp;\u0026amp;v.vertex.y == 0.5\u0026amp;\u0026amp;v.vertex.z == 0.5) o.color = fixed4(_SinTime.w/2+0.5,_CosTime.w/2+0.5,_SinTime.y/2 + 0.5,1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(0, 0, 1, 1);//æ˜¾ç¤ºä¸ºè“è‰² return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } 1ã€åœ¨æœ€å·¦è¾¹æ˜¯ä¸€ä¸ªé¢œè‰²å€¼ï¼Œåœ¨æœ€å³è¾¹åˆæ˜¯å¦ä¸€ä¸ªé¢œè‰²å€¼\nShader \u0026#34;Custom/s_ten\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; o.pos = mul(UNITY_MATRIX_MVP,v.vertex); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; if (x \u0026lt; -1)//åœ¨å±å¹•æœ€å·¦è¾¹ o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else if (x \u0026gt;= 1)//åœ¨å±å¹•æœ€å³è¾¹ o.color = fixed4(0, 0, 1, 1);//æ˜¾ç¤ºä¸ºè“è‰² else o.color = fixed4(x/2+0.5,x/2+0.5,x/2+0.5,1); return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } åœ¨å±å¹•æœ€å·¦ç«¯æ—¶æ˜¾ç¤ºä¸ºä¸€ä¸ªé¢œè‰² å¤šæ‹·è´å‡ ä¸ªcubeï¼Œå¯ä»¥çœ‹åˆ°ç°åº¦å˜åŒ– 2ã€ä½¿ç”¨planeï¼Œæ˜¾ç¤ºé¢œè‰²å˜æ¢å…‰å¸¦ 3ã€ç°åº¦åœ¨æŸä¸ªåŒºé—´ä¹‹å†…æ˜¾ç¤ºä¸€æ¡å…‰å¸¦ï¼Œåœ¨åŒºé—´ä¹‹å¤–æ˜¾ç¤ºç°åº¦\nShader \u0026#34;Custom/s_ten\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; o.pos = mul(UNITY_MATRIX_MVP,v.vertex); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; if (x \u0026gt;0 \u0026amp;\u0026amp; x\u0026lt;0.1)//åœ¨å±å¹•æœ€å·¦è¾¹ o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(x/2+0.5,x/2+0.5,x/2+0.5,1);//ç°åº¦ return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } 4ã€éšæ—¶é—´æ¨ç§»è€Œå˜æ¢çš„å…‰å¸¦\nusing System.Collections; using System.Collections.Generic; using UnityEngine; public class SetFloat : MonoBehaviour { private float dis =-1; private float r = 0.1f; // Use this for initialization void Start () { } // Update is called once per frame void Update () { dis += Time.deltaTime*0.1f; GetComponent().material.SetFloat(\u0026#34;dis\u0026#34;, dis); GetComponent().material.SetFloat(\u0026#34;r\u0026#34;, r); } } Shader \u0026#34;Custom/s_ten\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float dis; float r; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; o.pos = mul(UNITY_MATRIX_MVP,v.vertex); //xçš„åæ ‡å€¼ float x = o.pos.x / o.pos.w; if (x \u0026gt;dis \u0026amp;\u0026amp; x\u0026lt;dis+r)//åœ¨å±å¹•æœ€å·¦è¾¹ o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(x/2+0.5,x/2+0.5,x/2+0.5,1);//ç°åº¦ return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } ","permalink":"https://EitanWong.github.io/en/posts/shader/%E9%A1%B6%E7%82%B9%E9%A2%9C%E8%89%B2%E5%8F%98%E6%8D%A2/","summary":"1ã€é¡¶ç‚¹é¢œè‰²å˜æ¢ // Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Custom/s_nine\u0026#34; { SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;unitycg.cginc\u0026#34; float4x4 mvp; float4x4 rm; float4x4 sm; struct v2f { float4 pos:POSITION; fixed4 color : COLOR; }; v2f vert(appdata_base v) { v2f o; float4x4 m = mul(sm, UNITY_MATRIX_MVP); o.pos = mul(m,v.vertex); if (float(v.vertex.x) \u0026gt; 0) o.color = fixed4(1, 0, 0, 1);//æ˜¾ç¤ºä¸ºçº¢è‰² else o.color = fixed4(0,0,1,1);//æ˜¾ç¤ºä¸ºè“è‰² return o; } fixed4 frag(v2f IN) :COLOR{ return IN.color; } ENDCG } } } è¿è¡Œç»“æœï¼šä¸­é—´é¢œè‰²è‡ªåŠ¨æ¸å˜ 2ã€æ”¹å˜æŸä¸ªé¡¶ç‚¹","title":"é¡¶ç‚¹é¢œè‰²å˜æ¢"},{"content":"1.å£°æ˜Propertiesï¼Œå¹¶ä½¿ç”¨å…¶å€¼ Shader \u0026#34;Custom/vertex_shader\u0026#34; { //å¿…é¡»ä½äºSubShaderä¹‹ä¸Š Properties{ _MainColor(\u0026#34;Main Color\u0026#34;,color) = (1,1,1,1) } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag //å¿…é¡»å°†ä¸Šé¢çš„Propertiesåç§°å…ˆè¿›è¡Œå£°æ˜ï¼Œä¸”åå­—å¿…é¡»ä¸ä¸Šé¢çš„ä¸€è‡´ float4 _MainColor; struct v2f { float4 pos:POSITION; float2 objPos:TEXCOORDO; float4 col:COLOR; }; struct appdata_base { float2 pos:POSITION; float4 color:COLOR; }; //ä½¿ç”¨ç»“æ„ä½“çš„æ–¹å¼è¿”å›ï¼Œæ­¤æ—¶ä¸éœ€è¦å†æŒ‡å®šä¸€ä¸ªå…·ä½“çš„è¯­ä¹‰ //å‚æ•°ä¹Ÿä½¿ç”¨ç»“æ„ä½“ v2f vert(appdata_base v) { v2f o; o.pos = float4(v.pos, 0, 1); o.objPos = float2(1,0); //ä½¿ç”¨ç»“æ„ä½“é»˜è®¤çš„é¢œè‰² o.col = v.color; return o; } //ä½¿ç”¨ç»“æ„ä½“è¿›è¡Œè¾“å…¥ float4 frag(v2f IN) :COLOR{ //return IN.col; return _MainColor; } ENDCG } } } Uniform ğŸ’¡ Uniformå…³é”®è¯ï¼Œå®šä¹‰å˜é‡ä»è‡ªå®šä¹‰çš„åº”ç”¨ç¨‹åºå½“ä¸­è·å–å€¼ å£°æ˜æ–¹å¼ï¼š\nuniform float4 _SecondColor; å®Œæ•´ä»£ç ï¼š\nShader \u0026#34;Learning/VertexShader/vf2\u0026#34; { Properties { _MainColor(\u0026#34;MainColor\u0026#34;,Color)=(1,1,1,1) } SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag //å¼•å…¥sbin.cginc #include \u0026#34;sbin.cginc\u0026#34; float4 _MainColor; uniform float4 _SecondColor; typedef struct { float4 pos:POSITION; float2 objPos:TEXCOORD0; fixed4 col:COLOR; }v2f; v2f vert(appdata_base v) { v2f o; o.pos=float4(v.pos,0,1); o.objPos=float2(1,0); o.col=v.col; return o; } fixed4 frag(v2f IN):COLOR { return _MainColor*_SecondColor; } ENDCG } } } ğŸ’¡ åœ¨ä¸Šæ–¹çš„Shaderå½“ä¸­ï¼Œç‰‡å…ƒç€è‰²å™¨æœ€ç»ˆè¾“å‡ºçš„æ˜¯_MainColorä¸_SecondColorç›¸ä¹˜çš„ç»“æœ _MainColoråœ¨Propertiesä¸­è®¾ç½®ä¸ºç™½è‰²ï¼Œä½†æ˜¯ç”±äº_SecondColoræ²¡æœ‰ç»™å…¶èµ‹å€¼ï¼Œæ‰€ä»¥é»˜è®¤å€¼ä¸º0ï¼Œå³ç›¸ä¹˜ç»“æœä¹Ÿä¸ºé›¶ï¼Œæ‰€ä»¥å‘ˆç°é»‘è‰²\nç»™uniformèµ‹å€¼ 1.ç¼–å†™è„šæœ¬\nusing UnityEngine; [ExecuteInEditMode] public class Uniform : MonoBehaviour { [SerializeField] Color secondColor; void Update(){ GetComponent().material.SetVector(\u0026#34;_SecondColor\u0026#34;, secondColor); } } 2.ç»‘å®šåˆ°è¢«æ¸²æŸ“ç‰©ä½“ä¸Š\næ•ˆæœ\nç”±äºçº¢è‰²RGBå€¼ä¸º(1,0,0),Gå’ŒBå€¼æ— è®ºä¸ä»»ä½•æ•°ç›¸ä¹˜éƒ½å¾—0ï¼Œæ‰€ä»¥ä½¿ç”¨å‘ˆç°çº¢è‰²\nä¿®æ”¹ç‰‡å…ƒç€è‰²å™¨ï¼Œé¢œè‰²èåˆ fixed4 frag(v2f IN):COLOR { return _MainColor*0.5+_SecondColor*0.5; } ğŸ’¡ ä¸¤ä¸ªé¢œè‰²å„ä¹˜0.5ï¼Œå†ç›¸åŠ ï¼Œé¢œè‰²å æ¯”å„å–ç™¾åˆ†ä¹‹äº”åï¼Œè¿›è¡Œå åŠ  ğŸ’¡ åŒæ—¶å¯ä»¥è°ƒæ•´ç›¸ä¹˜ç³»æ•°ï¼Œæ¥è°ƒæ•´ä¹˜çš„æƒé‡å€¼\nLerpæ’å€¼å‡½æ•° fixed4 frag(v2f IN):COLOR { return lerp(_MainColor,_SecondColor,0.9); } ğŸ’¡ ä»_MainColorå·®å€¼è¿‡åº¦åˆ°_SecondColor, 0.9å€¼å…¶æ’å€¼ä½ç½®\nğŸ’¡ Uniform å…³é”®å­— é»˜è®¤ä¹Ÿå¯ä»¥ä¸ç”¨å†™ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥å†™å…¥æ•°æ®\n","permalink":"https://EitanWong.github.io/en/posts/shader/uniform%E4%B8%8Eproperties/","summary":"1.å£°æ˜Propertiesï¼Œå¹¶ä½¿ç”¨å…¶å€¼ Shader \u0026#34;Custom/vertex_shader\u0026#34; { //å¿…é¡»ä½äºSubShaderä¹‹ä¸Š Properties{ _MainColor(\u0026#34;Main Color\u0026#34;,color) = (1,1,1,1) } SubShader{ pass { CGPROGRAM #pragma vertex vert #pragma fragment frag //å¿…é¡»å°†ä¸Šé¢çš„Propertiesåç§°å…ˆè¿›è¡Œå£°æ˜ï¼Œä¸”åå­—å¿…é¡»ä¸ä¸Šé¢çš„ä¸€è‡´ float4 _MainColor; struct v2f { float4 pos:POSITION; float2 objPos:TEXCOORDO; float4 col:COLOR; }; struct appdata_base { float2 pos:POSITION; float4 color:COLOR; }; //ä½¿ç”¨ç»“æ„ä½“çš„æ–¹å¼è¿”å›ï¼Œæ­¤æ—¶ä¸éœ€è¦å†æŒ‡å®šä¸€ä¸ªå…·ä½“çš„è¯­","title":"Uniformä¸Properties"},{"content":"MVPçŸ©é˜µæ˜¯å›¾å½¢å­¦ä¸­å¸¸ç”¨çš„ä¸€ç§çŸ©é˜µå˜æ¢æ–¹å¼ï¼Œç”¨äºå°†ä¸‰ç»´ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‰©ä½“è½¬æ¢åˆ°äºŒç»´å±å¹•åæ ‡ç³»ä¸­è¿›è¡Œæ˜¾ç¤ºã€‚ MVPçŸ©é˜µæ˜¯ç”±ä¸‰ä¸ªçŸ©é˜µç›¸ä¹˜å¾—åˆ°çš„ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¨¡å‹çŸ©é˜µï¼ˆModel Matrixï¼‰ã€è§†å›¾çŸ©é˜µï¼ˆView Matrixï¼‰å’ŒæŠ•å½±çŸ©é˜µï¼ˆProjection Matrixï¼‰ã€‚\næ¨¡å‹çŸ©é˜µç”¨äºå°†ç‰©ä½“ä»è‡ªèº«åæ ‡ç³»è½¬æ¢åˆ°ä¸–ç•Œåæ ‡ç³»ã€‚ è§†å›¾çŸ©é˜µç”¨äºå°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‰©ä½“è½¬æ¢åˆ°ç›¸æœºåæ ‡ç³»ä¸­ã€‚ æŠ•å½±çŸ©é˜µç”¨äºå°†ç›¸æœºåæ ‡ç³»ä¸­çš„ç‰©ä½“æŠ•å½±åˆ°äºŒç»´å±å¹•åæ ‡ç³»ä¸­ã€‚ MVPçŸ©é˜µçš„è®¡ç®—æ–¹å¼ä¸ºï¼šMVP = ProjectionMatrix x ViewMatrix x ModelMatrixã€‚ ä½¿ç”¨MVPçŸ©é˜µçš„å¥½å¤„æ˜¯å¯ä»¥å°†å¤šä¸ªç‰©ä½“åŒæ—¶è¿›è¡Œå˜æ¢å’ŒæŠ•å½±ï¼Œä»è€Œæé«˜æ¸²æŸ“é€Ÿåº¦å’Œæ•ˆç‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„å›¾å½¢åº“å’Œå¼•æ“å¯èƒ½å¯¹MVPçŸ©é˜µçš„è®¡ç®—æ–¹å¼å’Œé¡ºåºæœ‰æ‰€ä¸åŒï¼Œå› æ­¤åœ¨ä½¿ç”¨MVPçŸ©é˜µæ—¶éœ€è¦äº†è§£å…·ä½“çš„å®ç°æ–¹å¼å’Œå‚æ•°è®¾ç½®ã€‚\né¦–å…ˆæ˜¯MVPä¸­çš„M ç”±æ¨¡å‹ç©ºé—´ç»è¿‡M(æ¨¡å‹å˜æ¢)çŸ©é˜µè½¬ä¸ºä¸–ç•Œç©ºé—´ å°†é¡¶ç‚¹åæ ‡ä»æ¨¡å‹è½¬ä¸ºä¸–ç•Œçš„é¡ºåºä¸º:å…ˆç¼©æ”¾,ç„¶åæ—‹è½¬,æœ€åè¿›è¡Œå¹³ç§»(é¡¶ç‚¹åæ ‡å˜æ¢é¡ºåº) ä½†ä¹¦å†™é¡ºåºæ˜¯ä»å³å‘å·¦ æ‰€ä»¥ çŸ©é˜µå¹³ç§»çŸ©é˜µæ—‹è½¬çŸ©é˜µç¼©æ”¾çŸ©é˜µï¿½çŸ©é˜µ=å¹³ç§»çŸ©é˜µâ‹…æ—‹è½¬çŸ©é˜µâ‹…ç¼©æ”¾çŸ©é˜µ\nå°†æ¨¡å‹ç©ºé—´ä¸‹é¡¶ç‚¹åæ ‡Ã—MçŸ©é˜µ å³å¯å¾—åˆ°ä¸–ç•Œç©ºé—´ä¸‹é¡¶ç‚¹åæ ‡ ç„¶åæ˜¯MVPä¸­çš„V ç”±ä¸–ç•Œç©ºé—´ç»è¿‡V(è§†å›¾å˜æ¢)çŸ©é˜µè½¬ä¸ºè§‚å¯Ÿç©ºé—´(æ­¤æ­¥åœ¨å³æ‰‹åæ ‡ç³»è¿›è¡Œ) å°†é¡¶ç‚¹åæ ‡ä»ä¸–ç•Œè½¬ä¸ºè§‚å¯Ÿçš„é¡ºåºä¸º: 1.å¹³ç§»æ•´ä¸ªè§‚å¯Ÿç©ºé—´,å°†ç›¸æœºåŸç‚¹å’Œä¸–ç•Œåæ ‡åŸç‚¹é‡åˆ,åæ ‡è½´é‡åˆ 2.ç›¸æœºåœ¨ä¸–ç•Œç©ºé—´å…ˆæ—‹è½¬,åå¹³ç§» 3.è¿›è¡Œé€†å˜æ¢,å…ˆå¹³ç§»,å†æ—‹è½¬,æœ€åå–å çŸ©é˜µæ—‹è½¬çŸ©é˜µå¹³ç§»çŸ©é˜µMçŸ©é˜µ=æ—‹è½¬çŸ©é˜µâ‹…å¹³ç§»çŸ©é˜µ\næœ€åæ˜¯MVPä¸­çš„P ç”±è§‚å¯Ÿç©ºé—´ç»è¿‡P(æŠ•å½±å˜æ¢)çŸ©é˜µè½¬ä¸ºè£å‰ªç©ºé—´ ç›®çš„:åˆ¤æ–­é¡¶ç‚¹æ˜¯å¦åœ¨å¯è§èŒƒå›´å†… çŸ©é˜µå¯¹è¿›è¡Œç¼©æ”¾ä½œä¸ºèŒƒå›´å€¼å¦‚æœåœ¨èŒƒå›´å†…åˆ™è¯¥ç‚¹ä½äºè£å‰ªç©ºé—´PçŸ©é˜µ:å¯¹X,Y,Zè¿›è¡Œç¼©æ”¾,Wä½œä¸ºèŒƒå›´å€¼,å¦‚æœXYZåœ¨WèŒƒå›´å†…,åˆ™è¯¥ç‚¹ä½äºè£å‰ªç©ºé—´ è¿™ä¸€æ­¥åˆ†ä¸ºé€è§†æŠ•å½±å’Œæ­£äº¤æŠ•å½±ä¸¤ç§ åœ¨Unityå†…ç½®çš„ShaderLabä¸­ï¼Œæä¾›äº†è®¸å¤šå†…ç½®çš„å˜æ¢çŸ©é˜µ\nå˜é‡å\næè¿°\nUNITY_MATRIX_MVP\nå½“å‰çš„æ¨¡å‹è§‚å¯ŸæŠ•å½±çŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»æ¨¡å‹ç©ºé—´è½¬æ¢åˆ°è£å‰ªç©ºé—´\nUNITY_MATRIX_MV\nå½“å‰çš„æ¨¡å‹è§‚å¯ŸçŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»æ¨¡å‹ç©ºé—´è½¬æ¢åˆ°è§‚å¯Ÿç©ºé—´\nUNITY_MATRIX_V\nå½“å‰çš„è§‚å¯ŸçŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»ä¸–ç•Œç©ºé—´è½¬æ¢åˆ°è§‚å¯Ÿç©ºé—´\nUNITY_MATRIX_P\nå½“å‰çš„æŠ•å½±çŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»è§‚å¯Ÿç©ºé—´è½¬æ¢åˆ°è£å‰ªç©ºé—´\nUNITY_MATRIX_VP\nå½“å‰çš„è§‚å¯ŸæŠ•å½±çŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»ä¸–ç•Œç©ºé—´è½¬æ¢åˆ°è£å‰ªç©ºé—´\nUNITY_MATRIX_T_MV\nUNITY_MATRIX_MV çš„è½¬ç½®\nUNITY_MATRIX_IT_MV\nUNITY_MATRIX_MV çš„é€†è½¬ç½®çŸ©é˜µï¼Œå¸¸ç”¨äºå°†æ³•çº¿ä»æ¨¡å‹ç©ºé—´è½¬æ¢åˆ°è§‚å¯Ÿç©ºé—´\n_Object2World\nå½“å‰çš„æ¨¡å‹çŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»æ¨¡å‹ç©ºé—´è½¬æ¢åˆ°ä¸–ç•Œç©ºé—´\n_World2Object\n_Object2World çš„é€†çŸ©é˜µï¼Œç”¨äºå°†é¡¶ç‚¹/æ–¹å‘çŸ¢é‡ä»ä¸–ç•Œç©ºé—´è½¬æ¢åˆ°æ¨¡å‹ç©ºé—´\næœ‰äº†è¿™äº›å†…ç½®çŸ©é˜µï¼Œåœ¨é¡¶ç‚¹å˜æ¢æ—¶å€™ï¼Œå°±æœ‰å¾ˆå¤šçš„æ–¹å¼\nv2f vert (appdata v) { v2f o; // æ–¹å¼ä¸€ o.vertex = mul(UNITY_MATRIX_P, mul(UNITY_MATRIX_MV, v.vertex)); // æ–¹å¼äºŒ o.vertex = mul(UNITY_MATRIX_P, mul(UNITY_MATRIX_V, mul(_Object2World, v.vertex))); // æ–¹å¼ä¸‰ o.vertex = mul(UNITY_MATRIX_VP, mul(_Object2World, v.vertex)); // æ–¹å¼å››ï¼Œé€šè¿‡æ„é€ ä¸€ä¸ªæ¨¡å‹è§‚å¯ŸæŠ•å½±çŸ©é˜µï¼Œç„¶åå˜æ¢é¡¶ç‚¹åæ ‡ float4x4 m = mul(UNITY_MATRIX_P, UNITY_MATRIX_MV); o.vertex = mul(m, v.vertex); // æ–¹å¼äº”ï¼Œæœ€å¸¸è§ä¹Ÿæ˜¯æœ€é«˜æ•ˆçš„åšæ³• o.vertex = mul(UNITY_MATRIX_MVP, v.vertex); o.uv = v.uv; return o; } ğŸ’¡ åœ¨æ–°ç‰ˆæœ¬çš„Unityå½“ä¸­ mul(UNITY_MATRIX_MVP, v.vertex);è¢«æ›¿æ¢ä¸ºç”¨å‡½æ•°UnityObjectToClipPosè¿›è¡Œå‡ ä½•å˜æ¢ UnityObjectToClipPos(v.vertex);\nå®Œæ•´ä»£ç  // Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Learning/GeomertricTransformation/vf1\u0026#34; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; struct v2f{ float4 pos:POSITION; }; v2f vert(appdata_base v) { v2f o; o.pos=UnityObjectToClipPos(v.vertex); return o; } fixed4 frag(v2f IN):COLOR { return fixed4(1,1,1,1); } ENDCG } } } é‡‡ç”¨C#å®ç°ç‰©ä½“è‡ªèº«çš„å‡ ä½•å˜æ¢(ç†è§£UnityçŸ©é˜µå˜æ¢çš„è¿‡ç¨‹) 1.å…ˆå°è¯•ä½¿ç”¨æ¨¡å‹å˜æ¢åˆ°ä¸–ç•Œçš„çŸ©é˜µâœ–ï¸ä¸–ç•Œå˜æ¢åˆ°æ‘„åƒæœºâœ–ï¸é€è§†çŸ©é˜µ\nMatrix4x4 mvp=transform.localToWorldMatrix*Camera.main.worldToCameraMatrix* Camera.main.projectionMatrix; 2.å°†çŸ©é˜µä¼ å…¥ç€è‰²å™¨ï¼Œè®°å¾—ä¸€å®šè¦åœ¨Updateä¸­ä¸æ–­æ›´æ–°mvpå’Œæ›´æ–°æ•°æ®\nGetComponent().sharedMaterial.SetMatrix(\u0026#34;_MVP\u0026#34;,mvp); 3.åœ¨ç€è‰²å™¨çš„é¡¶ç‚¹ç¨‹åºå½“ä¸­ç”¨ä¼ å…¥çš„çŸ©é˜µä¸æ¨¡å‹çš„é¡¶ç‚¹ç›¸ä¹˜\nuniform float4x4 _MVP; struct v2f{ float4 pos:POSITION; }; v2f vert(appdata_base v) { v2f o; o.pos=mul(_MVP,v.vertex); return o; } ğŸ’¡ è¿è¡Œæ—¶å€™ä¼šå‘ç°ï¼Œæ¨¡å‹å¹¶æ²¡æœ‰è¢«æ­£ç¡®æ¸²æŸ“\nğŸ’¡ åŸå› æ˜¯ï¼Œåœ¨Unityä¸­çŸ©é˜µä¹˜æ³•çš„é¡ºåºå®šä¹‰æœ‰ä¸€äº›åŒºåˆ« mvpçŸ©é˜µæ”¹æˆä¸‹æ–¹ç›¸ä¹˜é¡ºåºå³å¯\nMatrix4x4 mvp=Camera.main.projectionMatrix*Camera.main.worldToCameraMatrix*transform.localToWorldMatrix; æœ€ç»ˆåœ¨Gameè§†å›¾ä¸­å¯ä»¥è¢«æ­£ç¡®æ¸²æŸ“ï¼Œ ä½†æ˜¯åœ¨Editorä¸­ç”±äºSceneå­˜åœ¨å¦å¤–çš„PreviewCameraï¼Œä¸Šé¢çš„çŸ©é˜µåªä¸æ¸¸æˆå½“ä¸­çš„MainCameraçš„çŸ©é˜µç›¸ä¹˜è¿›è¡Œå˜æ¢ï¼Œ æ‰€ä»¥åœ¨Sceneä¸­çš„PreviewCameraå¹¶æ²¡æœ‰æ˜¾ç¤ºå…¶åœ¨Sceneåœºæ™¯ä¸­çš„è§†å›¾å˜æ¢ ğŸ’¡ æ‰€ä»¥ï¼Œé€šå¸¸æ¥è¯´åœ¨ç¼–å†™Shaderæ—¶ï¼Œé‡‡ç”¨å†…ç½®çš„UNITY_MATRIX_MVPå³å¯ï¼ŒUnityå†…éƒ¨å·²ç»å¯¹ç¼–è¾‘å™¨çš„PreviewCameraå’Œè¿è¡Œæ—¶çš„Cameraéƒ½åšäº†å¯¹åº”çš„çŸ©é˜µçš„ç›¸ä¹˜ï¼Œ ï¼ˆUnityæ–°ç‰ˆæœ¬ä¸­ï¼Œç›´æ¥ä½¿ç”¨UnityObjectToClipPoså°±å¯ä»¥äº†ï¼‰\nå®Œæ•´ä»£ç  Shaderï¼š\n// Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Learning/GeomertricTransformation/vf1\u0026#34; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; uniform float4x4 _MVP; struct v2f{ float4 pos:POSITION; }; v2f vert(appdata_base v) { v2f o; o.pos=mul(_MVP,v.vertex); return o; } fixed4 frag(v2f IN):COLOR { return fixed4(1,1,1,1); } ENDCG } } } C#ï¼š\nusing UnityEngine; public class MVP : MonoBehaviour { void Update() { Matrix4x4 mvp=Camera.main.projectionMatrix*Camera.main.worldToCameraMatrix*transform.localToWorldMatrix; GetComponent().sharedMaterial.SetMatrix(\u0026#34;_MVP\u0026#34;,mvp); } } åœ¨C#ä¸­æ„å»ºæ—‹è½¬çŸ©é˜µä½¿æ¨¡å‹æ—‹è½¬ using UnityEngine; public class MVP : MonoBehaviour { void Update() { //æ„å»ºç»•Yè½´æ—‹è½¬çš„çŸ©é˜µ Matrix4x4 rm=new Matrix4x4(); rm[0,0]=Mathf.Cos(Time.realtimeSinceStartup); rm[0,2]=Mathf.Sin(Time.realtimeSinceStartup); rm[1,1]=1; rm[2,0]=-Mathf.Sin(Time.realtimeSinceStartup); rm[2,2]=Mathf.Cos(Time.realtimeSinceStartup); rm[3,3]=1; Matrix4x4 mvp=Camera.main.projectionMatrix*Camera.main.worldToCameraMatrix*transform.localToWorldMatrix; GetComponent().sharedMaterial.SetMatrix(\u0026#34;_MVP\u0026#34;,mvp); GetComponent().sharedMaterial.SetMatrix(\u0026#34;_RM\u0026#34;,rm);//ä¼ å…¥ç€è‰²å™¨ } } // Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Learning/GeomertricTransformation/vf1\u0026#34; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; uniform float4x4 _MVP; uniform float4x4 _RM; struct v2f{ float4 pos:POSITION; }; v2f vert(appdata_base v) { v2f o; //å°†ä¼ å…¥çš„æ—‹è½¬çŸ©é˜µä¸é¡¶ç‚¹ç›¸ä¹˜ float4 p=mul(_RM,v.vertex); //å°†é¡¶ç‚¹å˜æ¢åˆ°è£å‰ªç©ºé—´ o.pos=UnityObjectToClipPos(p); return o; } fixed4 frag(v2f IN):COLOR { return fixed4(1,1,1,1); } ENDCG } } } åœ¨C#ä¸­æ„å»ºç¼©æ”¾çŸ©é˜µä½¿æ¨¡å‹ç¼©æ”¾ Matrix4x4 sm=new Matrix4x4(); sm[0,0]=Mathf.Sin(Time.realtimeSinceStartup)/4+0.5f; sm[1,1]=Mathf.Cos(Time.realtimeSinceStartup)/8+0.5f; sm[2,2]=Mathf.Sin(Time.realtimeSinceStartup)/6+0.5f; sm[3,3]=1; GetComponent().sharedMaterial.SetMatrix(\u0026#34;_SM\u0026#34;,sm);//ä¼ å…¥ç€è‰²å™¨ v2f vert(appdata_base v) { v2f o; float4 p=mul(_RM,v.vertex); //å°†ç¼©æ”¾çŸ©é˜µä¸é¡¶ç‚¹ç›¸ä¹˜ p=mul(_SM,p); o.pos=UnityObjectToClipPos(p); return o; } åœ¨Shaderå†…éƒ¨å®ç°æ¨¡å‹æ—‹è½¬ // Upgrade NOTE: replaced \u0026#39;mul(UNITY_MATRIX_MVP,*)\u0026#39; with \u0026#39;UnityObjectToClipPos(*)\u0026#39; Shader \u0026#34;Learning/GeomertricTransformation/vf1\u0026#34; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag #include \u0026#34;UnityCG.cginc\u0026#34; struct v2f{ float4 pos:POSITION; }; //æ„å»ºç»•Yè½´æ—‹è½¬çš„çŸ©é˜µ float4x4 RotateY(float _Angle) { float4x4 R_M={ cos(_Angle),0,sin(_Angle),0, 0,1,0,0, -sin(_Angle),0,cos(_Angle),0, 0,0,0,1 }; return R_M; } v2f vert(appdata_base v) { v2f o; float4 p=mul(RotateY(_Time*10),v.vertex); o.pos=UnityObjectToClipPos(p); return o; } fixed4 frag(v2f IN):COLOR { return fixed4(1,1,1,1); } ENDCG } } } ","permalink":"https://EitanWong.github.io/en/posts/shader/mvp%E7%9F%A9%E9%98%B5/","summary":"MVPçŸ©é˜µæ˜¯å›¾å½¢å­¦ä¸­å¸¸ç”¨çš„ä¸€ç§çŸ©é˜µå˜æ¢æ–¹å¼ï¼Œç”¨äºå°†ä¸‰ç»´ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‰©ä½“è½¬æ¢åˆ°äºŒç»´å±å¹•åæ ‡ç³»ä¸­è¿›è¡Œæ˜¾ç¤ºã€‚ MVPçŸ©é˜µæ˜¯ç”±ä¸‰ä¸ªçŸ©é˜µç›¸ä¹˜å¾—åˆ°çš„ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ¨¡å‹çŸ©é˜µï¼ˆModel Matrixï¼‰ã€è§†å›¾çŸ©é˜µï¼ˆView Matrixï¼‰å’ŒæŠ•å½±çŸ©é˜µï¼ˆProjection Matrixï¼‰ã€‚ æ¨¡å‹çŸ©é˜µç”¨äºå°†ç‰©","title":"MVPçŸ©é˜µ"},{"content":"2Då˜æ¢çŸ©é˜µ å¹³ç§»çŸ©é˜µ æ—‹è½¬çŸ©é˜µ ç¤ºä¾‹ä»£ç  using UnityEngine; public class Matrix2DTransformDemo : MonoBehaviour { MeshRenderer _renderer; MeshFilter _filter; Mesh _mesh; void Awake() { if (!TryGetComponent(out _renderer)) { _renderer = gameObject.AddComponent(); _renderer.sharedMaterial = new Material(Shader.Find(\u0026#34;Standard\u0026#34;)); } if (!TryGetComponent(out _filter)) { _filter = gameObject.AddComponent(); _mesh=GenerateTriangleMesh(); _filter.sharedMesh = _mesh; } } void FixedUpdate() { Rotate(_mesh,1); } private Mesh GenerateTriangleMesh() { Mesh mesh = new Mesh(); mesh.vertices = new[] { new Vector3(0, 0.25f, 0),//0 new Vector3(0.25f, -0.25f, 0),//1 new Vector3(-0.25f, -0.25f, 0),//2 }; mesh.triangles = new[] {0,1,2}; mesh.RecalculateNormals(); return mesh; } private void Rotate(Mesh mesh,int degree) { float angle = degree * Mathf.PI/180; Vector3[] vertices = mesh.vertices; for (int i = 0; i \u0026lt; vertices.Length; i++) { vertices[i]=TransformVertex(vertices[i],angle); } mesh.SetVertices(vertices); mesh.RecalculateNormals(); } private Vector3 TransformVertex(Vector3 vertex,float angle) { var newX = vertex.x * Mathf.Cos(angle) - vertex.y * Mathf.Sin(angle); var newY = vertex.x * Mathf.Sin(angle) + vertex.y * Mathf.Cos(angle); vertex.Set(newX,newY,vertex.z); return vertex; } } 2Dç¼©æ”¾çŸ©é˜µ 3Då˜æ¢çŸ©é˜µ 3Då¹³ç§»çŸ©é˜µ å¹³ç§»çŸ©é˜µä¹Ÿç§°ä½ç§»çŸ©é˜µï¼Œå¹³ç§»çŸ©é˜µç”¨åˆ°äº†ç¬¬å››åˆ—ï¼ˆwåˆ—ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸‰ç»´ç©ºé—´å˜æ¢çŸ©é˜µä¸ºä»€ä¹ˆæ˜¯å››ç»´çš„ã€‚å¹³ç§»çŸ©é˜µä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ç»“æœçœ‹å‡ºæƒ³x ã€yã€zç¡®å®å„è‡ªå¹³ç§»äº†Tæ­¥ã€‚\n3Dæ—‹è½¬çŸ©é˜µ ğŸ’¡ ç»•ä¸åŒçš„åæ ‡è½´è¿›è¡Œæ—‹è½¬çš„3DçŸ©é˜µ\n3Dç¼©æ”¾çŸ©é˜µ 3Dæ—‹è½¬çŸ©é˜µä¸å¹³ç§»çŸ©é˜µç›¸ä¹˜ é€è§†æŠ•å½± é€è§†æŠ•å½±çŸ©é˜µ å˜æ¢çš„ç§ç±» å˜æ¢çš„ç»„åˆ C#é¡¶ç‚¹å˜æ¢demo 1.ç¼–å†™çŸ©é˜µMatrix4x4ï¼Œä¸å…¶å¯¹åº”çš„çŸ©é˜µä¹˜æ³•æ–¹æ³•\ninternal struct Matrix4x4 { float[,] elements=new float[4,4]; public Matrix4x4() { elements[0, 0] = 1; elements[1, 1] = 1; elements[2, 2] = 1; elements[3, 3] = 1; } public float this[int i, int j] { get { return elements[i - 1, j - 1]; } set {elements[i - 1, j - 1]= value;} } public Matrix4x4 Mul(Matrix4x4 matrix) { Matrix4x4 result= new Matrix4x4(); for (int h = 1; h \u0026lt;= 4; h++) { for (int l = 1; l \u0026lt;= 4; l++) { for (int n = 1; n \u0026lt;= 4; n++) { result[h, l] += this[h, n] * matrix[n, l]; } } } return result; } public Vector4 Mul(Vector4 vector) { Vector4 result=new Vector4(); result.x = this[1, 1] * vector.x + this[1, 2] * vector.y + this[1, 3] * vector.z + this[1, 4] * vector.w; result.y = this[2, 1] * vector.x + this[2, 2] * vector.y + this[2, 3] * vector.z + this[2, 4] * vector.w; result.z = this[3, 1] * vector.x + this[3, 2] * vector.y + this[3, 3] * vector.z + this[3, 4] * vector.w; result.w = this[4, 1] * vector.x + this[4, 2] * vector.y + this[4, 3] * vector.z + this[4, 4] * vector.w; return result; } } 2.ç¼–å†™å‘é‡Vector4ï¼Œä¸å…¶å¯¹åº”çš„ä¹˜æ³•æ–¹æ³•\ninternal struct Vector4 { public float x, y, z, w; public Vector4(float x, float y, float z, float w) { this.x = x; this.y= y; this.z = z; this.w = w; } public Vector4 Mul(Matrix4x4 matrix) { Vector4 result = new Vector4(); result.x = this.x * matrix[1, 1] + this.y * matrix[2,1]+this.z* matrix[3, 1] + this.w * matrix[4,1]; result.y = this.x * matrix[1, 2] + this.y * matrix[2, 2] + this.z * matrix[3, 2] + this.w * matrix[4, 2]; result.z = this.x * matrix[1, 3] + this.y * matrix[2, 3] + this.z * matrix[3, 3] + this.w * matrix[4, 3]; result.w = this.x * matrix[1, 4] + this.y * matrix[2, 4] + this.z * matrix[3, 4] + this.w * matrix[4, 4]; return result; } } ç¼–å†™CubeMeshç±»ï¼Œåˆå§‹åŒ–é¡¶ç‚¹æ•°æ®ï¼Œç¼–å†™ç»˜åˆ¶å›¾å½¢ä¸Transformæ–¹æ³• internal class CubeMesh { public Vector4[] vertices; public Vector4[] vertices_transformed; public CubeMesh() { vertices =new Vector4[8]; vertices[0] = new Vector4(-0.5f, 0.5f, -0.5f, 1); vertices[1] = new Vector4(0.5f, 0.5f, -0.5f, 1); vertices[2] = new Vector4(-0.5f, -0.5f, -0.5f, 1); vertices[3] = new Vector4(0.5f, -0.5f, -0.5f, 1); vertices[4] = new Vector4(-0.5f, 0.5f, 0.5f, 1); vertices[5] = new Vector4(0.5f, 0.5f, 0.5f, 1); vertices[6] = new Vector4(-0.5f, -0.5f, 0.5f, 1); vertices[7] = new Vector4(0.5f, -0.5f, 0.5f, 1); vertices_transformed = new Vector4[8]; } public void Transform(Matrix4x4 matrix) { for (int i = 0; i \u0026lt; vertices.Length; i++) { vertices_transformed[i] = vertices[i].Mul(matrix); } } private PointF GetPoint( Vector4 vector) { return new PointF(vector.x/vector.w, vector.y / vector.w); } public void Draw(Graphics g) { Pen pen = new Pen(Color.Red); g.DrawLine(pen, GetPoint(vertices_transformed[0]), GetPoint(vertices_transformed[1])); g.DrawLine(pen, GetPoint(vertices_transformed[1]), GetPoint(vertices_transformed[3])); g.DrawLine(pen, GetPoint(vertices_transformed[3]), GetPoint(vertices_transformed[2])); g.DrawLine(pen, GetPoint(vertices_transformed[2]),GetPoint(vertices_transformed[0])); g.DrawLine(pen, GetPoint(vertices_transformed[4]), GetPoint(vertices_transformed[5])); g.DrawLine(pen, GetPoint(vertices_transformed[5]), GetPoint(vertices_transformed[7])); g.DrawLine(pen, GetPoint(vertices_transformed[7]), GetPoint(vertices_transformed[6])); g.DrawLine(pen, GetPoint(vertices_transformed[6]), GetPoint(vertices_transformed[4])); g.DrawLine(pen, GetPoint(vertices_transformed[0]), GetPoint(vertices_transformed[4])); g.DrawLine(pen, GetPoint(vertices_transformed[1]), GetPoint(vertices_transformed[5])); g.DrawLine(pen, GetPoint(vertices_transformed[2]), GetPoint(vertices_transformed[6])); g.DrawLine(pen, GetPoint(vertices_transformed[3]), GetPoint(vertices_transformed[7])); } } ç¼–å†™TransformHelperç±»ï¼Œè·å–å¯¹åº”å˜æ¢æ–¹å¼çš„çŸ©é˜µ internal static class TransformHelper { public static Matrix4x4 ScaleMatrix4x4(float x,float y,float z) { Matrix4x4 matrix= new Matrix4x4(); matrix[1, 1] = x; matrix[2, 2] = y; matrix[3, 3] = z; matrix[4, 4] = 1; return matrix; } public static Matrix4x4 RotateYMatrix4x4(float angle) { Matrix4x4 matrix = new Matrix4x4(); matrix[1, 1] = MathF.Cos(angle); matrix[1,3]=MathF.Sin(angle); matrix[3, 1] = -MathF.Sin(angle); matrix[3,3]=MathF.Cos(angle); matrix[2, 2] = 1; matrix[4, 4] = 1; return matrix; } public static Matrix4x4 TranslateMatrix4x4(float x,float y,float z) { Matrix4x4 matrix = new Matrix4x4(); matrix[1, 1] = 1; matrix[2, 2] = 1; matrix[3, 3] = 1; matrix[4, 4] = 1; matrix[4, 1] = x; matrix[4, 2] = y; matrix[4, 3] = z; return matrix; } public static Matrix4x4 ProjectionMatrix4x4(float fov) { Matrix4x4 matrix = new Matrix4x4(); matrix[1, 1] = 1; matrix[2, 2] = 1; matrix[3, 3] = 1; matrix[4, 4] = 1; matrix[3, 4] = 1/fov; return matrix; } } 5.ä¸»çª—ä½“ä¸Šæ·»åŠ Timerï¼Œæ¯ä¸€å¸§ä¸­è¿›è¡ŒçŸ©é˜µçš„ç›¸ä¹˜ï¼Œå¹¶å°†è¯¥çŸ©é˜µå˜æ¢äºCubeMeshï¼Œè°ƒç”¨Drawæ–¹æ³•ç»˜åˆ¶\npublic partial class MainForm : Form { CubeMesh mesh; Matrix4x4 Scale_Matrix; Matrix4x4 RotateY_Matrix; Matrix4x4 View_Matrix; Matrix4x4 Projection_Matrix; float angle; float distance=500; float x,y,z; float moveSpeed=100; public MainForm() { InitializeComponent(); } private void MainForm_Load(object sender, EventArgs e) { mesh = new CubeMesh(); Scale_Matrix=TransformHelper.ScaleMatrix4x4(500, 500, 500); RotateY_Matrix = TransformHelper.RotateYMatrix4x4(0.1f); } private void MainForm_KeyPress(object sender, KeyPressEventArgs e) { switch (e.KeyChar) { case\u0026#39;w\u0026#39;: z -= moveSpeed; break; case \u0026#39;s\u0026#39;: z += moveSpeed; break; case \u0026#39;a\u0026#39;: x += moveSpeed; break; case \u0026#39;d\u0026#39;: x -= moveSpeed; break; case \u0026#39;q\u0026#39;: y -= moveSpeed; break; case \u0026#39;e\u0026#39;: y += moveSpeed; break; default: break; } //Debug.WriteLine(e.KeyChar); } private void MainForm_Paint(object sender, PaintEventArgs e) { e.Graphics.TranslateTransform(this.Width / 2, this.Height / 2); mesh.Draw(e.Graphics); } private void UpdateTimer_Tick(object sender, EventArgs e) { angle += 0.005f; View_Matrix = TransformHelper.TranslateMatrix4x4(x, y, z); Projection_Matrix = TransformHelper.ProjectionMatrix4x4(distance); RotateY_Matrix = TransformHelper.RotateYMatrix4x4(angle); var m = Scale_Matrix.Mul(RotateY_Matrix).Mul(View_Matrix).Mul(Projection_Matrix); mesh.Transform(m); this.Invalidate(); } } æœ€ç»ˆæ•ˆæœ ","permalink":"https://EitanWong.github.io/en/posts/shader/%E7%9F%A9%E9%98%B5%E5%92%8C%E5%8F%98%E6%8D%A2/","summary":"2Då˜æ¢çŸ©é˜µ å¹³ç§»çŸ©é˜µ æ—‹è½¬çŸ©é˜µ ç¤ºä¾‹ä»£ç  using UnityEngine; public class Matrix2DTransformDemo : MonoBehaviour { MeshRenderer _renderer; MeshFilter _filter; Mesh _mesh; void Awake() { if (!TryGetComponent(out _renderer)) { _renderer = gameObject.AddComponent(); _renderer.sharedMaterial = new Material(Shader.Find(\u0026#34;Standard\u0026#34;)); } if (!TryGetComponent(out _filter)) { _filter = gameObject.AddComponent(); _mesh=GenerateTriangleMesh(); _filter.sharedMesh = _mesh; } } void FixedUpdate() { Rotate(_mesh,1); } private Mesh GenerateTriangleMesh() { Mesh mesh = new Mesh(); mesh.vertices = new[] { new Vector3(0, 0.25f, 0),//0 new Vector3(0.25f, -0.25f, 0),//1 new Vector3(-0.25f, -0.25f, 0),//2 }; mesh.triangles = new[] {0,1,2}; mesh.RecalculateNormals(); return mesh; } private void Rotate(Mesh mesh,int degree) { float angle = degree * Mathf.PI/180; Vector3[] vertices = mesh.vertices; for (int i = 0; i \u0026lt; vertices.Length; i++) { vertices[i]=TransformVertex(vertices[i],angle); } mesh.SetVertices(vertices); mesh.RecalculateNormals(); } private Vector3 TransformVertex(Vector3 vertex,float angle) { var newX = vertex.x","title":"çŸ©é˜µå’Œå˜æ¢"},{"content":"æ¡ˆä¾‹ åœ¨meshç½‘æ ¼ä¸­ç«‹æ–¹ä½“çš„èŒƒå›´ä»-0.5åˆ°+0.5ï¼Œå½“ä¼ å…¥POSITIONæ•°æ®æ—¶æ‰ç”¨äº†float2ç±»å‹ï¼Œ å®é™…ä¸Šåªä¼ å…¥äº†xyä¸¤ä¸ªåˆ†é‡ï¼Œè¾“å‡ºçš„posç»è¿‡float4é‡ç½®ç»„åˆï¼Œå°†wåˆ†é‡è®¾ä¸º1ï¼Œä¸ºäº†ä¿è¯çŸ©é˜µç›¸ä¹˜æ—¶ç»“æœä¸å‡ºé”™ï¼Œ æŠŠè¿™æ ·çš„posä¼ ç»™ç‰‡å…ƒç€è‰²å™¨æ—¶ï¼Œç‰‡å…ƒç¨‹åºé»˜è®¤poså·²ç»ç»è¿‡çŸ©é˜µå˜æ¢äº†ï¼Œ æ‰€ä»¥å°±å°†å…¶æ˜ å°„åˆ°è®¾å¤‡ç©ºé—´ï¼Œåœ¨è®¾å¤‡ç©ºé—´å½“ä¸­ï¼Œæœ€å·¦è¾¹åˆ°æœ€å³è¾¹çš„xå€¼ä¸yå€¼ï¼Œæ˜¯ä»-1åˆ°+1ï¼Œ æ‰€ä»¥éšç€å±å¹•çš„ç¼©å°ä¸æ”¾å¤§ï¼Œè¿™ä¸ªå›¾å½¢æ€»æ˜¯ç­‰æ¯”ä¾‹é€‚é…äºå±å¹•ç©ºé—´ è¿™ç±»çš„Shaderä¸æ˜¯å¤§å¤šæ•°ä½¿ç”¨çš„ï¼Œå¦‚æœè¦åšå…³äºUIçš„ç³»ç»Ÿï¼Œå¯ä»¥åœ¨ç”¨è¿™ç±»Shaderçš„åŸç† ï¼ˆåœ¨å®é™…UIç³»ç»Ÿå½“ä¸­ï¼Œè¿˜è¦è€ƒè™‘åˆ°è®©å›¾å½¢æ˜¾ç¤ºåœ¨æ‰€æœ‰åœºæ™¯çš„æœ€ä¸Šé¢ï¼Œä¹Ÿå°±æ˜¯æœ€é è¿‘æ‘„åƒæœºçš„ä½ç½®ï¼Œå½“ç„¶è¿˜è€ƒè™‘åˆ°èµ„æºæ¶æ„çš„ç»„ç»‡é—®é¢˜ï¼‰\nvoid vert(in float2 objPos:POSITION,out float4 pos:POSITION,out fixed4 col:COLOR) { pos=float4(objPos,0,1); col=pos; } void frag(inout fixed4 col:COLOR) { float arr[]={0.5,0.5}; col.y=Func2(arr); } è¾“å…¥ä¸è¾“å‡º ä½œä¸ºä¸€ä¸ªé¡¶ç‚¹ç¨‹åºï¼Œå…¶å®å¯ä»¥æœ‰è¿”å›å€¼çš„ ï¼ˆä¿®æ”¹å‰ï¼‰\nvoid vert(in float2 objPos:POSITION,out float4 pos:POSITION,out fixed4 col:COLOR) { pos=float4(objPos,0,1); col=pos; } ï¼ˆä¿®æ”¹åï¼‰\nfloat4 vert(in float2 objPos:POSITION,out float4 pos:POSITION): COLOR { pos=float4(objPos,0,1); return pos; } ğŸ’¡ å°†colä½œä¸ºé¡¶ç‚¹ç¨‹åºçš„è¿”å›å€¼è¿”å›ï¼Œç±»å‹ä¸ºfloat4ï¼Œé¡¶ç‚¹ç¨‹åºåé¢ï¼Œè¦åŠ ä¸Šè¯­ä¹‰ï¼Œä»¥è¡¨ç¤ºè¿”å›å€¼çš„è¯­ä¹‰ï¼Œä¾‹å¦‚ä¸Šæ–¹åœ¨verté¡¶ç‚¹ç¨‹åºä¸­åŠ ä¸Šäº†: COLOR,è¯´æ˜è¿”å›å€¼è¿”å›çš„æ˜¯ä¸€ä¸ªfloat4ç±»å‹çš„COLORé¢œè‰² å¦‚æœæ²¡æœ‰å†™ä¸Šè¯­ä¹‰ï¼Œå°†æ— æ³•ç¼–è¯‘æ­¤ç€è‰²å™¨ï¼Œå¯¼è‡´æŠ¥é”™\nå…¶å®å‡½æ•°å¯ä»¥å¸¦ä¸Šè¯­ä¹‰çš„ fragç‰‡å…ƒå‡½æ•°ä¹Ÿä¸€æ ·\nfixed4 frag(in fixed4 col:COLOR):COLOR { float arr[]={0.5,0.5}; col.y=Func2(arr); return col; } è¯­ä¹‰é‡å¤ åœ¨ä¸‹æ–¹ç¨‹åºå½“ä¸­ï¼ŒobjPosï¼Œå®šä¹‰ä¸ºinoutï¼Œæ—¢æ˜¯è¾“å…¥åˆæ˜¯è¾“å…¥ï¼Œè¾“å‡ºçš„POSITIONè¯­ä¹‰ä¸posè¾“å‡ºçš„è¯­ä¹‰é‡å¤äº†ï¼Œç‰‡æ®µç¨‹åºä¸çŸ¥é“å“ªä¸€ä¸ªæ‰æ˜¯vertè¾“å‡ºçš„POSITIONï¼Œæ‰€ä»¥å¯¼è‡´è¯¥ç€è‰²å™¨ç¼–è¯‘å¤±è´¥ï¼Œå‡ºç°æŠ¥é”™\nfloat4 vert(inout float2 objPos:POSITION,out float4 pos:POSITION): COLOR { pos=float4(objPos,0,1); return pos; } Unityå½“ä¸­è¯­ä¹‰æœ¬èº«ä¸èƒ½é‡å¤ï¼Œå¯ä»¥æœ‰å¤šä¸ªè¾“å‡ºï¼Œä½†ä¸€ä¸ªè¯­ä¹‰åªèƒ½æœ‰ä¸€ä¸ªè¾“å‡º\nfloat4 vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float2 opos:POSITION): COLOR { pos=float4(objPos,0,1); return pos; } fixed4 frag(in float2 opos:POSITION,in fixed4 col:COLOR):COLOR { float arr[]={0.5,0.5}; col.y=Func2(arr); return col; } åœ¨ä¸‹æ–¹çš„çš„vertå‡½æ•°ä¸­outè¾“å‡ºçš„oposçš„è¯­ä¹‰COLORä¸vertå‡½æ•°è¿”å›å€¼è¾“å‡ºçš„è¯­ä¹‰COLORä¹Ÿå‘ç”Ÿçš„é‡å¤ï¼Œæ‰€ä»¥å¯¼è‡´äº†ç€è‰²å™¨ç¼–è¯‘ä¸é€šè¿‡æŠ¥é”™\nfloat4 vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float2 opos:COLOR): COLOR { pos=float4(objPos,0,1); opos=float2(1,1); return pos; } å°†vertä¸­çš„æ¨¡å‹åæ ‡ä¼ ç»™frag åœ¨ä¸‹æ–¹çš„Shaderç¨‹åºå½“ä¸­å°†ä¼ å…¥çš„POSITIONä¹Ÿå°±æ˜¯objPosèµ‹å€¼ç»™oposï¼Œç”±äºéƒ½æ˜¯float2ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥äº’ç›¸èµ‹å€¼ ğŸ’¡ è¯­ä¹‰åªæ˜¯å¼ºè°ƒå‚æ•°çš„ç¯å¢ƒä¸å…·ä½“ç”¨é€”ï¼Œè¯­ä¹‰ä¸åŒï¼Œåªè¦ç±»å‹ç›¸åŒå°±å¯ä»¥èµ‹å€¼\nfloat4 vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float2 opos:TEXCOORD0): COLOR { pos=float4(objPos,0,1); opos=objPos; return pos; } fixed4 frag(in float2 opos:TEXCOORD0,in fixed4 col:COLOR):COLOR { float arr[]={0.5,0.5}; col.y=Func2(arr); return col; } ç»“æ„ä½“ åœ¨å®é™…ç¼–å†™è¿‡ç¨‹ä¸­ï¼Œç€è‰²å™¨é€šå¸¸éœ€è¦è¾“å…¥è¾“å‡ºå¤šä¸ªå‚æ•°ã€‚ç»“æ„ä½“çš„ä½œç”¨åœ¨äºå¯ä»¥åŒæ—¶å°†é¡¶ç‚¹åæ ‡ã€æ³•çº¿å‘é‡å’Œç¬¬ä¸€å¥—UVç­‰ä¼ å…¥åˆ°é¡¶ç‚¹ç€è‰²å™¨ï¼Œç„¶åå†åŒæ—¶è¾“å‡ºè£åˆ‡ç©ºé—´çš„é¡¶ç‚¹åæ ‡ã€ä¸–ç•Œç©ºé—´é¡¶ç‚¹åæ ‡ã€ä¸–ç•Œç©ºé—´æ³•çº¿å‘é‡å’Œçº¹ç†åæ ‡åˆ°ç‰‡æ®µç€è‰²å™¨ã€‚ ç”±äºå‡½æ•°æœ‰å¤šä¸ªè¾“å…¥è¾“å‡ºï¼Œç»“æ„ä½“å¯ä»¥è®©ä»£ç ç¼–å†™æ›´åŠ æ–¹ä¾¿ï¼Œä¸”ç¾è§‚ã€‚\nç»“æ„ä½“çš„è¯­æ³• ç»“æ„ä½“å…è®¸å­˜å‚¨å¤šä¸ªä¸åŒç±»å‹çš„å˜é‡ï¼Œå¹¶ä¸”å°†å¤šä¸ªå˜é‡åŒ…è£…æˆä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œè¾“å…¥æˆ–è€…è¾“å‡ºã€‚ ç»“æ„ä½“è¯­æ³•å¦‚ä¸‹ï¼š\nstruct Type { //å˜é‡ }; ä¾‹å¦‚ï¼š\nstruct v2f{ float4 pos:POSITION; float2 objPos:TEXCOORD0; }; åœ¨vertä¸fragå‡½æ•°ä¸­ä¼ å…¥æ­¤ç»“æ„ä½“\nstruct v2f{ float4 pos:POSITION; float2 objPos:TEXCOORD0; }; v2f vert(in float2 objPos:POSITION) { v2f v; v.pos=float4(objPos,0,1); v.objPos=objPos; return v; } fixed4 frag(in float4 pos: POSITION,in float2 opos:TEXCOORD0):COLOR { return float4(opos,0,1); } ğŸ’¡ è¦æ³¨æ„ï¼Œç»“æ„ä½“å¿…é¡»è¦å£°æ˜åœ¨ä½¿ç”¨çš„å‡½æ•°å‰é¢ï¼Œå¦åˆ™å°†å‡ºç°å¦‚ä¸‹æŠ¥é”™\nåˆ«å åœ¨å£°æ˜structçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ«åçš„æ–¹å¼ï¼Œè¿›è¡Œå£°æ˜ ç»™ç»“æ„ä½“èµ·ä¸€ä¸ªåˆ«åï¼Œå¦‚ï¼š\ntypedefÂ ![struct](https://so.csdn.net/so/search?q=struct\u0026amp;spm=1001.2101.3001.7020) ABC{ ... }S; è¿™å°±ä¸ºç»“æ„ä½“ABCå®šä¹‰äº†ä¸€ä¸ªåˆ«åSã€‚ä»¥åå†™S xï¼›å°±ç­‰ä»·äºå†™struct ABC x ã€‚ ä¾‹å¦‚ï¼š\ntypedef struct { float4 pos:POSITION; float2 objPos:TEXCOORD0; }v2f; ğŸ’¡ ä½†è¦æ³¨æ„CGè¯­è¨€å½“ä¸­ä¸åƒCè¯­è¨€ï¼Œæ˜¯ä¸æ”¯æŒæŒ‡é’ˆï¼Œæ‰€ä»¥åœ¨åˆ«åæ—¶ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨*pæŒ‡é’ˆ\nå®Œæ•´ä»£ç  Shader \u0026#34;Learning/CGPROGRAM/vf3\u0026#34; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag float Func2(float arr[2]) { float sum=0; for (int i=0;iğŸ’¡ è¿™æ ·çš„ç»„ç»‡æ–¹å¼ï¼Œå¯ä»¥ä¿è¯ä»¥åè¦ç¼–å†™çš„ç€è‰²å™¨éƒ½å¯ä»¥å¼•ç”¨cgincæ–‡ä»¶ï¼Œä¸ç”¨é‡å¤ç¼–å†™ç»“æ„ä½“ Shader \u0026ldquo;Learning/CGPROGRAM/vf3\u0026rdquo; { SubShader { pass{ CGPROGRAM #pragma vertex vert #pragma fragment frag //å¼•å…¥sbin.cginc #include \u0026ldquo;sbin.cginc\u0026rdquo; typedef struct { float4 pos:POSITION; float2 objPos:TEXCOORD0; fixed4 col:COLOR; }v2f; v2f vert(appdata_base v) { v2f o; o.pos=float4(v.pos,0,1); o.objPos=float2(1,0); o.col=v.col; return o; } fixed4 frag(v2f IN):COLOR { return IN.col; } ENDCG } } }\n## UnityShaderLabä¸­Build inçš„ç»“æ„ä½“ åŒ…å«åœ¨UnityCG.cgincå½“ä¸­ struct appdata_base { float4 vertex : POSITION;//é¡¶ç‚¹ï¼Œ(é‡‡ç”¨4ç»´å‘é‡) float3 normal : NORMAL;//æ³•å‘é‡ float4 texcoord : TEXCOORD0;//çº¹ç†åæ ‡ UNITY_VERTEX_INPUT_INSTANCE_ID }; //æ­£åˆ‡ï¼Œ struct appdata_tan { float4 vertex : POSITION; float4 tangent : TANGENT;//åˆ‡çº¿æ•°æ® float3 normal : NORMAL; float4 texcoord : TEXCOORD0; UNITY_VERTEX_INPUT_INSTANCE_ID }; //èƒ½å¤Ÿä¸ºé¡¶ç‚¹ç€è‰²å™¨ï¼Œæä¾›çš„æ‰€æœ‰æ•°æ® struct appdata_full { float4 vertex : POSITION; float4 tangent : TANGENT; float3 normal : NORMAL; float4 texcoord : TEXCOORD0; float4 texcoord1 : TEXCOORD1; float4 texcoord2 : TEXCOORD2; float4 texcoord3 : TEXCOORD3; fixed4 color : COLOR; UNITY_VERTEX_INPUT_INSTANCE_ID }; ``` ğŸ’¡ åœ¨ç€è‰²å™¨å½“ä¸­ï¼Œé¡¶ç‚¹ç¨‹åºï¼Œéœ€è¦ä»åº”ç”¨ç¨‹åºä¸­æ¥å—å®ƒè¦ä½¿ç”¨çš„å‚æ•°ï¼Œ å…¶ä¸»è¦å†…å®¹ï¼Œå°±æ˜¯é¡¶ç‚¹å½“ä¸­åº”å½“åŒ…æ‹¬çš„ä¿¡æ¯ï¼Œä¸ºäº†èƒ½å¤Ÿç»“æ„è¯ç»„ç»‡æ•°æ®çš„è¾“å…¥ï¼Œ å¯ä»¥åˆ©ç”¨ç»“æ„ä½“å¯¹æ•°æ®è¿›è¡ŒåŒ…è£…ï¼Œç»è¿‡ç»“æ„ä½“å¯¹åŒ…è£…ä¹‹åï¼Œå°±å¯ä»¥åœ¨ç»“æ„ä½“çš„æˆå‘˜å½“ä¸­ä½¿ç”¨æä¾›ç»™é¡¶ç‚¹ç¨‹åºçš„æ•°æ® ğŸ’¡ ç”±äºé¡¶ç‚¹ç¨‹åºå‘ç‰‡å…ƒç¨‹åºè¾“å‡ºçš„æ•°æ®ï¼Œç”±äºéœ€æ±‚ç›®çš„ä¸åŒï¼Œæ‰€ä»¥æ— æ³•åœ¨æ¯ä¸€ä¸ªç€è‰²å™¨å½“ä¸­å»ç¡®å®šå“ªäº›æ˜¯éœ€è¦ç”¨åˆ°çš„æ•°æ®ï¼Œäºæ˜¯æ— æ³•åšä¸€ä¸ªç»Ÿä¸€çš„æ–¹å¼å†™åœ¨cgincå½“ä¸­ å½“ç„¶å¦‚æœåœ¨æŸäº›ç‰¹æ®Šçš„éœ€æ±‚ä¸‹ï¼Œå›ºå®šä¼ å…¥çš„æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å†™åœ¨è‡ªå®šä¹‰çš„cgincå½“ä¸­\n","permalink":"https://EitanWong.github.io/en/posts/shader/vertex%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA/","summary":"æ¡ˆä¾‹ åœ¨meshç½‘æ ¼ä¸­ç«‹æ–¹ä½“çš„èŒƒå›´ä»-0.5åˆ°+0.5ï¼Œå½“ä¼ å…¥POSITIONæ•°æ®æ—¶æ‰ç”¨äº†float2ç±»å‹ï¼Œ å®é™…ä¸Šåªä¼ å…¥äº†xyä¸¤ä¸ªåˆ†é‡ï¼Œè¾“å‡ºçš„posç»è¿‡float4é‡ç½®ç»„åˆï¼Œå°†wåˆ†é‡è®¾ä¸º1ï¼Œä¸ºäº†ä¿è¯çŸ©é˜µç›¸ä¹˜æ—¶ç»“æœä¸å‡ºé”™ï¼Œ æŠŠè¿™æ ·çš„posä¼ ç»™ç‰‡å…ƒç€è‰²å™¨æ—¶ï¼Œç‰‡å…ƒç¨‹åºé»˜è®¤poså·²ç»ç»è¿‡çŸ©é˜µ","title":"Vertexæ•°æ®çš„è¾“å…¥ä¸è¾“å‡º"},{"content":"æ¦‚è¿° è®¡ç®—æœºæ˜¾ç¤ºå™¨æ˜¯ä¸€ä¸ª2Då¹³é¢ã€‚OpenGLæ¸²æŸ“æ—¶å¿…é¡»å°†ä¸€ä¸ª3Dçš„åœºæ™¯æŠ•å½±åœ¨å±å¹•ä¸Šæˆä¸ºä¸€ä¸ª2Dçš„å›¾ç‰‡ã€‚GL_PROJECTIONçŸ©é˜µçš„å°±æ˜¯ç”¨ä½œè¿™ç§æŠ•å½±å˜æ¢ã€‚é¦–å…ˆï¼Œå…¶å°†æ‰€æœ‰çš„é¡¶ç‚¹æ•°æ®ä»è§†è§‰åæ ‡ç³»ï¼ˆçœ¼åæ ‡ç³»ï¼‰è½¬åŒ–åˆ°è£å‰ªç©ºé—´ã€‚ç„¶åï¼Œé€šè¿‡é™¤ä»¥è£å‰ªåæ ‡ç³»ä¸­çš„wåˆ†é‡ï¼Œå°†è½¬åŒ–åçš„è£å‰ªåæ ‡å˜æ¢æˆæ ‡å‡†è®¾å¤‡åæ ‡ç³»ï¼ˆNDCï¼‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»è®°ä½GL_PROJECTIONé›†æˆäº†è£å‰ªå’Œè½¬åŒ–æˆæ ‡å‡†è®¾å¤‡åæ ‡ç³»çš„åŠŸèƒ½ã€‚ä¸‹é¢çš„æ¨¡å—è®²è¿°äº†ï¼Œå¦‚ä½•ä»ä»¥ä¸‹6ä¸ªå‚æ•°å»ºç«‹æŠ•å½±çŸ©é˜µï¼šleftã€rightã€bottomã€topã€nearå’Œfarç­‰è¾¹ç•Œå€¼ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè£å‰ªç©ºé—´ä¸­çš„å¹³å¤´æˆªä½“çš„è£å‰ªè¿‡ç¨‹å‘ç”Ÿåœ¨ï¼Œé™¤ä»¥wcåˆ†é‡ä¹‹å‰ã€‚å°†è£å‰ªåæ ‡ xc, ycå’Œzcå’Œwcè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå…¶ä¸­ä»»æ„ä¸€ä¸ªå€¼å°äºwcæˆ–è€…å¤§äºwcï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¶ç‚¹å°†ä¼šè¢«è£å‰ªæ‰ï¼Œæ¸²æŸ“æ—¶ä¼šä¸¢å¼ƒè¿™ä¸ªé¡¶ç‚¹ã€‚\nwc \u0026lt; xc,yc,zc \u0026lt; wc å½“è£å‰ªå‘ç”Ÿæ—¶ï¼ŒOpenGLä¼šé‡æ–°æ„å»ºè£å‰ªçš„è¾¹ç•Œå’Œè¾¹çº¿ã€‚\né€è§†æŠ•å½± åœ¨é€è§†æŠ•å½±æ—¶ï¼Œè£å‰ªæˆªä½“æ˜¯ä¸€ä¸ªé”¥å½¢çš„ï¼Œç„¶åè¢«æ˜ å°„åˆ°æ ‡å‡†è®¾å¤‡åæ ‡ç³»ä¸­ï¼ˆä¸€ä¸ªç«‹æ–¹ä½“ï¼‰ï¼ŒNDCçš„xã€yå’Œzè½´çš„èŒƒå›´éƒ½æ˜¯ä»-1è‡³+1ã€‚ æ³¨æ„ï¼Œè§†è§‰åæ ‡ç³»æ˜¯å³æ‰‹åæ ‡ç³»ï¼Œè€ŒNDCä½¿ç”¨çš„æ˜¯å·¦æ‰‹åæ ‡ç³»ï¼Œå®ƒä»¬çš„zå€¼æ–¹å‘æ˜¯ç›¸åçš„ï¼Œåœ¨è§†è§‰åæ ‡ç³»ä¸­ï¼Œæ‘„åƒæœºåœ¨åŸç‚¹ï¼Œè§‚å¯Ÿæ–¹å‘ä¸ºzè½´çš„è´Ÿå€¼æ–¹å‘ï¼Œä½†æ˜¯åœ¨NDCä¸­ï¼Œæ‘„åƒæœºçš„è§‚å¯Ÿæ–¹å‘å´æ˜¯zè½´çš„æ­£å€¼æ–¹å‘ã€‚å› æ­¤ï¼ŒglFrustum()çš„nearå’Œfarå‚æ•°å¿…é¡»å¤§äº0ï¼Œæ‰€ä»¥åœ¨æ„å»ºGL_PROJECTIONçŸ©é˜µæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å¯¹å®ƒä»¬å–åã€‚\nåœ¨openGLä¸­ï¼Œè§†è§‰ç©ºé—´ä¸­ä¸€ä¸ª3Dçš„ç‚¹ä¼šè¢«æŠ•å½±åœ¨è¿‘å¹³é¢ä¸Šï¼ˆæŠ•å½±é¢ï¼‰ã€‚ä¸‹é¢çš„ç¤ºæ„å›¾å±•ç¤ºäº†è§†è§‰åæ ‡ç³»ä¸­çš„ç‚¹(xe, ye, ze)æ˜¯å¦‚ä½•æŠ•å½±åˆ°è¿‘å¹³é¢ä¸Šçš„(xp, yp, zp)çš„ã€‚\nä»ä¸Šå‘ä¸‹çœ‹å‘é”¥å½¢æˆªä½“ï¼Œè§†è§‰åæ ‡ç³»çš„xåæ ‡ï¼Œxeä¼šè¢«æ˜ å°„åˆ°xpï¼Œå¯ä»¥é€šè¿‡ç›¸ä¼¼ä¸‰è§’å½¢æ¯”ä¾‹ç‰¹æ€§è®¡ç®—å‡ºxpï¼š\nä»ä¾§é¢çœ‹å‘é”¥å½¢æˆªä½“ï¼Œå¯ä»¥é€šè¿‡åŒæ ·çš„æ–¹æ³•ï¼Œè®¡ç®—å‡ºyp:\nå¯ä»¥çœ‹åˆ°ï¼Œxpå’Œypéƒ½ä¾èµ–äºze,å¹¶ä¸”å’Œ-zeæˆåæ¯”çš„å…³ç³»ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬éƒ½è¢«-zeé™¤ã€‚è¿™æ˜¯æ„å»ºGLPROJECTIONçŸ©é˜µçš„ç¬¬ä¸€ä¸ªçº¿ç´¢ã€‚å½“è§†è§‰åæ ‡ç³»çš„åæ ‡é€šè¿‡ä¹˜ä»¥GLPROJECTIONçŸ©é˜µè½¬åŒ–æˆè£å‰ªåæ ‡ï¼Œè½¬åŒ–åçš„è£å‰ªåæ ‡ä»»ç„¶æ˜¯ä¸€ä¸ª ã€‚æœ€åé€šè¿‡é™¤ä»¥wåˆ†é‡ï¼Œè½¬åŒ–æˆæ ‡å‡†è®¾å¤‡åæ ‡ç³»ï¼ˆNDCï¼‰ã€‚ï¼ˆå¯ä»¥åœ¨ ä¸­äº†è§£æ›´å¤šç»†èŠ‚ã€‚ï¼‰\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†è£å‰ªåæ ‡çš„ç¬¬å››ä¸ªåˆ†é‡è®¾ç½®ä¸º-ze. å› æ­¤GL_PROJECTIONçŸ©é˜µçš„ç¬¬å››è¡Œå˜æˆäº†(0, 0, -1, 0).\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†xpå’Œypæ˜ å°„åˆ°æ ‡å‡†è®¾å¤‡åæ ‡ç³»ä¸­çš„xnå’Œyn, å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çº¿æ€§å…³ç³»è¿›è¡Œæ˜ å°„ï¼š[l, r] =\u0026gt; [-1, 1] å’Œ[b, t] =\u0026gt; [-1, 1]ã€‚\nç„¶åï¼Œæˆ‘ä»¬æŠŠä¸Šé¢ç­‰å¼ä¸­çš„xpå’Œypæ›¿æ¢æ‰ã€‚\næ³¨æ„ï¼Œä¸Šé¢çš„ç­‰å¼ä¸­ï¼Œæœ€åéƒ½è½¬åŒ–ä¸ºé™¤ä»¥-zeï¼Œè¿™æ­£å¥½ä¸é€è§†é™¤æ³•ï¼ˆxc/wc, yc/ wcï¼‰å¯¹åº”ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»å°†wcè®¾ç½®ä¸º-zeäº†ï¼Œå› æ­¤ç­‰å¼æ‹¬å·ä¸­çš„éƒ¨åˆ†ï¼Œå˜æˆäº†xcå’Œycã€‚ é€šè¿‡è¿™äº›ç­‰å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºGL_PROJECTIONçŸ©é˜µçš„ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦å†è®¡ç®—GLPROJECTIONçŸ©é˜µçš„ç¬¬ä¸‰è¡Œäº†ã€‚è®¡ç®—znå’Œè®¡ç®—xnã€ynæœ‰ç‚¹ä¸åŒï¼Œå› ä¸ºè§†è§‰åæ ‡ç³»ä¸­çš„zeæ€»æ˜¯è¢«æŠ•å½±åˆ°è¿‘å¹³é¢ï¼ˆ-nï¼‰ä¸Šã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‹¬ç‰¹çš„zå€¼è¿›è¡Œè£å‰ªå’Œæ·±åº¦æµ‹è¯•ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬è¿˜èƒ½å¤Ÿå¯¹å…¶é€†æŠ•å½±ï¼ˆé€†è½¬æ¢ï¼‰ã€‚å› ä¸ºzä¸xå’Œyæ— å…³ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©wåˆ†é‡æ¥å¯»æ‰¾znå’Œzeçš„å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‡å®šGLPROJECTIONçŸ©é˜µçš„ç¬¬ä¸‰è¡Œå¦‚ä¸‹ï¼š\nåœ¨è§†è§‰åæ ‡ç³»ä¸­weç­‰äº1ï¼Œæ‰€ä»¥ç­‰å¼å˜æˆäº†ï¼š\nä¸ºäº†è®¡ç®—å‡ºç³»æ•°Aå’ŒB, å¯ä»¥åˆ©ç”¨(ze, zn)çš„å…³ç³»ï¼›(-n, -1)å’Œ(-f, 1), å°†ä»–ä»¬æ”¾è¿›ä¸Šé¢çš„ç­‰å¼ä¸­ï¼š\nè®¡ç®—å‡ºAå’ŒBçš„å€¼ï¼š\næˆ‘ä»¬å¾—åˆ°äº†Aå’ŒBçš„å€¼ï¼Œæ‰€ä»¥zeå’Œznçš„å…³ç³»å˜æˆï¼š\næœ€åæˆ‘ä»¬å¾—åˆ°äº†å®Œæ•´çš„GL_PROJECTIONçŸ©é˜µï¼š\nä¸Šé¢çš„æŠ•å½±çŸ©é˜µæ˜¯ä¸€ä¸ªé€šç”¨é”¥å½¢æˆªä½“çš„çŸ©é˜µï¼Œå¦‚æœè§†è§‰ç©ºé—´æ˜¯å¯¹ç§°çš„ï¼Œæ»¡è¶³r=-lå¹¶ä¸”t=-bï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„çŸ©é˜µç®€åŒ–å¦‚ä¸‹ï¼š\nåœ¨è®¨è®ºæ­£å°„æŠ•å½±ä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨é‡æ–°çœ‹ä¸€ä¸‹zeå’Œznçš„å…³ç³»ã€‚é€šè¿‡ç­‰å¼3ï¼Œä½ æ³¨æ„åˆ°è¿™æ˜¯ä¸€ä¸ªå…³ç³»å‡½æ•°ï¼Œä½†æ˜¯zeå’Œznå¹¶ä¸æ˜¯çº¿æ€§å…³ç³»ã€‚è¿™æ„å‘³ç€ï¼Œç¦»è¿‘å¹³é¢è¶Šè¿‘ç²¾åº¦è¶Šé«˜ï¼Œç¦»è¿‘å¹³é¢è¶Šè¿œç²¾åº¦è¶Šä½ã€‚å¦‚æœ[-n, -f]çš„èŒƒå›´è¶Šå¤§ï¼Œå®ƒä¼šå¯¼è‡´ç²¾åº¦é—®é¢˜ï¼ˆz-fightingï¼‰ï¼›åœ¨è¿œå¹³é¢é™„è¿‘çš„ç‚¹çš„zeå€¼å‘ç”Ÿå¾ˆå°çš„å˜åŒ–å¹¶ä¸ä¼šå½±å“znçš„å€¼ã€‚æ‰€ä»¥nå’Œfçš„å·®å€¼å°½é‡å°ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ·±åº¦ç¼“å†²çš„ç²¾åº¦é—®é¢˜ã€‚\næ­£å°„æŠ•å½± æ­£å°„æŠ•å½±çŸ©é˜µçš„å»ºç«‹æ¯”é€è§†æŠ•å½±çŸ©é˜µçš„å»ºç«‹ä¼šç®€å•å¾ˆå¤šã€‚ è§†è§‰ç©ºé—´åæ ‡ç³»ä¸­çš„xeï¼Œyeå’Œzeåˆ†é‡ï¼Œéƒ½ä¼šè¢«çº¿æ€§çš„æ˜ å°„åˆ°æ ‡å‡†è®¾å¤‡åæ ‡ç³»ï¼ˆNDCï¼‰ä¸­ã€‚ä»…éœ€è¦ç¼©æ”¾è§†è§‰ç©ºé—´åˆ°æ ‡å‡†è®¾å¤‡ç©ºé—´ï¼ˆèŒƒå›´æ˜¯-1~+1ï¼‰ä¸­ï¼Œç„¶åå°†å…¶ç§»åŠ¨åˆ°åŸç‚¹ä½ç½®ã€‚æ¥ä¸‹æ¥é€šè¿‡çº¿æ€§å…³ç³»ï¼Œè®¡ç®—GL_PROJECTIONæ­£å°„æŠ•å½±çŸ©é˜µçš„å„ä¸ªå€¼ã€‚\nå› ä¸ºæ­£å°„æŠ•å½±ä¸éœ€è¦wåˆ†é‡ï¼Œæ‰€ä»¥çŸ©é˜µçš„ç¬¬å››è¡Œä»ç„¶ä¸º(0, 0, 0, 1)ã€‚å› æ­¤å®Œæ•´çš„GL_PROJECTIONæ­£å°„æŠ•å½±çŸ©é˜µå¦‚ä¸‹ï¼š\nå¦‚æœæˆªä½“åŒºåŸŸæ˜¯å¯¹ç§°çš„r=-lå¹¶ä¸”t=-b, çŸ©é˜µå¯ä»¥ç®€åŒ–å¦‚ä¸‹ï¼š\n","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2%E4%B8%89/","summary":"æ¦‚è¿° è®¡ç®—æœºæ˜¾ç¤ºå™¨æ˜¯ä¸€ä¸ª2Då¹³é¢ã€‚OpenGLæ¸²æŸ“æ—¶å¿…é¡»å°†ä¸€ä¸ª3Dçš„åœºæ™¯æŠ•å½±åœ¨å±å¹•ä¸Šæˆä¸ºä¸€ä¸ª2Dçš„å›¾ç‰‡ã€‚GL_PROJECTIONçŸ©é˜µçš„å°±æ˜¯ç”¨ä½œè¿™ç§æŠ•å½±å˜æ¢ã€‚é¦–å…ˆï¼Œå…¶å°†æ‰€æœ‰çš„é¡¶ç‚¹æ•°æ®ä»è§†è§‰åæ ‡ç³»ï¼ˆçœ¼åæ ‡ç³»ï¼‰è½¬åŒ–åˆ°è£å‰ªç©ºé—´ã€‚ç„¶åï¼Œé€šè¿‡é™¤ä»¥è£å‰ªåæ ‡ç³»ä¸­çš„wåˆ†é‡ï¼Œå°†è½¬åŒ–åçš„è£å‰ªåæ ‡å˜æ¢æˆ","title":"3Då›¾å½¢å­¦ä¸­çš„çŸ©é˜µå˜æ¢ï¼ˆä¸‰ï¼‰"},{"content":"ä¸€. æ‘„åƒæœº è¿™é‡Œæ¶‰åŠåˆ°ä¸‰ç»´å›¾å½¢å­¦ä¸­çš„æ‘„åƒæœºçš„æ¦‚å¿µã€‚å¤§å®¶è‚¯å®šéƒ½ç©è¿‡æ¸¸æˆï¼Œç°åœ¨æ¸¸æˆå‘å±•é€Ÿåº¦éƒ½ç‰¹åˆ«å¿«ï¼Œå¾ˆå¤šæ¸¸æˆä¸–ç•Œéƒ½æ˜¯3Dçš„ï¼Œä¾‹å¦‚å›½å¤–çš„è’é‡å¤§é•–å®¢ã€å·«å¸ˆä»¥åŠå›½å†…æœ€è¿‘æ¯”è¾ƒç«çš„åŸç¥ã€‚æ¸¸æˆä¸–ç•Œä¸­æ‰€æœ‰çš„ç‰©ä½“ï¼Œä¾‹å¦‚æ¡Œå­ã€æ ‘æœ¨ã€åŠ¨ç‰©ä»¥åŠäº¤é€šå·¥å…·ç­‰ç­‰ï¼Œå®ƒä»¬åœ¨æ¸¸æˆä¸–ç•Œä¸­éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®å°±æ˜¯å®ƒä»¬åœ¨æ¸¸æˆä¸–ç•Œä¸­çš„åæ ‡ï¼Œæˆ‘ä»¬æŠŠå®ƒä»¬åœ¨æ¸¸æˆä¸–ç•Œä¸­çš„ä½ç½®ç§°ä¸ºä¸–ç•Œåæ ‡ã€‚å‡å¦‚åŒæ—¶æœ‰ä¸¤ä¸ªç©å®¶Aå’ŒBåœ¨æ¸¸æˆä¸–ç•Œä¸­æ¼«æ¸¸ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç©å®¶çš„å±å¹•è‚¯å®šæ˜¾ç¤ºçš„æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºç©å®¶åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„ä½ç½®ï¼ˆä¸–ç•Œåæ ‡ï¼‰ä¸ä¸€æ ·ï¼Œå¹¶ä¸”è§†çº¿çš„æ–¹å‘ä¹Ÿä¸åŒï¼Œæ‰€ä»¥ä»–ä»¬çœ‹åˆ°çš„å±å¹•è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™é‡Œçš„Aå’ŒBç©å®¶ï¼Œå…¶å®å°±æ˜¯æ‘„åƒæœºã€‚å‡è®¾æˆ‘ä»¬ä»¥æ‘„åƒæœºï¼ˆç©å®¶ï¼‰ä¸ºåŸç‚¹åˆ›å»ºä¸€ä¸ªæ–°çš„åæ ‡ç³»ï¼Œå¯ä»¥ç§°å®ƒä¸ºæ‘„åƒæœºåæ ‡ç³»ï¼ˆè§‚å¯Ÿç©ºé—´åæ ‡ç³»ï¼‰ã€‚é‚£ä¹ˆåŒæ ·çš„ç‰©ä½“åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­åæ ‡ä¸ºï¼ˆ300ï¼Œ200ï¼‰ï¼Œé‚£ä¹ˆå®ƒç”¨æ‘„åƒæœºåæ ‡ç³»å¦‚ä½•è¡¨ç¤ºå‘¢ï¼Ÿæˆ‘ç”¨äºŒç»´å›¾å½¢æè¿°ä¸‹è¿™ä¸ªé—®é¢˜ã€‚\nå‡è®¾å¹³é¢ä¸­æœ‰ä¸€ç‚¹Aï¼Œæ­¤æ—¶ç‚¹Açš„åæ ‡ä¸º(1, 1)ï¼Œè¡¨ç¤ºAç‚¹åœ¨å¦‚å›¾æ‰€ç¤ºçš„åæ ‡ç³»ä¸­åœ¨åŸç‚¹å³ä¾§1ä¸ªå•ä½ï¼Œä¸Šæ–¹1ä¸ªå•ä½ã€‚å¦‚æœå°†è¿™ä¸ªåæ ‡ç³»æ—‹è½¬45åº¦ï¼Œå˜æˆå¦ä¸€ä¸ªåæ ‡ç³»X2Y2ï¼Œé‚£ä¹ˆåœ¨æ–°çš„åæ ‡ç³»X2Y2ä¸­å¦‚ä½•è¡¨ç¤ºAç‚¹å‘¢ï¼Ÿ\næ—‹è½¬45åº¦ï¼Œå¾ˆå®¹æ˜“è®¡ç®—å‡ºæ¥Aç‚¹åœ¨X2Y2åæ ‡ç³»ä¸­çš„åæ ‡ä¸º(âˆš2, 0)ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ä¸ªçŸ©é˜µAå¯ä»¥ä½¿å¾—AÂ·P1 = P2ï¼Œä¹Ÿå°±æ˜¯ç»è¿‡çŸ©é˜µAçš„å˜æ¢ï¼ŒP1åæ ‡å˜æˆäº†P2ã€‚è¿™é‡ŒP1è¡¨ç¤ºåœ¨åŸæ¥çš„åæ ‡ç³»ä¸­çš„åæ ‡ï¼ŒP2è¡¨ç¤ºåœ¨æ–°çš„åæ ‡ç³»ä¸­åŒä¸€ä¸ªç‚¹çš„åæ ‡è¡¨ç¤ºã€‚å…¶å®è¿™é‡Œçš„Aå°±æ˜¯æœ¬ç¯‡æ–‡ç« è¦è®¨è®ºçš„lookAtçŸ©é˜µã€‚ LookAtçŸ©é˜µçš„ä½œç”¨å°±æ˜¯ï¼Œå°†ä¸–ç•Œåæ ‡ç³»ä¸­çš„ç‰©ä½“åæ ‡è½¬æ¢ä¸ºç”¨æ‘„åƒæœºåæ ‡ç³»ç»Ÿæè¿°ï¼Œè¯´ç™½äº†å°±æ˜¯åœ¨ä¸åŒåæ ‡ç³»ä¸­æè¿°åŒä¸€ä¸ªä½ç½®ã€‚ ä¸‹é¢æ˜¯learnopengl_cnå®˜ç½‘ç»™å‡ºçš„è§£é‡Šï¼š\nå½“æˆ‘ä»¬è®¨è®ºæ‘„åƒæœº/è§‚å¯Ÿç©ºé—´(Camera/View Space)çš„æ—¶å€™ï¼Œæ˜¯åœ¨è®¨è®ºä»¥æ‘„åƒæœºçš„è§†è§’ä½œä¸ºåœºæ™¯åŸç‚¹æ—¶åœºæ™¯ä¸­æ‰€æœ‰çš„é¡¶ç‚¹åæ ‡ï¼šè§‚å¯ŸçŸ©é˜µæŠŠæ‰€æœ‰çš„ä¸–ç•Œåæ ‡å˜æ¢ä¸ºç›¸å¯¹äºæ‘„åƒæœºä½ç½®ä¸æ–¹å‘çš„è§‚å¯Ÿåæ ‡ã€‚\näºŒ. æ·±å…¥çº¿æ€§å˜æ¢çŸ©é˜µ é¦–å…ˆæˆ‘ç»™å¤§å®¶è®²è¿°ä¸€ä¸ªå¾ˆé‡è¦çš„äº‹å®ï¼Œåœ¨æˆ‘ä¸Šç¯‡æ–‡ç« ä¸­è¯´çš„å‡ ä¸ªå˜æ¢çŸ©é˜µï¼Œçº¿æ€§å˜æ¢çŸ©é˜µçš„æ¯ä¸€åˆ—è¡¨ç¤ºçš„éƒ½æ˜¯å˜æ¢åçš„åæ ‡ç³»çš„xã€yã€zè½´çš„å•ä½å‘é‡çš„è¡¨ç¤ºï¼Œå³iå¸½ã€jå¸½å’Œkå¸½ã€‚è¯·ç‰¢ç‰¢è®°ä½è¿™ä¸€é‡è¦ç‰¹æ€§ï¼Œå› ä¸ºè¿™ä¸€ä¸ªç‰¹æ€§çœŸçš„å¾ˆé‡è¦ï¼Œå®ƒä¼šç›´æ¥å½±å“ä½ çš„çº¿æ€§ä»£æ•°çš„æ€ç»´ã€‚ä½ å¯èƒ½ç°åœ¨è¿˜æ²¡æœ‰è®¤è¯†åˆ°è¿™ä¸€ç‰¹å¾ï¼Œæ²¡å…³ç³»ï¼Œè¯·ç»§ç»­é˜…è¯»ã€‚\nè¿˜æ˜¯ä»¥ä¹‹å‰çš„Aç‚¹çš„ä¾‹å­ä¸ºä¾‹ï¼Œæ¥è¯´æ˜è¿™ä¸€æ€æƒ³ã€‚Aç‚¹åæ ‡æ˜¯(1, 1), å‘é‡OAä¹Ÿæ˜¯(1, 1)ï¼Œç”¨iå¸½å’Œjå¸½è¡¨ç¤ºçš„è¯OA = 1 i + 1 jã€‚\næ­¤æ—¶ï¼Œæˆ‘ä»¬å°†åæ ‡ç³»æ—‹è½¬45åº¦ï¼Œå˜æˆä¸‹å›¾æ‰€ç¤ºã€‚è¿™é‡Œæˆ‘é¡ºä¾¿å°å°çš„æä¸€ä¸‹ï¼Œçº¿æ€§å˜æ¢å°±æ˜¯ä¿è¯æˆ‘ç”»çš„ç½‘æ ¼çº¿å¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¼šç”»ä¸€äº›ç½‘æ ¼åœ¨å›¾ä¸­ï¼Œä¸Šä¸€ç¯‡æ–‡ç« è®²è§£çš„å‡ ä¸ªå˜æ¢çŸ©é˜µéƒ½æ˜¯çº¿æ€§å˜æ¢ã€‚\næ­£æ˜¯å› ä¸ºæ˜¯çº¿æ€§å˜æ¢ï¼Œæ‰€ä»¥å˜æ¢åçš„Aç‚¹æ»¡è¶³å¦‚ä¸‹å…¬å¼ï¼šOAÂ = 1 i2Â + 1 j2ã€‚å› ä¸ºæ—‹è½¬45åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¡ç®—å‡ºi2å’Œj2åˆ†åˆ«ä¸º(âˆš2 / 2, âˆš2 / 2)å’Œ(-âˆš2 / 2, âˆš2 / 2)ã€‚æ‰€ä»¥OAÂ = (0, âˆš2 )ã€‚\nè¯·ä»”ç»†é˜…è¯»æˆ‘ä¸Šå›¾ä¸­çš„è®¡ç®—æ­¥éª¤ï¼Œè¯·ä¿è¯ä½ èƒ½çœ‹æ‡‚æ•´ä¸ªè®¡ç®—è¿‡ç¨‹ã€‚ ä¸Šå›¾ä¸­æˆ‘å†™äº†ä¸€ä¸ªå˜æ¢çŸ© é˜µï¼Œè¿™ä¸ªå˜æ¢çŸ©é˜µå…¶å®å°±æ˜¯æˆ‘ä»¬æ—‹è½¬45åº¦çš„æ—‹è½¬çŸ©é˜µã€‚ç»†å¿ƒçš„æœ‹å‹å·²ç»å‘ç°äº†ï¼ŒçŸ©é˜µçš„ç¬¬ä¸€åˆ—å°±æ˜¯å˜æ¢åçš„iå¸½ï¼Œç¬¬äºŒåˆ—å°±æ˜¯å˜æ¢åçš„jå¸½ã€‚æ‰€ä»¥è¿˜è®°å¾—æˆ‘ä¹‹å‰è¯´çš„é‚£ä¸ªçœŸç†å—ï¼Ÿ çº¿æ€§å˜æ¢çŸ©é˜µçš„æ¯ä¸€åˆ—è¡¨ç¤ºçš„éƒ½æ˜¯å˜æ¢åçš„åæ ‡ç³»çš„xã€yã€zè½´çš„å•ä½å‘é‡çš„è¡¨ç¤ºã€‚\nä¸‰.é€†çŸ©é˜µ è¿˜æ˜¯ç”¨ä¹‹å‰çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†å˜æ¢å‰çš„åæ ‡ç³»ç§°ä¸ºxyo, å˜æ¢åçš„åæ ‡ç³»ç§°ä¸ºx2y2oã€‚xyo-\u0026gt; x2y2oçš„å˜æ¢çŸ©é˜µå¦‚ä¸‹ï¼ˆåé¢æˆ‘å°†å…¶ç§°ä¸ºMatAï¼‰ï¼Œæ¯ä¸€åˆ—è¡¨ç¤ºçš„æ˜¯x2y2oåæ ‡ç³»çš„xå’Œyæ–¹å‘çš„å•ä½å‘é‡åœ¨xyoåæ ‡ç³»ä¸­çš„è¡¨ç¤ºã€‚æ‰€ä»¥å°†è¿™ä¸ªçŸ©é˜µä¹˜ä»¥ä¸€ä¸ªåæ ‡ï¼Œå…¶å®å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåœ¨xyoåæ ‡ç³»ä¸­è¡¨ç¤ºçš„åæ ‡ã€‚\nä¾‹å¦‚ï¼Œä¾‹å¦‚ç‚¹A(1, 1)ï¼Œè®¡ç®—MatA Â· A = B,å¾—åˆ°çš„ç‚¹Bæ˜¯ç»è¿‡çº¿æ€§å˜æ¢åAçš„åæ ‡ï¼Œä½†æ˜¯è¿™ä¸ªåæ ‡è¿˜æ˜¯ç”¨xyoåæ ‡ç³»è¡¨ç¤ºçš„ï¼Œ ç‚¹Açš„åæ ‡å´æ˜¯åœ¨x2y2oåæ ‡ç³»ä¸­çš„è¡¨ç¤ºã€‚æ‰€ä»¥è¿™é‡ŒMatAçš„ä½œç”¨å°±æ˜¯å°†x2y2oåæ ‡ç³»çš„è¡¨ç¤ºè½¬åŒ–ä¸ºxyoåæ ‡ç³»è¡¨ç¤ºã€‚é‚£ä¹ˆåè¿‡æ¥å‘¢ï¼Œxyo -\u0026gt; x2y2oå¦‚ä½•è½¬æ¢ï¼Ÿ è¿™é‡Œå¼•å…¥é€†çŸ©é˜µçš„æ€æƒ³ï¼Œé€†çŸ©é˜µè¡¨ç¤ºç›¸åçš„çº¿æ€§å˜æ¢ï¼Œ ç”±MatA Â· A = Bå¾—åˆ° A = ï¼ˆMatA^-1) Â· B ï¼ŒÂ MatA^-1Â è¡¨ç¤ºçš„æ˜¯MatAçš„é€†çŸ©é˜µã€‚æ‰€ä»¥æœ‰MatA Â· A = Bå’ŒA = ï¼ˆMatA^-1) Â· Bè¿™ä¸¤ä¸ªå…¬å¼ï¼Œå°±å¯ä»¥å¾—åˆ°åŒä¸€ç‚¹åœ¨xyoå’Œx2y2oä¸­çš„è¡¨ç¤ºæ–¹æ³•ã€‚ è¿™ä¸æ­£æ˜¯lookAtçŸ©é˜µçš„ä½œç”¨å—ï¼ŸlookAtçŸ©é˜µå°±æ˜¯åœ¨ä¸åŒåæ ‡ç³»ä¸‹å¦‚ä½•è¡¨ç¤ºåŒä¸€ç‚¹ã€‚\nå››.lookAtçŸ©é˜µ å…¶å®è¿™éƒ¨åˆ†ç±»å®¹å·²ç»ä¸é‡è¦äº†ï¼Œå› ä¸ºé€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œä½ å·²ç»çŸ¥é“å¦‚ä½•å»è½¬æ¢åæ ‡ç³»äº†ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯ç®€å•çš„ä»‹ç»ä¸‹learnOpengl_cnå®˜ç½‘çš„lookAtçŸ©é˜µå§ã€‚ LookAtçŸ©é˜µå¦‚ä¸‹ï¼Œ (Rx, Ry, Rz)è¡¨ç¤ºæ‘„åƒæœºçš„Xè½´æ–¹å‘å‘é‡ï¼Œ(Ux, Uy, Uz)è¡¨ç¤ºæ‘„åƒæœºåæ ‡ç³»çš„Yè½´æ–¹å‘ï¼Œ(Dx, Dy, Dz)è¡¨ç¤ºæ‘„åƒæœºçš„è§†çº¿æ–¹å‘åŠZè½´ã€‚ (Px, Py, Pz)è¡¨ç¤ºæ‘„åƒæœºä½ç½®çš„ä¸–ç•Œåæ ‡ã€‚\né€šè¿‡ä¸Šé¢çš„é˜…è¯»ï¼Œç°åœ¨çœ‹è¿™ä¸ªçŸ©é˜µï¼Œä½ èƒ½å¦è‡ªå·±ç»™å‡ºè¯æ˜å‘¢? çŸ©é˜µçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªå¹³ç§»çŸ©é˜µï¼Œç›®çš„æ˜¯å¹³ç§»åˆ°(px, py, pz)ï¼ŒçŸ©é˜µä¸­px,py,pzéƒ½åŠ ä¸Šäº†è´Ÿå·ï¼Œæ˜¯å› ä¸ºè¿™é‡Œç§»åŠ¨çš„ä¸æ˜¯æ‘„åƒæœºè€Œæ˜¯æ•´ä¸ªåœºæ™¯ï¼Œå°†åœºæ™¯å‘ç›¸åæ–¹å‘ç§»åŠ¨ç­‰ä»·äºç§»åŠ¨æ‘„åƒæœºã€‚çŸ©é˜µçš„ç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢çš„é€†çŸ©é˜µã€‚è®¡ç®—é€†çŸ©é˜µé€šå¸¸éœ€è¦è®¡ç®—éé€†çŸ©é˜µï¼Œé‚£ä¹ˆéé€†çŸ©é˜µæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘åœ¨ç¬¬äºŒèŠ‚å†…å®¹è¯´åˆ°ï¼Œçº¿æ€§å˜æ¢çŸ©é˜µçš„æ¯ä¸€åˆ—è¡¨ç¤ºçš„éƒ½æ˜¯å˜æ¢åçš„åæ ‡ç³»çš„xã€yã€zè½´çš„å•ä½å‘é‡çš„è¡¨ç¤ºã€‚æ‰€ä»¥ç”± (Rx, Ry, Rz), (Ux, Uy, Uz), (Dx, Dy, Dz), æˆ‘ä»¬å¾ˆå®¹æ˜“å†™å‡ºçº¿æ€§å˜æ¢çŸ©é˜µã€‚\nè¿™ä¸ªçº¿æ€§å˜æ¢çŸ©é˜µæˆ‘ç”¨Mat1è¡¨ç¤ºï¼Œå¹³ç§»çŸ©é˜µç”¨Mat2è¡¨ç¤ºï¼Œæ‰€ä»¥lookAtçŸ©é˜µå¦‚ä¸‹ï¼š LookAt = (Mat1^-1) Â· Mat2ã€‚ é€†çŸ©é˜µçš„è®¡ç®—å¹¶ä¸é‡è¦ï¼Œå†™ä»£ç æ—¶ï¼Œä¸€èˆ¬å¯ä»¥ç›´æ¥ç”¨å‡½æ•°å»æ±‚è§£é€†çŸ©é˜µï¼Œé‡è¦çš„æ˜¯ä½ è¦ç†è§£æˆ‘åœ¨æœ¬ç¯‡æ–‡ç« ä»‹ç»çš„æ€æƒ³ã€‚æœ¬ç¯‡æ–‡ç« å¯èƒ½ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œæˆ‘å·²ç»æŠŠæˆ‘ç†è§£çš„å°½å¯èƒ½è¯¦ç»†çš„å»æè¿°è®²è§£å‡ºæ¥äº†ï¼Œä½ å¯ä»¥å¤šè¯»å‡ éï¼Œå¸¦å…¥æ€è€ƒå»é˜…è¯»ã€‚\n","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2%E4%BA%8C/","summary":"ä¸€. æ‘„åƒæœº è¿™é‡Œæ¶‰åŠåˆ°ä¸‰ç»´å›¾å½¢å­¦ä¸­çš„æ‘„åƒæœºçš„æ¦‚å¿µã€‚å¤§å®¶è‚¯å®šéƒ½ç©è¿‡æ¸¸æˆï¼Œç°åœ¨æ¸¸æˆå‘å±•é€Ÿåº¦éƒ½ç‰¹åˆ«å¿«ï¼Œå¾ˆå¤šæ¸¸æˆä¸–ç•Œéƒ½æ˜¯3Dçš„ï¼Œä¾‹å¦‚å›½å¤–çš„è’é‡å¤§é•–å®¢ã€å·«å¸ˆä»¥åŠå›½å†…æœ€è¿‘æ¯”è¾ƒç«çš„åŸç¥ã€‚æ¸¸æˆä¸–ç•Œä¸­æ‰€æœ‰çš„ç‰©ä½“ï¼Œä¾‹å¦‚æ¡Œå­ã€æ ‘æœ¨ã€åŠ¨ç‰©ä»¥åŠäº¤é€šå·¥å…·ç­‰ç­‰ï¼Œå®ƒä»¬åœ¨æ¸¸æˆä¸–ç•Œä¸­éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®å°±æ˜¯å®ƒ","title":"3Då›¾å½¢å­¦ä¸­çš„çŸ©é˜µå˜æ¢ï¼ˆäºŒï¼‰"},{"content":"ä¸€. ç‚¹å’Œå‘é‡ å¹³é¢ä¸­ä»»æ„ä¸€ä¸ªç‚¹å¯ä»¥ç”¨ä¸€ä¸ªäºŒå…ƒæ•°åˆ—è¡¨ç¤ºï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­(0, 0)ç‚¹è¡¨ç¤ºåŸç‚¹ï¼Œ(1, 1)è¡¨ç¤ºåŸç‚¹å¾€xè½´æ–¹å‘ç§»åŠ¨1æ­¥ï¼Œå¾€yè½´æ–¹å‘ç§»åŠ¨1æ­¥å¾—åˆ°çš„ç‚¹ï¼Œè€Œå‘é‡å°±å½¢è±¡çš„è¡¨ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼Œ(0, 0)è‡³(1, 1)ç‚¹çš„å‘é‡å°±æ˜¯(1 - 0, 1 - 0)ï¼Œå³(1, 1)ã€‚å‘é‡æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ–¹å‘å’Œå¤§å°çš„æ¦‚å¿µï¼Œåœ¨ç‰©ç†ä¸­å¯ä»¥ç”¨æ¥è¡¨ç¤ºåŠ›å’Œé€Ÿåº¦ã€‚åœ¨ä¸‰ç»´ä¸­ï¼Œç‚¹å’Œå‘é‡ç”¨ä¸‰å…ƒæ•°åˆ—è¡¨ç¤º(x, y, z)ï¼Œä»»æ„ä¸€ç»„xyzå€¼å¯ä»¥å”¯ä¸€ç¡®å®šä¸€ä¸ªç‚¹å’Œä¸€ä¸ªå‘é‡ã€‚\näºŒ. å˜æ¢çŸ©é˜µ åœ¨å›¾å½¢å­¦ä¸­ï¼Œåœ¨åšå¹³ç§»ï¼Œæ—‹è½¬å’Œç¼©æ”¾æ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°çŸ©é˜µï¼Œæœ‰ç¼©æ”¾çŸ©é˜µã€å¹³ç§»çŸ©é˜µå’Œæ—‹è½¬çŸ©é˜µã€‚åœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼Œå˜æ¢çŸ©é˜µéƒ½æ˜¯ä¸€ä¸ªå››ç»´çŸ©é˜µï¼Œæ¯ä¸€è¡Œåˆ†åˆ«è¡¨ç¤ºx, y, z, wã€‚ä¸ºä»€ä¹ˆæ˜¯å››ç»´çš„è€Œä¸æ˜¯ä¸‰ç»´çš„å‘¢ï¼Ÿè¯·ç»§ç»­å¾€ä¸‹é˜…è¯»ã€‚\n1. ç¼©æ”¾çŸ©é˜µï¼ˆscaleï¼‰ ä¸Šé¢çš„å…¬å¼ï¼Œå·¦è¾¹çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆå››ç»´çŸ©é˜µï¼‰å°±æ˜¯ä¸€ä¸ªç¼©æ”¾çŸ©é˜µï¼Œs1è¡¨ç¤ºxè½´çš„ç¼©æ”¾å€æ•°ï¼Œs2è¡¨ç¤ºyè½´çš„ç¼©æ”¾å€æ•°ï¼Œs3è¡¨ç¤ºzè½´çš„ç¼©æ”¾å€æ•°ã€‚ç¬¬äºŒä¸ªæ“ä½œæ•°è¡¨ç¤ºç©ºé—´ä¸­(x, y, z)ç‚¹ï¼Œ wåˆ†é‡åœ¨ç¼©æ”¾çŸ©é˜µä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œæˆ‘ä»¬å°†å…¶è®¾ä¸º1ã€‚ç”±å³è¾¹çš„ç»“æœï¼Œå¯ä»¥çœ‹å‡º(x, y, z)ç‚¹ç»è¿‡ç¼©æ”¾çŸ©é˜µå˜æ¢åï¼Œxã€yã€zåˆ†é‡éƒ½å„è‡ªç¼©æ”¾äº†s(s1ã€s2ã€s3)å€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯çŸ©é˜µçš„ä¹˜æ³•ä¸å…·æœ‰äº¤æ¢å¾‹ï¼Œè¿™é‡Œç‚¹æ˜¯ç”¨ä¸€ç»´åˆ—çŸ©é˜µè¡¨ç¤ºçš„ï¼Œä½œä¸ºçŸ©é˜µä¹˜æ³•çš„å³æ“ä½œæ•°ã€‚å¦‚æœå°†å…¶è½¬æ¢åˆ°ä¹˜æ³•çš„å·¦è¾¹ï¼Œé‚£ä¹ˆç‚¹åº”è¯¥ç”¨ä¸€ç»´è¡ŒçŸ©é˜µè¡¨ç¤ºï¼š\nç¼©æ”¾çŸ©é˜µæ¯”è¾ƒç®€å•ï¼Œä¸éœ€è¦è¯æ˜ï¼Œåªéœ€è¦ä¼šç®€å•çš„ä¹˜æ³•ï¼Œå°±å¯ä»¥çœ‹å‡ºx,y,zç»è¿‡ç¼©æ”¾çŸ©é˜µçš„å˜æ¢ç¡®å®è¢«ç¼©æ”¾äº†ã€‚\n2.å¹³ç§»çŸ©é˜µï¼ˆtranslationï¼‰ å¹³ç§»çŸ©é˜µä¹Ÿç§°ä½ç§»çŸ©é˜µï¼Œå¹³ç§»çŸ©é˜µç”¨åˆ°äº†ç¬¬å››åˆ—ï¼ˆwåˆ—ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸‰ç»´ç©ºé—´å˜æ¢çŸ©é˜µä¸ºä»€ä¹ˆæ˜¯å››ç»´çš„ã€‚å¹³ç§»çŸ©é˜µä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ç»“æœçœ‹å‡ºæƒ³x ã€yã€zç¡®å®å„è‡ªå¹³ç§»äº†Tæ­¥ã€‚\n3. æ—‹è½¬çŸ©é˜µ æ—‹è½¬çŸ©é˜µï¼Œç›¸å¯¹éš¾ä¸€äº›ï¼Œä¹Ÿä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ç†è§£ï¼Œæˆ‘ä»¬å…ˆçœ‹æœ€åŸºç¡€çš„ç»•xã€yã€zè½´æ—‹è½¬çš„æ—‹è½¬çŸ©é˜µã€‚ æ²¿xè½´ï¼š\næ²¿yè½´ï¼š\næ²¿zè½´ï¼š\nå¼•å…¥äº†ä¸‰è§’å‡½æ•°ï¼Œæˆ‘ä»¬æ— æ³•ä»ç»“æœçœ‹å‡ºæ—‹è½¬çŸ©é˜µæ˜¯å¦æ­£ç¡®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¯æ˜ã€‚ä¸‹é¢æˆ‘ç»™å‡ºæ²¿zè½´æ—‹è½¬çš„å˜æ¢çŸ©é˜µè¯æ˜è¿‡ç¨‹ï¼Œå…¶ä»–è½´åŒç†å¯è¯ã€‚\nå‡è®¾æœ‰å¦‚å›¾çš„ç‚¹p1ï¼Œå› ä¸ºç»•zè½´æ—‹è½¬ï¼Œç‚¹çš„zå€¼æ˜¯ä¸å˜çš„ï¼Œæˆ‘ä»¬å°†å…¶è®¾ä¸º0ï¼Œè¿™æ ·å¯ä»¥å°†å…¶æ¨¡æ‹ŸæˆäºŒç»´å¹³é¢xyä¸­æ—‹è½¬ã€‚å‡è®¾p1ç»•åŸç‚¹æ—‹è½¬bè§’åº¦ï¼Œåˆå§‹è§’åº¦ä¸ºaã€‚æ•´ä¸ªè¯æ˜è¿‡ç¨‹å¦‚ä¸‹ï¼š\n// ç»è¿‡æ—‹è½¬åå‘é‡çš„é•¿åº¦ä¸å˜ä¸ºL(åŸç‚¹åˆ°p1å’Œp2çš„è·ç¦»ç›¸åŒ) // ç”±ä¸‰è§’å‡½æ•°å¾—åˆ°sin(a + b), cos(a + b)çš„å€¼ cos(a + b) = x2 / L; sin(a + b) = y2 / L; // å±•å¼€sin(a + b)å’Œcos(a + b) cos(a) cos(b) - sin(a) sin(b) = x2 / L; sin(a) cos(b) + cos(a) sin(b) = y2 / L; // ç”¨xå’Œyè¡¨ç¤ºcos(a)å’Œsin(a) x / L cos(b) - y / L sin(b) = x2 / L; y / L cos(b) + x / L sin(b) = y2 / L; // ç­‰å¼ä¸¤è¾¹åŒæ—¶ä¹˜ä»¥L x cos(b) - y sin(b) = x2; y cos(b) + x sin(b) = y2; å°†x2å’Œy2çš„ç»“æœä¸ä¸Šé¢zè½´æ—‹è½¬çŸ©é˜µç»“æœæ¯”è¾ƒï¼Œå‘ç°æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚ æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åŒç†å¯è¯ç»•xè½´æ—‹è½¬å’Œç»•zè½´æ—‹è½¬çš„çŸ©é˜µã€‚ é‚£ä¹ˆç»•ä»»æ„è½´æ—‹è½¬çš„çŸ©é˜µå‘¢ï¼Ÿ ç›´æ¥ç»™å‡ºäº†ç»•ä»»æ„è½´æ—‹è½¬çš„çŸ©é˜µï¼Œ(Rx, Ry, Rz)è¡¨ç¤ºä»»æ„è½´ï¼ŒÎ¸è¡¨ç¤ºæ—‹è½¬çš„çŸ©é˜µã€‚è¿™ä¸ªçŸ©é˜µè¯æ˜æ¯”è¾ƒå¤æ‚ã€‚\næˆ‘å°±ä¸å»ç»™å¤§å®¶è¯æ˜äº†ï¼Œæˆ‘ç»™å‡ºè¯æ˜çš„æ€è·¯ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å°è¯•å»è¯æ˜ã€‚ firstï¼Œæˆ‘ä»¬å¯ä»¥å°†ç»•ä»»æ„è½´æ—‹è½¬è½¬æ¢æˆç»•xï¼Œyï¼Œzè½´æ—‹è½¬ã€‚æ‰€ä»¥å…ˆå°†è½´(Rx, Ry, Rz)è½¬æ¢æˆæŸä¸€ä¸ªè½´ï¼Œä¾‹å¦‚è½¬æ¢æˆzè½´ã€‚å¦‚å›¾å°†è½´ç»•Yè½´æ—‹è½¬Î¸è§’åº¦è‡³yzå¹³é¢ã€‚\nåœ¨å°†è½´ç»•xè½´æ—‹è½¬aè§’åº¦è‡³zè½´é‡åˆã€‚\nç°åœ¨ç‰©ä½“ç»•è¯¥è½´æ—‹è½¬ï¼Œå°±æ˜¯ç»•zè½´æ—‹è½¬äº†ã€‚æ—‹è½¬å®Œæˆåï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†æ—‹è½¬è½´æ¢å¤è‡³æœ€åˆçš„ä½ç½®ï¼Œå³å°†ä¸Šé¢çš„æ­¥éª¤é€†æ“ä½œä¸€éï¼Œå…ˆç»•xè½´æ—‹è½¬-aè§’åº¦ï¼Œå†æŒ‰ç…§yè½´æ—‹è½¬-Î¸è§’åº¦ã€‚è¿™ä¸€ç³»åˆ—å˜æ¢æœ€åå¾—åˆ°çš„çŸ©é˜µå°±æ˜¯ç»•ä»»æ„è½´æ—‹è½¬çš„çŸ©é˜µã€‚\n","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E5%8F%98%E6%8D%A2%E4%B8%80/","summary":"ä¸€. ç‚¹å’Œå‘é‡ å¹³é¢ä¸­ä»»æ„ä¸€ä¸ªç‚¹å¯ä»¥ç”¨ä¸€ä¸ªäºŒå…ƒæ•°åˆ—è¡¨ç¤ºï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­(0, 0)ç‚¹è¡¨ç¤ºåŸç‚¹ï¼Œ(1, 1)è¡¨ç¤ºåŸç‚¹å¾€xè½´æ–¹å‘ç§»åŠ¨1æ­¥ï¼Œå¾€yè½´æ–¹å‘ç§»åŠ¨1æ­¥å¾—åˆ°çš„ç‚¹ï¼Œè€Œå‘é‡å°±å½¢è±¡çš„è¡¨ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼Œ(0, 0)è‡³(1, 1)ç‚¹çš„å‘é‡å°±æ˜¯(1 - 0, 1 - 0)ï¼Œå³(1, 1)ã€‚å‘é‡æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ–¹å‘å’Œå¤§å°çš„æ¦‚","title":"3Då›¾å½¢å­¦ä¸­çš„çŸ©é˜µå˜æ¢ï¼ˆä¸€ï¼‰"},{"content":"é€†çš„å®šä¹‰ $$ çŸ©é˜µçš„é€†å¯ä»¥ç†è§£ä¸º å¦‚æœæœ‰ä¸€ä¸ªçŸ©é˜µMï¼Œå®ƒä¸å®ƒçš„é€†M^{-1}ç›¸ä¹˜èƒ½å¤Ÿå¾—åˆ°å•ä½çŸ©é˜µI $$ $$ é‚£ä¹ˆçŸ©é˜µM^{-1}å’ŒçŸ©é˜µMäº’ä¸ºé€†çš„å…³ç³» $$\nçŸ©é˜µçš„é€†æ»¡è¶³äºä¸ç®¡æ˜¯å·¦ä¹˜è¿˜æ˜¯å³ä¹˜å®ƒçš„é€†ï¼Œéƒ½èƒ½å¤Ÿå¾—åˆ°å•ä½çŸ©é˜µ çŸ©é˜µçš„æ±‚é€†æ˜¯ä¸€ä¸ªé‡è¦çš„çŸ©é˜µè¿ç®—ï¼Œè¿™ä¸ªè¿ç®—åªèƒ½ç”¨äºæ–¹é˜µã€‚ ç›¸ä¹˜æ—¶ï¼Œç»“æœæ—¶å•ä½çŸ©é˜µã€‚ç”¨å…¬å¼è¡¨ç¤ºï¼š\n$$ æ–¹é˜µMçš„é€†ï¼Œè®°ä½œM^{-1}ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œå½“Mä¸M^{-1} $$\nå¹¶éæ‰€æœ‰çŸ©é˜µéƒ½æœ‰é€†ã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¾‹å­æ˜¯è‹¥çŸ©é˜µçš„æŸä¸€è¡Œæˆ–åˆ—ä¸Šçš„å…ƒç´ éƒ½ä¸ºé›¶ï¼Œç”¨ä»»ä½•çŸ©é˜µä¹˜ä»¥è¯¥çŸ©é˜µï¼Œç»“æœéƒ½æ˜¯ä¸€ä¸ªé›¶çŸ©é˜µã€‚ å¦‚æœä¸€ä¸ªçŸ©é˜µæœ‰é€†çŸ©é˜µï¼Œé‚£ä¹ˆç§°å®ƒä¸ºå¯é€†çš„æˆ–éå¥‡å¼‚çš„ã€‚å¦‚æœä¸€ä¸ªçŸ©é˜µæ²¡æœ‰é€†çŸ©é˜µï¼Œåˆ™ç§°å®ƒä¸ºä¸å¯é€†çš„æˆ–å¥‡å¼‚çŸ©é˜µã€‚ å¥‡å¼‚çŸ©é˜µçš„è¡Œåˆ—å¼ä¸ºé›¶ï¼Œéå¥‡å¼‚çŸ©é˜µçš„è¡Œåˆ—å¼ä¸ä¸ºé›¶ï¼Œæ‰€ä»¥æ£€æµ‹è¡Œåˆ—å¼çš„å€¼å¼åˆ¤æ–­çŸ©é˜µæ˜¯å¦å¯é€†çš„æœ‰æ•ˆæ–¹æ³•ã€‚ $$ æ­¤å¤–ï¼Œå¯¹äºä»»æ„å¯é€†çŸ©é˜µMï¼Œå½“ä¸”ä»…å½“v = 0 v=0v=0æ—¶ï¼Œv M = 0 vM=0vM=0 $$\nè®¡ç®—çŸ©é˜µçš„é€† ğŸ’¡ è¦è®¡ç®—ä¸€ä¸ªçŸ©é˜µçš„é€†ï¼Œå‰ææ˜¯ï¼Œå®ƒå¾—æ˜¯ä¸€ä¸ªæ–¹é˜µ ğŸ’¡ å¦‚æœä¸€ä¸ªæ–¹é˜µå®ƒçš„è¡Œåˆ—å¼ä¸º0ï¼Œé‚£ä¹ˆè¿™ä¸ªçŸ©é˜µè¢«ç§°ä¸ºå¥‡å¼‚çŸ©é˜µï¼Œå®ƒå°±æ²¡æœ‰é€† è¦æ±‚çŸ©é˜µçš„é€†ï¼Œå¿…é¡»è¦ä¿è¯å…¶è¡Œåˆ—å¼ä¸ä¸º0\n1.è®¡ç®—Mçš„ä»£æ•°ä½™å­å¼çŸ©é˜µ 2.æ ‡å‡†ä¼´éšçŸ©é˜µ å½“å¾—åˆ°MçŸ©é˜µçš„ä»£æ•°ä½™å­å¼çŸ©é˜µè¿‡åï¼Œéœ€è¦æŠŠè¿™ä¸ªä»£æ•°ä½™å­å¼çŸ©é˜µè¿›è¡Œä¸€ä¸ªè½¬ç½® è½¬ç½®è¿‡åçš„ä»£æ•°ä½™å­å¼çŸ©é˜µå°±å«åšåŸçŸ©é˜µçš„æ ‡å‡†ä¼´éšçŸ©é˜µ\n3.çŸ©é˜µæ±‚é€† ğŸ’¡ ç”¨ä¼´éšçŸ©é˜µå»é™¤ä»¥MçŸ©é˜µçš„è¡Œåˆ—å¼ï¼ŒMçŸ©é˜µçš„è¡Œåˆ—å¼çš„ç»“æœæ˜¯ä¸€ä¸ªæ ‡é‡å€¼ ä¼´éšçŸ©é˜µå’ŒåŸçŸ©é˜µé˜¶æ•°ç›¸åŒï¼Œç”¨adjMé™¤ä»¥è¡Œåˆ—å¼çš„ç»“æœï¼Œå³å¯å¾—å‡ºMçš„é€†\nå®šä¹‰æ£€éªŒ çŸ©é˜µé€†çš„æ€§è´¨ çŸ©é˜µé€†çš„é‡è¦æ€§è´¨ï¼š\nå¦‚æœMæ—¶éå¥‡å¼‚çŸ©é˜µï¼Œåˆ™è¯¥çŸ©é˜µçš„é€†çš„é€†ç­‰äºåŸçŸ©é˜µ$(m^{-1})^{-1}=M$ å•ä½çŸ©é˜µçš„é€†æ˜¯å®ƒæœ¬èº«ï¼š$I^{-1}=I$ çŸ©é˜µè½¬ç½®çš„é€†ç­‰äºå®ƒçš„é€†çš„è½¬ç½®ï¼š$ï¼ˆM^Tï¼‰^{-1}=(M^{-1})^T$ çŸ©é˜µä¹˜ç§¯çš„é€†ç­‰äºçŸ©é˜µçš„é€†çš„ç›¸åé¡ºåºçš„ä¹˜ç§¯ï¼š$(AB)^{-1}=B^{-1}A^{-1}$ã€‚è¿™å¯æ‰©å±•åˆ°å¤šä¸ªçŸ©é˜µçš„æƒ…å†µï¼š$(M_1M_2â€¦M_{m-1}M_m)^{-1}=M_m^{-1}M_{m-1}^{-1}â€¦M_2^{-1}M_1^{-1}$ æ­£äº¤çŸ©é˜µå’Œé€† ğŸ’¡ è‹¥æ–¹é˜µMæ˜¯æ­£äº¤çš„ï¼Œåˆ™å½“ä¸”ä»…å½“$M$ä¸å®ƒè½¬ç½®$M^T$çš„ä¹˜ç§¯ç­‰äºå•ä½çŸ©é˜µ å½“$M$ä¸å®ƒè½¬ç½®$M^T$çš„ä¹˜ç§¯ç­‰äºå•ä½çŸ©é˜µï¼Œåˆ™Mæ˜¯æ­£äº¤ $Mæ­£äº¤â‡”MM^T=I$\nğŸ’¡ å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿé¢„å…ˆçŸ¥é“æŸäº›çŸ©é˜µæ˜¯æ­£äº¤çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½é¿å…è®¡ç®—è¿™ä¸ªçŸ©é˜µçš„é€† ğŸ’¡ ä»…æ‹¥æœ‰æ—‹è½¬æˆ–ä»…æ‹¥æœ‰é•œåƒçš„çŸ©é˜µï¼Œå®ƒä»¬çš„è¡Œåˆ—å¼ä¸º1ï¼Œå¦‚æœè¦æ’¤é”€å…¶å˜æ¢ï¼Œå°±ä¸ç”¨æ±‚å…¶é€†ï¼Œåº”ä¸ºå®ƒæ˜¯æ­£äº¤çš„æ‰€ä»¥å°†å…¶è½¬ç½®ç›´æ¥å¯ä»¥å¾—åˆ°å®ƒçš„é€† ğŸ’¡ æ­£äº¤çŸ©é˜µæ»¡è¶³ä¸€äº›æ¡ä»¶ æ¯ä¸€è¡Œæ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªå•ä½å‘é‡ï¼Œå‘é‡é•¿åº¦éƒ½ä¸º1 (ä¸€è¡Œæˆ–ä¸€åˆ—ä¸­æ¯ä¸ªåˆ†é‡å¹³æ–¹çš„å’Œå†å¼€å¹³æ–¹ç»“æœä¸º1)\n","permalink":"https://EitanWong.github.io/en/posts/shader/%E7%9F%A9%E9%98%B5%E7%9A%84%E9%80%86/","summary":"é€†çš„å®šä¹‰ $$ çŸ©é˜µçš„é€†å¯ä»¥ç†è§£ä¸º å¦‚æœæœ‰ä¸€ä¸ªçŸ©é˜µMï¼Œå®ƒä¸å®ƒçš„é€†M^{-1}ç›¸ä¹˜èƒ½å¤Ÿå¾—åˆ°å•ä½çŸ©é˜µI $$ $$ é‚£ä¹ˆçŸ©é˜µM^{-1}å’ŒçŸ©é˜µMäº’ä¸ºé€†çš„å…³ç³» $$ çŸ©é˜µçš„é€†æ»¡è¶³äºä¸ç®¡æ˜¯å·¦ä¹˜è¿˜æ˜¯å³ä¹˜å®ƒçš„é€†ï¼Œéƒ½èƒ½å¤Ÿå¾—åˆ°å•ä½çŸ©é˜µ çŸ©é˜µçš„æ±‚é€†æ˜¯ä¸€ä¸ªé‡è¦çš„çŸ©é˜µè¿ç®—ï¼Œè¿™ä¸ªè¿ç®—åªèƒ½ç”¨äºæ–¹é˜µã€‚ ç›¸ä¹˜æ—¶ï¼Œç»“æœæ—¶å•ä½çŸ©é˜µã€‚ç”¨å…¬å¼è¡¨","title":"çŸ©é˜µçš„é€†"},{"content":"çŸ©é˜µçš„è¡Œåˆ—å¼ æ–¹å½¢çŸ©é˜µMçš„è¡Œåˆ—å¼è¡¨ç¤ºä¸ºMã€‚ 2 x 2çŸ©é˜µçš„è¡Œåˆ—å¼å¦‚ä¸‹ï¼š\næ›´å®¹æ˜“è®°ä½çš„æ–¹å¼ï¼Œæ²¿å¯¹è§’çº¿å’Œåå¯¹è§’çº¿åˆ†åˆ«è®©å…ƒç´ ç›¸ä¹˜ï¼Œç„¶åä½¿ç”¨å¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœå‡å»åå¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœå³å¯ã€‚\n3 x 3çŸ©é˜µçš„è¡Œåˆ—å¼å¦‚ä¸‹ï¼š\nä½¿ç”¨å®¹æ˜“è®°å½•çš„æ–¹å¼ï¼šå…ˆå¹¶æ’ç¼–å†™çŸ©é˜µMçš„ä¸¤ä¸ªå‰¯æœ¬ï¼Œç„¶åæ²¿å¯¹è§’çº¿å’Œåå¯¹è§’çº¿åˆ†åˆ«è®©å…ƒç´ ç›¸ä¹˜ï¼Œæœ€åä½¿ç”¨å¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœçš„å’Œå‡å»åå¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœå³å¯ã€‚ å¦‚ä¸‹ï¼š\nå¦‚æœå°†3 x 3çŸ©é˜µçš„è¡Œè§£é‡Šä¸º3ä¸ªçŸ¢é‡ï¼Œé‚£ä¹ˆè¯¥çŸ©é˜µçš„è¡Œåˆ—å¼å°±ç­‰ä»·äº3ä¸ªçŸ¢é‡çš„æ‰€è°“ä¸‰é‡ç§¯ï¼Œå¦‚ä¸‹ï¼š\nä½™å­å¼ å‡è®¾Mæ˜¯å…·æœ‰rè¡Œå’Œcåˆ—çš„çŸ©é˜µã€‚è€ƒè™‘é€šè¿‡ä»Mä¸­åˆ é™¤è¡Œiå’Œåˆ—jè€Œè·å¾—çš„çŸ©é˜µã€‚è¯¥çŸ©é˜µæ˜¾ç„¶å…·æœ‰r - 1è¡Œå’Œc-1åˆ—ã€‚è¿™ä¸ªå­çŸ©é˜µçš„è¡Œåˆ—å¼è¡¨ç¤ºä¸º\nè¢«ç§°ä¸ºMçš„å­çŸ©é˜µè¡Œåˆ—å¼ã€‚ ä¾‹å¦‚ï¼Œå­çŸ©é˜µè¡Œåˆ—å¼\næ˜¯2 x 2çŸ©é˜µçš„è¡Œåˆ—å¼ï¼Œå®ƒæ˜¯ä»3 x 3çŸ©é˜µMä¸­åˆ é™¤è¡Œ1å’Œåˆ—2çš„ç»“æœã€‚\nä»£æ•°ä½™å­å¼ é’ˆå¯¹çŸ©é˜µå½“ä¸­æŸä¸€ä¸ªå…ƒç´ æ‰€åœ¨ä½ç½®çš„æœ‰ç¬¦å·çš„ä½™å­å¼çŸ©é˜µçš„è¡Œåˆ—å¼ ä¹Ÿå°±æ˜¯è¯´ä»£æ•°ä½™å­å¼æ˜¯æ±‚ä½™å­å¼çŸ©é˜µçš„è¡Œåˆ—å¼\nğŸ’¡ æ—¢ç„¶æ˜¯è¡Œåˆ—å¼ï¼Œæœ€åå°†ä¼šå¾—åˆ°ä¸€ä¸ªæ ‡é‡å€¼ å®ƒå­˜åœ¨æ­£è´Ÿå·é—®é¢˜ ç¬¦å·çš„å†³å®šç”±è¿™ä¸ªå…ƒç´ æ‰€åœ¨çš„ï¼ˆè¡Œ+åˆ—ï¼‰ï¼Œå»å†³å®šè¡Œåˆ—å¼çš„æ­£è´Ÿå€¼ ä¹Ÿå°±æ˜¯(-1)^i+jï¼Œå¦‚æœi+jæ˜¯å¶æ•°ä¸ºæ­£ï¼Œi+jæ˜¯å¥‡æ•°ä¸ºè´Ÿ ç»™å®šè¡Œå’Œåˆ—çš„æ–¹å½¢çŸ©é˜µMçš„ä½™å­å¼ä¸ç›¸åº”çš„å­çŸ©é˜µè¡Œåˆ—å¼ç›¸åŒï¼Œä½†å­çŸ©é˜µè¡Œåˆ—å¼ä¼šäº¤æ›¿å˜è´Ÿï¼Œå…·ä½“å¦‚ä¸‹ï¼š\nä»»æ„ n x næ–¹é˜µçš„è¡Œåˆ—å¼ å¯¹äºä»»æ„ç»´æ•° n x nçŸ©é˜µçš„è¡Œåˆ—å¼å­˜åœ¨è‹¥å¹²ç­‰ä»·å®šä¹‰ã€‚\né¦–å…ˆï¼Œä»çŸ©é˜µä¸­ä»»æ„é€‰æ‹©ä¸€è¡Œæˆ–ä¸€åˆ—ã€‚ ç°åœ¨å¯¹äºè¡Œæˆ–åˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†æ­¤å…ƒç´ ä¹˜ä»¥ç›¸åº”çš„ä½™å­å¼ã€‚ å¯¹è¿™äº›ä¹˜ç§¯æ±‚å’Œå¯å¾—å‡ºçŸ©é˜µçš„è¡Œåˆ—å¼ã€‚\nä¾‹ è¡Œåˆ—å¼å’Œä»£æ•°ä½™å­å¼æ±‚å’Œ ğŸ’¡ å½“æŸä¸€ä¸ªå˜æ¢å½“ä¸­çš„çŸ©é˜µï¼Œè¡Œåˆ—å¼ç»“æœä¸º0ï¼Œå¯ä»¥ç¡®å®šå®ƒåŒ…å«çš„å°±æ˜¯æŠ•å½± è¿™ä¸ªå˜æ¢å°†ä¸å¯é€†\nè¡Œåˆ—å¼çš„æ€§è´¨ ","permalink":"https://EitanWong.github.io/en/posts/shader/%E7%9F%A9%E9%98%B5%E8%A1%8C%E5%88%97%E5%BC%8F%E4%B8%8E%E4%BD%99%E5%AD%90%E5%BC%8F/","summary":"çŸ©é˜µçš„è¡Œåˆ—å¼ æ–¹å½¢çŸ©é˜µMçš„è¡Œåˆ—å¼è¡¨ç¤ºä¸ºMã€‚ 2 x 2çŸ©é˜µçš„è¡Œåˆ—å¼å¦‚ä¸‹ï¼š æ›´å®¹æ˜“è®°ä½çš„æ–¹å¼ï¼Œæ²¿å¯¹è§’çº¿å’Œåå¯¹è§’çº¿åˆ†åˆ«è®©å…ƒç´ ç›¸ä¹˜ï¼Œç„¶åä½¿ç”¨å¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœå‡å»åå¯¹è§’çº¿å…ƒç´ ç›¸ä¹˜çš„ç»“æœå³å¯ã€‚ 3 x 3çŸ©é˜µçš„è¡Œåˆ—å¼å¦‚ä¸‹ï¼š ä½¿ç”¨å®¹æ˜“è®°å½•çš„æ–¹å¼ï¼šå…ˆå¹¶æ’ç¼–å†™çŸ©é˜µMçš„ä¸¤ä¸ªå‰¯æœ¬ï¼Œç„¶åæ²¿å¯¹è§’çº¿å’Œåå¯¹è§’çº¿åˆ†åˆ«è®©å…ƒç´ ","title":"çŸ©é˜µè¡Œåˆ—å¼ä¸ä½™å­å¼"},{"content":"çŸ©é˜µ çŸ©é˜µçš„ç»´åº¦å’Œè®°æ³• çŸ©é˜µç±»ä¼¼äºä¸€ä¸ªäºŒç»´æ•°ç»„ä¸€æ ·çš„ä¸œè¥¿ï¼Œåœ¨è®¡ç®—æœºå½“ä¸­æœ‰äº›æ—¶å€™å¯ä»¥æŠŠäºŒç»´æ•°ç»„å½“ä½œçŸ©é˜µæ¥ä½¿ç”¨ åªä¸è¿‡åœ¨æ•°å­¦çš„æ¦‚å¿µä¸Šæ˜¯å®Œå…¨ä¸åŒçš„ ä¸€èˆ¬çš„ç”¨ NXC è¡¨ç¤ºä¸€ä¸ªNè¡ŒCåˆ—çš„çŸ©é˜µ çŸ©é˜µçš„å…ƒç´ ä»1å¼€å§‹ï¼Œæ¯ä¸ªå…ƒç´ åˆ†åˆ«ç”¨iå’Œjè¡¨ç¤ºå®ƒçš„è¡Œæ•°å’Œåˆ—æ•° m[i][j]\nçŸ©é˜µçš„è½¬ç½® ğŸ’¡ çŸ©é˜µçš„è½¬ç½®ï¼Œå°±æ˜¯å°†çŸ©é˜µçš„è¡Œå˜æˆçŸ©é˜µçš„åˆ—ï¼ŒçŸ©é˜µçš„åˆ—å˜æˆçŸ©é˜µçš„è¡Œ å¦‚æœå°†è½¬ç½®è¿‡çš„çŸ©é˜µï¼Œå†åšä¸€æ¬¡è½¬ç½®ï¼Œå°±å˜æˆåŸæ¥çš„çŸ©é˜µ M^TT=M\nå‘é‡ä¹Ÿæ˜¯ä¸€ç§çŸ©é˜µ å¯ä»¥å°†å…¶çœ‹ä½œæ˜¯1è¡Œ3åˆ—çš„è¡ŒçŸ©é˜µï¼Œå…¶è½¬ç½®æ˜¯3è¡Œ1åˆ—çš„åˆ—çŸ©é˜µ\næ‰€ä»¥æœ‰äº›æ—¶å€™åœ¨è®¨è®ºè¡Œå‘é‡ä¸åˆ—å‘é‡ï¼Œå°±æ˜¯ä»¥ä¸‹ä¸¤ç§ä¸åŒçš„çŸ©é˜µå½¢å¼çš„å‘é‡ï¼ˆæŒ‰ç…§çŸ©é˜µçš„æ¦‚å¿µåœ¨æè¿°å®ƒï¼‰\nçŸ©é˜µå’Œæ ‡é‡çš„ä¹˜æ³• ğŸ’¡ å°†çŸ©é˜µçš„æ¯ä¸€ä¸ªå…ƒç´ å’Œæ ‡é‡ç›¸ä¹˜å³å¯ æ ‡é‡æ— è®ºæ”¾åœ¨çŸ©é˜µçš„å‰é¢è¿˜æ˜¯åé¢ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªç»“æœ\nçŸ©é˜µå’ŒçŸ©é˜µçš„ä¹˜æ³• è®¾Aä¸ºmpçš„çŸ©é˜µï¼ŒBä¸ºpnçš„çŸ©é˜µï¼Œé‚£ä¹ˆç§°mnçš„çŸ©é˜µCä¸ºçŸ©é˜µAä¸Bçš„ä¹˜ç§¯ï¼Œè®°ä½œC=ABÂ ï¼Œå…¶ä¸­çŸ©é˜µCä¸­çš„ç¬¬iè¡Œç¬¬jåˆ—å…ƒç´ å¯ä»¥è¡¨ç¤ºä¸ºï¼š\nå¦‚ä¸‹å›¾æ‰€ç¤º\nğŸ’¡ çŸ©é˜µçš„ä¹˜æ³•æ˜¯æœ‰é¡ºåºçš„AxBä¸BxAçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ ğŸ’¡ 1ã€å½“çŸ©é˜µAçš„åˆ—æ•°ï¼ˆcolumnï¼‰ç­‰äºçŸ©é˜µBçš„è¡Œæ•°ï¼ˆrowï¼‰æ—¶ï¼ŒAä¸Bå¯ä»¥ç›¸ä¹˜ã€‚ 2ã€çŸ©é˜µCçš„è¡Œæ•°ç­‰äºçŸ©é˜µAçš„è¡Œæ•°ï¼ŒCçš„åˆ—æ•°ç­‰äºBçš„åˆ—æ•°ã€‚ 3ã€ä¹˜ç§¯Cçš„ç¬¬mè¡Œç¬¬nåˆ—çš„å…ƒç´ ç­‰äºçŸ©é˜µAçš„ç¬¬mè¡Œçš„å…ƒç´ ä¸çŸ©é˜µBçš„ç¬¬nåˆ—å¯¹åº”å…ƒç´ ä¹˜ç§¯ä¹‹å’Œã€‚\nåŸºæœ¬æ€§è´¨ ä¹˜æ³•ç»“åˆå¾‹ï¼š (AB)C=A(BC)ï¼ ä¹˜æ³•å·¦åˆ†é…å¾‹ï¼š(A+B)C=AC+BC ä¹˜æ³•å³åˆ†é…å¾‹ï¼šC(A+B)=CA+CB å¯¹æ•°ä¹˜çš„ç»“åˆæ€§k(ABï¼‰=(kA)B=A(kBï¼‰ï¼ è½¬ç½® (AB)T=BTATï¼ çŸ©é˜µä¹˜æ³•åœ¨ä»¥ä¸‹ä¸¤ç§æƒ…å†µä¸‹æ»¡è¶³äº¤æ¢å¾‹ã€‚ - AA=AAï¼ŒAå’Œä¼´éšçŸ©é˜µç›¸ä¹˜æ»¡è¶³äº¤æ¢å¾‹ã€‚ - AE=EAï¼ŒAå’Œå•ä½çŸ©é˜µæˆ–æ•°é‡çŸ©é˜µæ»¡è¶³äº¤æ¢å¾‹ã€‚\né€šå¸¸åœ¨3Dæ¸¸æˆå¼€å‘å½“ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°å‘é‡ä¸çŸ©é˜µçš„ç›¸ä¹˜ å½“æŠŠåˆ—å‘é‡å˜ä¸ºä¸€ä¸ªè¡Œå‘é‡ï¼Œè¡Œå‘é‡å¿…é¡»æ”¾åœ¨çŸ©é˜µçš„åæ ‡ç›¸ä¹˜ï¼Œå¦åˆ™ç›¸ä¹˜çš„ç»“æœæ˜¯ä¸ä¸€è‡´çš„ï¼Œä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼Œåˆ—å‘é‡å¤„äºå³è¾¹ç›¸ä¹˜çš„æ—¶å€™ï¼Œå°†å·¦è¾¹çš„çŸ©é˜µè¿›è¡Œä¸€ä¸ªè½¬ç½®æ“ä½œè¿‡åï¼Œæ‰èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªä¸å˜åˆ†é‡çš„ä¸€ä¸ªç»“æœå‘é‡\nåœ¨CGå½“ä¸­æœ‰ä¸€ä¸ªå‡½æ•°mulï¼Œç›¸ä¹˜çš„å‡½æ•° ğŸ’¡ è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ç§é‡è½½æ–¹å¼mul(M,V);å’Œmul(V,M); ä¸ºäº†ä¿è¯mulçš„åˆ†é‡ç»“æœä¸€è‡´ï¼Œåœ¨å‡½æ•°å†…éƒ¨çš„å¤„ç†å½“ä¸­ï¼Œå½“Våœ¨åé¢çš„æ—¶å€™ï¼Œä¼šå¯¹Mè¿›è¡Œä¸€ä¸ªè½¬ç½®æ“ä½œï¼Œä¿è¯å…¶ç»“æœä¸ç¬¬ä¸€ç§é‡è½½çš„å‡½æ•°çš„åˆ†é‡ä¸€è‡´\nå•ä½çŸ©é˜µ åœ¨çŸ©é˜µçš„ä¹˜æ³•ä¸­ï¼Œæœ‰ä¸€ç§çŸ©é˜µèµ·ç€ç‰¹æ®Šçš„ä½œç”¨ï¼Œå¦‚åŒæ•°çš„ä¹˜æ³•ä¸­çš„1ï¼Œè¿™ç§çŸ©é˜µè¢«ç§°ä¸ºå•ä½çŸ©é˜µã€‚ å®ƒæ˜¯ä¸ªæ–¹é˜µï¼Œä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„å¯¹è§’çº¿ï¼ˆç§°ä¸ºä¸»å¯¹è§’çº¿ï¼‰ä¸Šçš„å…ƒç´ å‡ä¸º1ã€‚ é™¤æ­¤ä»¥å¤–å…¨éƒ½ä¸º0ã€‚ æ ¹æ®å•ä½çŸ©é˜µçš„ç‰¹ç‚¹ï¼Œä»»ä½•çŸ©é˜µä¸å•ä½çŸ©é˜µç›¸ä¹˜éƒ½ç­‰äºæœ¬èº«\näºŒã€ é€†çŸ©é˜µ æ–¹å½¢çŸ©é˜µMçš„é€†çŸ©é˜µï¼Œè¡¨ç¤ºä¸º\nï¼Œå½“åœ¨ä»»æ„ä¸€ä¾§å°†Mä¹˜ä»¥\næ—¶ï¼Œå…¶ç»“æœéƒ½æ˜¯å•ä½çŸ©é˜µã€‚\nå¹¶ä¸æ˜¯æ‰€æœ‰çŸ©é˜µéƒ½æœ‰é€†çŸ©é˜µã€‚ä¸€ä¸ªæ˜æ˜¾çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªè¡Œæˆ–åˆ—å¡«å……0çš„çŸ©é˜µ\u0026ndash;æ— è®ºè¿™ä¸ªçŸ©é˜µä¹˜ä»¥ä»€ä¹ˆï¼Œç»“æœä¸­ç›¸åº”çš„è¡Œæˆ–åˆ—ä¹Ÿå°†æ»¡0ã€‚å¦‚æœæŸä¸ªçŸ©é˜µå…·æœ‰é€†çŸ©é˜µï¼Œåˆ™ç§°å…¶ä¸ºå¯é€†çŸ©é˜µæˆ–éå¥‡å¼‚çŸ©é˜µã€‚ä¸å…·æœ‰é€†çŸ©é˜µçš„è¢«ç§°ä¸ºæ˜¯ä¸å¯é€†çŸ©é˜µæˆ–å¥‡å¼‚çŸ©é˜µã€‚ å¥‡å¼‚çŸ©é˜µçš„è¡Œåˆ—å¼ä¸ºé›¶ï¼Œéå¥‡å¼‚çŸ©é˜µçš„è¡Œåˆ—å¼ä¸ºéé›¶ã€‚æ£€æŸ¥è¡Œåˆ—å¼çš„å¤§å°æ˜¯æœ€å¸¸ç”¨çš„å¯é€†æ€§æµ‹è¯•ï¼Œå› ä¸ºè¿™æ ·æœ€ç®€å•å’Œæœ€å¿«çš„ã€‚åŸºäºç»å…¸ä¼´éšçŸ©é˜µï¼Œå¯ä»¥è®¡ç®—çŸ©é˜µçš„é€†çŸ©é˜µã€‚ 2.1 ç»å…¸ä¼´éšçŸ©é˜µ Mçš„ç»å…¸ä¼´éšæ˜¯ä»¥ä¸‹ä½™å­å¼çš„çŸ©é˜µçš„è½¬ç½®ï¼š\n2.2 é€†çŸ©é˜µâ€”â€”æ­£å¼çº¿æ€§ä»£æ•°è§„åˆ™ ä¸ºäº†è®¡ç®—çŸ©é˜µçš„é€†çŸ©é˜µï¼Œå¯ä»¥å°†ä»¥ä¸‹ç»å…¸ä¼´éšçŸ©é˜µé™¤ä»¥è¡Œåˆ—å¼ï¼š\nå¦‚æœè¡Œåˆ—å¼ä¸ºé›¶ï¼Œåˆ™é™¤æ³•æ˜¯æœªå®šä¹‰çš„ã€‚ çŸ©é˜µæ±‚é€†çš„é‡è¦ç‰¹æ€§ï¼š\nçŸ©é˜µçš„é€†çŸ©é˜µçš„é€†æ˜¯åŸå§‹çŸ©é˜µï¼š å•ä½çŸ©é˜µæ˜¯ä»–è‡ªå·±çš„é€†ï¼š ä»»ä½•åå°„çŸ©é˜µï¼Œæˆ–å›´ç»•ä»»ä½•è½´æ—‹è½¬180åº¦çš„çŸ©é˜µæ˜¯ä»–ä»¬è‡ªå·±çš„é€†çŸ©é˜µã€‚\nçŸ©é˜µè½¬ç½®çš„é€†çŸ©é˜µæ˜¯é€†çŸ©é˜µé€†çš„è½¬ç½®ï¼š çŸ©é˜µä¹˜ç§¯çš„é€†ç­‰äºçŸ©é˜µçš„é€†çš„ä¹˜ç§¯ï¼Œæ³¨æ„ï¼Œé€†çŸ©é˜µçš„ä¹˜æ³•è¦é‡‡ç”¨ç›¸åçš„é¡ºåºï¼š é€†çŸ©é˜µçš„è¡Œåˆ—å¼æ˜¯åŸå§‹å±€å¥½ç€å‘¢çš„è¡Œåˆ—å¼çš„å€’æ•°ï¼š ä¸‰ã€æ­£äº¤çŸ©é˜µ 3.1 æ­£äº¤çŸ©é˜µâ€”â€”æ­£å¼çº¿æ€§ä»£æ•°è§„åˆ™ å½“ä¸”ä»…å½“çŸ©é˜µåŠå…¶è½¬ç½®çš„ä¹˜ç§¯æ˜¯å•ä½çŸ©é˜µæ—¶ï¼Œæ–¹å½¢çŸ©é˜µMæ˜¯æ­£äº¤çš„ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š\nå¦‚æœçŸ©é˜µæ˜¯æ­£äº¤çš„ï¼Œåˆ™å…¶è½¬ç½®çŸ©é˜µå’Œé€†çŸ©é˜µæ˜¯ç›¸ç­‰çš„ã€‚\nå››ã€å…³äº4 x 4å…¶æ¬¡çŸ©é˜µ 4.1 å…³äº4 x 4å¹³ç§»çŸ©é˜µ å‡è®¾wå§‹ç»ˆä¸º1ã€‚æ ‡å‡†ä¸‰ç»´çŸ¢é‡[x,y,z]å°†å§‹ç»ˆåœ¨å››ç»´ä¸­è¡¨ç¤ºä¸º[x, y, z, 1]ã€‚ä»»ä½•3 x 3å˜æ¢çŸ©é˜µéƒ½å¯ä»¥é€šè¿‡ä»¥ä¸‹è½¬æ¢å…¬å¼å®ç°åœ¨å››ç»´ä¸­çš„è¡¨ç¤ºï¼š\nå½“å°†[x,y,z,1]å½¢å¼çš„å››ç»´çŸ¢é‡ä¹˜ä»¥è¿™ç§å½¢å¼çš„4 x 4 çŸ©é˜µæ—¶ï¼Œå¾—åˆ°ä¸æ ‡å‡†3 x 3æƒ…å†µç›¸åŒçš„ç»“æœï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯é™„åŠ åæ ‡ w = 1ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\nåœ¨å››ç»´ä¸­ï¼Œå¯ä»¥ç”¨çŸ©é˜µä¹˜æ³•è¡¨ç¤ºå¹³ç§»ï¼š\nè¿™ç§çŸ©é˜µä¹˜æ³•ä»ç„¶æ˜¯çº¿æ€§å˜æ¢ã€‚çŸ©é˜µä¹˜æ³•ä¸èƒ½è¡¨ç¤ºå››ç»´ä¸­çš„â€œå¹³ç§»â€ï¼Œå››ç»´é›¶çŸ¢é‡å°†å§‹ç»ˆå˜æ¢å›å››ç»´é›¶çŸ¢é‡ã€‚ è®¾Ræ˜¯ä¸€ä¸ªæ—‹è½¬çŸ©é˜µï¼Œè®¾Tæ˜¯å¹³ç§»çŸ©é˜µï¼Œè¿™ä¸¤ä¸ªçŸ©é˜µåˆ†åˆ«å¦‚ä¸‹ï¼š\nç„¶åå…ˆæ—‹è½¬å†å¹³ç§»ç‚¹væ¥è®¡ç®—æ–°ç‚¹\nï¼Œå…¬å¼å¦‚ä¸‹:\nè¿™é‡Œå˜æ¢çš„é¡ºåºå¾ˆé‡è¦ï¼Œå› ä¸ºé€‰æ‹©ä½¿ç”¨çš„æ˜¯è¡ŒçŸ¢é‡ï¼Œæ‰€ä»¥å˜æ¢çš„é¡ºåºä¸çŸ©é˜µä»å·¦åˆ°å³ç›¸ä¹˜çš„é¡ºåºä¸€è‡´ã€‚ 4.2 ä¸€èˆ¬ä»¿å°„å˜æ¢ åŒ…å«å¹³ç§»çš„ä»¿å°„å˜æ¢ï¼š\nå›´ç»•ä¸ç©¿è¿‡åŸç‚¹çš„è½´æ—‹è½¬ å›´ç»•ä¸ç©¿è¿‡åŸç‚¹çš„å¹³é¢è¿›è¡Œç¼©æ”¾ å›´ç»•ä¸ç©¿è¿‡åŸç‚¹çš„å¹³é¢åå°„ åœ¨ä¸ç©¿è¿‡åŸç‚¹çš„å¹³é¢ä¸Šè¿›è¡Œæ­£äº¤æŠ•å½± äº”ã€å…³äº4 x 4çŸ©é˜µå’Œé€è§†æŠ•å½± 5.1 é’ˆå­”ç›¸æœº é’ˆå­”ç›¸æœºæ˜¯ä¸€ä¸ªç›’å­ï¼Œä¸€ç«¯æœ‰ä¸€ä¸ªå°å­”ã€‚å…‰çº¤è¿›å…¥é’ˆå­”(å› æ­¤ä¼šèšåœ¨ä¸€ç‚¹)ï¼Œç„¶åæ’å‡»ç›’å­çš„å¦ä¸€ç«¯ï¼Œå³æŠ•å½±å¹³é¢ã€‚\nå¦‚æœå°†ç‚¹æŠ•å½±åˆ°z = då¹³é¢ä¸Šï¼Œå¾—åˆ°å…¬å¼å¦‚ä¸‹ï¼š\n5.2 é€è§†æŠ•å½±çŸ©é˜µ ä»å››ç»´åˆ°ä¸‰ç»´ç©ºé—´çš„è½¬æ¢æ„å‘³ç€é™¤æ³•ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ 4 x 4çŸ©é˜µä¸­ç¼–ç é€è§†æŠ•å½±ã€‚ å‡è®¾åŸå§‹ç‚¹æœ‰ w = 1ã€‚ é€šè¿‡ç‚¹æŠ•å½±çš„å…¬å¼ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¸€ä¸ªå…¬åˆ†æ¯ï¼š\næ‰€ä»¥éœ€è¦4 x 4çŸ©é˜µï¼Œå°†ä¹˜ä»¥ä¸€ä¸ªé½æ¬¡çŸ¢é‡[x, y, z, 1]äº§ç”Ÿ[x, y, z, z/d]ã€‚æ‰§è¡Œæ­¤æ“ä½œçš„çŸ©é˜µæ˜¯ï¼š\n","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80-%E7%9F%A9%E9%98%B5/","summary":"çŸ©é˜µ çŸ©é˜µçš„ç»´åº¦å’Œè®°æ³• çŸ©é˜µç±»ä¼¼äºä¸€ä¸ªäºŒç»´æ•°ç»„ä¸€æ ·çš„ä¸œè¥¿ï¼Œåœ¨è®¡ç®—æœºå½“ä¸­æœ‰äº›æ—¶å€™å¯ä»¥æŠŠäºŒç»´æ•°ç»„å½“ä½œçŸ©é˜µæ¥ä½¿ç”¨ åªä¸è¿‡åœ¨æ•°å­¦çš„æ¦‚å¿µä¸Šæ˜¯å®Œå…¨ä¸åŒçš„ ä¸€èˆ¬çš„ç”¨ NXC è¡¨ç¤ºä¸€ä¸ªNè¡ŒCåˆ—çš„çŸ©é˜µ çŸ©é˜µçš„å…ƒç´ ä»1å¼€å§‹ï¼Œæ¯ä¸ªå…ƒç´ åˆ†åˆ«ç”¨iå’Œjè¡¨ç¤ºå®ƒçš„è¡Œæ•°å’Œåˆ—æ•° m[i][j] çŸ©é˜µçš„è½¬ç½® ğŸ’¡ çŸ©é˜µçš„è½¬ç½®ï¼Œå°±æ˜¯å°†çŸ©é˜µçš„è¡Œå˜æˆçŸ©é˜µçš„åˆ—ï¼ŒçŸ©","title":"3Dæ•°å­¦åŸºç¡€-çŸ©é˜µ"},{"content":"å‘é‡çš„åŸºæœ¬å®šä¹‰ ğŸ’¡ å‘é‡(vector)æè¿°äº†æ–¹å‘å’Œå¤§å°ã€‚å‘é‡ä¹Ÿæœ‰è‡ªå·±çš„è¿ç®—è§„åˆ™\nå‘é‡çš„åŠ å‡æ³•ä¸æ•°ä¹˜çš„æ„ä¹‰è§ä¸‹å›¾\nåœ¨Unityä¸­æœ‰ä¸‰ç±»å‘é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º å‘é‡çš„åŠ æ³• ğŸ’¡ å°†å‘é‡çš„å¯¹åº”åˆ†é‡è¿›è¡Œç›¸åŠ å³å¯\nå‘é‡çš„å‡æ³• ğŸ’¡ å°†å‘é‡å¯¹åº”çš„åˆ†é‡ç›¸å‡ï¼Œè°æ˜¯è¢«å‡æ•°ï¼Œç»“æœå‘é‡å°±æŒ‡å‘è°\nå‘é‡å’Œæ ‡é‡çš„ä¹˜æ³• ğŸ’¡ å°†æ ‡é‡ä¸å‘é‡å½“ä¸­çš„æ¯ä¸ªåˆ†é‡ç›¸ä¹˜ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¾—åˆ°çš„ç»“æœæ–¹å‘æ²¡æœ‰æ”¹å˜ï¼Œé•¿åº¦å˜ä¸ºåŸæ¥çš„2å€\nå‘é‡çš„è§„èŒƒåŒ–(å½’ä¸€åŒ–) ç”¨å‘é‡çš„æ¯ä¸€ä¸ªåˆ†é‡ï¼Œå–é™¤ä»¥å…¶æ¨¡é•¿\nâ€œåœ¨è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯ä¹‹å‰åº”ç”¨å½’ä¸€åŒ–ã€‚å½’ä¸€åŒ–ä¸€ä¸ªå‘é‡åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤\u0026quot;\nRSL: Edge Effects\n1 è®¡ç®—å®ƒçš„é•¿åº¦ï¼Œç„¶å,\n2 ç„¶åå°†å®ƒçš„æ¯ä¸ªï¼ˆxy æˆ– xyzï¼‰åˆ†é‡é™¤ä»¥å®ƒçš„é•¿åº¦.\nGiven vectorÂ **a** its xyz components are calculated as follows\nx = ax/|a| y = ay/|a| z = az/|a| As a \u0026ldquo;worked example\u0026rdquo; the vector shown in figure 1 has the xyz components of 3, 1, 2 and a length of 3.742. Therefore, a normalized copy of the vector will have components,\nx = 3.0 / 3.742 =0.802 y = 1.0 / 3.742 =0.267 z = 2.0 / 3.742 =0.534 ğŸ’¡ è®¡ç®—å‘é‡çš„é•¿åº¦ï¼Œ|v| = sqrt(x^2+ y^2+â€¦)\nå‘é‡çš„ç‚¹ç§¯Dot ğŸ’¡ ç‚¹ç§¯çš„ç»“æœæ˜¯ä¸€ä¸ªæ ‡é‡å€¼\nå‘é‡ç‚¹ç§¯çš„å‡ ä½•æ„ä¹‰ ğŸ’¡ ä¸¤ä¸ªå‘é‡å½¢æˆçš„å¤¹è§’å¤§äºç­‰äº0å¹¶ä¸”å°äº90åº¦ï¼Œç‚¹ç§¯çš„ç»“æœå¤§äº0 å½¢æˆçš„å¤¹è§’å¤§äº90åº¦ï¼Œç‚¹ç§¯çš„ç»“æœå°äº0 å½¢æˆçš„å¤¹è§’ä¸º90åº¦ï¼Œç‚¹ç§¯ç»“æœä¸º0\nå‘é‡çš„å‰ç§¯Cross ğŸ’¡ ä¸¤ä¸ªå‘é‡çš„å‰ç§¯ï¼Œå…¶ç»“æœä»æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ç»“æœå‘é‡çš„æ–¹å‘å‚ç›´äºåŸæ¥çš„ä¸¤ä¸ªå‘é‡ å‰ç§¯ç›¸ä¹˜çš„é¡ºåºä¸åŒï¼Œå…¶ç»“æœä¹Ÿä¸åŒ\nå¯¹äºå‘é‡aå’Œå‘é‡b\naå’Œbçš„å‰ç§¯å…¬å¼\nå‰ç§¯çš„å‡ ä½•æ„ä¹‰ ğŸ’¡ åœ¨ä¸‰ç»´å‡ ä½•ä¸­ï¼Œå‘é‡aå’Œå‘é‡bçš„å‰ä¹˜ç»“æœæ˜¯ä¸€ä¸ªå‘é‡ï¼Œæ›´ä¸ºç†ŸçŸ¥çš„å«æ³•æ˜¯æ³•å‘é‡ï¼Œè¯¥å‘é‡å‚ç›´äºaå’Œbå‘é‡æ„æˆçš„å¹³é¢ã€‚\nusing UnityEngine; [ExecuteInEditMode] public class VectorTest1 : MonoBehaviour { MeshRenderer \\_renderer; MeshFilter \\_filter; Mesh \\_mesh; void Awake() { if (!TryGetComponent(out \\_renderer)) \\_renderer = gameObject.AddComponent(); if (!TryGetComponent(out \\_filter)) \\_filter = gameObject.AddComponent(); } [ContextMenu(\u0026#34;Generate\u0026#34;)] private void Generate() { GenerateTriangle(); \\_renderer.sharedMaterial = new Material(Shader.Find(\u0026#34;Standard\u0026#34;)); \\_filter.sharedMesh = \\_mesh; } private void GenerateTriangle() { \\_mesh = new Mesh(); Vector3[] vertices = new Vector3[3]; vertices[0] = new Vector3(0, 1, 0); vertices[1] = new Vector3(1, -1, 0); vertices[2] = new Vector3(-1, -1, 0); \\_mesh.vertices = vertices; \\_mesh.triangles = new[] { 0,1,2//éå†çš„é¡ºåºä¼šå½±å“ä¸‰è§’é¢çš„æœå‘ }; Vector3[] normals = new Vector3[3]; var V\\_BA = GetDir(vertices[1], vertices[0]); var V\\_CA = GetDir(vertices[2], vertices[0]); normals[0] = Vector3.Cross(V\\_BA, V\\_CA); var V\\_CB = GetDir(vertices[2], vertices[1]); var V\\_AB = GetDir(vertices[0], vertices[1]); normals[1] = Vector3.Cross(V\\_CB, V\\_AB); var V\\_AC = GetDir(vertices[0], vertices[2]); var V\\_BC = GetDir(vertices[1], vertices[2]); normals[2] = Vector3.Cross(V\\_AC, V\\_BC); \\_mesh.normals = normals; } private Vector3 GetDir(Vector3 v1, Vector3 v2) { return v1 - v2; } } åœ¨3Då›¾åƒå­¦ä¸­ï¼Œå‰ä¹˜çš„æ¦‚å¿µéå¸¸æœ‰ç”¨ï¼Œå¯ä»¥é€šè¿‡ä¸¤ä¸ªå‘é‡çš„å‰ä¹˜ï¼Œç”Ÿæˆç¬¬ä¸‰ä¸ªå‚ç›´äºaï¼Œbçš„æ³•å‘é‡ï¼Œä»è€Œæ„å»ºXã€Yã€Zåæ ‡ç³»ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º\nåœ¨äºŒç»´ç©ºé—´ä¸­ï¼Œå‰ä¹˜è¿˜æœ‰å¦å¤–ä¸€ä¸ªå‡ ä½•æ„ä¹‰å°±æ˜¯ï¼šaXbç­‰äºç”±å‘é‡aå’Œå‘é‡bæ„æˆçš„å¹³è¡Œå››è¾¹å½¢çš„é¢ç§¯\n","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80-%E5%90%91%E9%87%8F/","summary":"å‘é‡çš„åŸºæœ¬å®šä¹‰ ğŸ’¡ å‘é‡(vector)æè¿°äº†æ–¹å‘å’Œå¤§å°ã€‚å‘é‡ä¹Ÿæœ‰è‡ªå·±çš„è¿ç®—è§„åˆ™ å‘é‡çš„åŠ å‡æ³•ä¸æ•°ä¹˜çš„æ„ä¹‰è§ä¸‹å›¾ åœ¨Unityä¸­æœ‰ä¸‰ç±»å‘é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º å‘é‡çš„åŠ æ³• ğŸ’¡ å°†å‘é‡çš„å¯¹åº”åˆ†é‡è¿›è¡Œç›¸åŠ å³å¯ å‘é‡çš„å‡æ³• ğŸ’¡ å°†å‘é‡å¯¹åº”çš„åˆ†é‡ç›¸å‡ï¼Œè°æ˜¯è¢«å‡æ•°ï¼Œç»“æœå‘é‡å°±æŒ‡å‘è° å‘é‡å’Œæ ‡é‡çš„ä¹˜æ³• ğŸ’¡ å°†æ ‡é‡ä¸å‘é‡å½“ä¸­çš„","title":"3Dæ•°å­¦åŸºç¡€-å‘é‡"},{"content":"æ¨¡å‹åæ ‡ç³» 2Dä¸­çš„æ¨¡å‹åæ ‡ç³» 3Då½“ä¸­çš„æ¨¡å‹åæ ‡ç³» ä¸–ç•Œåæ ‡ç³» 2Dä¸­çš„ä¸–ç•Œåæ ‡ç³» 3Dä¸­çš„ä¸–ç•Œåæ ‡ç³» æ‘„åƒæœºåæ ‡ç³» å±å¹•æŠ•å½±åæ ‡ç³» ","permalink":"https://EitanWong.github.io/en/posts/shader/3d%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80-%E5%9D%90%E6%A0%87%E7%B3%BB/","summary":"æ¨¡å‹åæ ‡ç³» 2Dä¸­çš„æ¨¡å‹åæ ‡ç³» 3Då½“ä¸­çš„æ¨¡å‹åæ ‡ç³» ä¸–ç•Œåæ ‡ç³» 2Dä¸­çš„ä¸–ç•Œåæ ‡ç³» 3Dä¸­çš„ä¸–ç•Œåæ ‡ç³» æ‘„åƒæœºåæ ‡ç³» å±å¹•æŠ•å½±åæ ‡ç³»","title":"3Dæ•°å­¦åŸºç¡€-åæ ‡ç³»"},{"content":"è‡ªå®šä¹‰å‡½æ•° åœ¨ShaderLabCGä¸­å‡½æ•°çš„å®šä¹‰ä¸Cè¯­è¨€ç±»ä¼¼\nvoid func () { } å®šä¹‰å‡½æ•°çš„æ ¼å¼å¦‚ä¸‹\nè¿”å›å€¼ç±»å‹ å‡½æ•°å (å‚æ•°1,å‚æ•°2,å‚æ•°3,......) { //å‡½æ•°ä½“ return//è¿”å›å€¼ } å‡½æ•°çš„å‰é¡¹å£°æ˜ ğŸ’¡ åœ¨Cgè¯­è¨€å½“ä¸­å‡½æ•°çš„å®šä¹‰è¦å†™åœ¨åé¢è°ƒç”¨å®ƒçš„æ–¹æ³•ä¹‹å‰ å¦‚æœä¸€å®šè¦å†™åœ¨åé¢å¯ä»¥ä½¿ç”¨å‰é¡¹å£°æ˜\nå¦‚æœå‡½æ•°å†™åœ¨è°ƒç”¨å®ƒä¹‹å‰ï¼Œå¹¶ä¸”æ²¡æœ‰è¿›è¡Œå‰é¡¹å£°æ˜ï¼Œåˆ™ä¼šæŠ¥é”™\nå‰é¡¹å£°æ˜ç¤ºä¾‹å­å¦‚ä¸‹ï¼š\nfixed4 func(fixed4 col); void frag(inout fixed4 col:COLOR) { col=func(col); } fixed4 func (fixed4 col) { col.x=1; return col; } Cg include å†…ç½®ç€è‰²å™¨ include æ–‡ä»¶ Unity æä¾›äº†è‹¥å¹²æ–‡ä»¶ä¾› ç”¨äºå¼•å…¥é¢„å®šä¹‰çš„å˜é‡å’Œ helper å‡½æ•°ã€‚è¿™å¯ä»¥é€šè¿‡æ ‡å‡†Â #includeÂ æŒ‡ä»¤æ¥å®Œæˆï¼Œä¾‹å¦‚ï¼š\nCGPROGRAM // ... #include\u0026#34;UnityCG.cginc\u0026#34; // ... ENDCG Unity ä¸­çš„ç€è‰²å™¨ include æ–‡ä»¶é‡‡ç”¨Â .cgincÂ æ‰©å±•åï¼Œå†…ç½®çš„ç€è‰²å™¨ include æ–‡ä»¶åŒ…æ‹¬ï¼š\nHLSLSupport.cgincÂ -_ï¼ˆè‡ªåŠ¨åŒ…å«ï¼‰_ç”¨äºè·¨å¹³å°ç€è‰²å™¨ç¼–è¯‘çš„ helper å®å’Œå®šä¹‰ã€‚ UnityShaderVariables.cgincÂ -_ï¼ˆè‡ªåŠ¨åŒ…å«ï¼‰_å¸¸ç”¨çš„å…¨å±€å˜é‡ã€‚ UnityCG.cgincÂ - å¸¸ç”¨çš„ ã€‚ AutoLight.cgincÂ - å…‰ç…§å’Œé˜´å½±åŠŸèƒ½ï¼Œä¾‹å¦‚ åœ¨å†…éƒ¨ä½¿ç”¨æ­¤æ–‡ä»¶ã€‚ Lighting.cgincÂ - æ ‡å‡† å…‰ç…§æ¨¡å‹ï¼›å½“æ‚¨ç¼–å†™è¡¨é¢ç€è‰²å™¨æ—¶ä¼šè‡ªåŠ¨åŒ…å«ã€‚ TerrainEngine.cgincÂ - åœ°å½¢å’Œæ¤è¢«ç€è‰²å™¨çš„ helper å‡½æ•°ã€‚ å¦‚æœæ‚¨è¦æŸ¥çœ‹ä»»ä½• helper ä»£ç å…·ä½“æ‰§è¡Œçš„æ“ä½œï¼Œå¯åœ¨ Unity åº”ç”¨ç¨‹åºä¸­æ‰¾åˆ°è¿™äº›æ–‡ä»¶ï¼ˆWindows ä¸Šä½äºÂ {unity å®‰è£…è·¯å¾„}/Data/CGIncludes/UnityCG.cginc__ï¼ŒMac ä¸Šä½äºÂ /Applications/Unity/Unity.app/Contents/CGIncludes/UnityCG.cginc__ï¼‰ã€‚\nHLSLSupport.cginc ç¼–è¯‘ CGPROGRAM ç€è‰²å™¨æ—¶ä¼šè‡ªåŠ¨åŒ…å«æ­¤æ–‡ä»¶ï¼ˆä½†ä¸ä¼šå¯¹ HLSLPROGRAM ç€è‰²å™¨åŒ…å«æ­¤æ–‡ä»¶ï¼‰ã€‚æ­¤æ–‡ä»¶å£°æ˜å„ç§ ä»¥å¸®åŠ©è¿›è¡Œå¤šå¹³å°ç€è‰²å™¨å¼€å‘ã€‚\nUnityShaderVariables.cginc ç¼–è¯‘ CGPROGRAM ç€è‰²å™¨æ—¶ä¼šè‡ªåŠ¨åŒ…å«æ­¤æ–‡ä»¶ï¼ˆä½†ä¸ä¼šå¯¹ HLSLPROGRAM ç€è‰²å™¨åŒ…å«æ­¤æ–‡ä»¶ï¼‰ã€‚æ­¤æ–‡ä»¶å£°æ˜ç€è‰²å™¨ä¸­å¸¸ç”¨çš„å„ç§ ã€‚\nUnityCG.cginc Shader å¯¹è±¡ä¸­é€šå¸¸ä¼šåŒ…å«æ­¤æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å£°æ˜å¤§é‡ å’Œæ•°æ®ç»“æ„ã€‚\nUnityCG.cginc ä¸­çš„æ•°æ®ç»“æ„ structÂ appdata_baseï¼šé¡¶ç‚¹ç€è‰²å™¨è¾“å…¥ï¼ŒåŒ…å«ä½ç½®ã€æ³•çº¿å’Œä¸€ä¸ªçº¹ç†åæ ‡ã€‚ structÂ appdata_tanï¼šé¡¶ç‚¹ç€è‰²å™¨è¾“å…¥ï¼ŒåŒ…å«ä½ç½®ã€æ³•çº¿ã€åˆ‡çº¿å’Œä¸€ä¸ªçº¹ç†åæ ‡ã€‚ structÂ appdata_fullï¼šé¡¶ç‚¹ç€è‰²å™¨è¾“å…¥ï¼ŒåŒ…å«ä½ç½®ã€æ³•çº¿ã€åˆ‡çº¿ã€é¡¶ç‚¹é¢œè‰²å’Œä¸¤ä¸ªçº¹ç†åæ ‡ã€‚ structÂ appdata_img: é¡¶ç‚¹ç€è‰²å™¨è¾“å…¥ï¼ŒåŒ…å«ä½ç½®å’Œä¸€ä¸ªçº¹ç†åæ ‡ã€‚ Cgæ•°å­¦å‡½æ•°Mathematical Functions å‡ ä½•å‡½æ•° Geometric Functions å‡½æ•°\nåŠŸèƒ½æè¿°\ndistance(pt1, pt2)\nä¸¤ç‚¹ä¹‹é—´çš„æ¬§å‡ é‡Œå¾·è·ç¦»ï¼ˆEuclidean distanceï¼‰\nfaceforward(N,I,Ng)\nå¦‚æœdot( Ng , I ) \u0026lt; 0,è¿”å›Nï¼›å¦åˆ™è¿”å›-Nã€‚\nlength(v)\nè¿”å›ä¸€ä¸ªå‘é‡çš„æ¨¡,å³sqrt(dot(v,v))\nnormalize(v)\nè¿”å›vå‘é‡çš„å•ä½å‘é‡\nreflect(I, N)\næ ¹æ®å…¥å°„å…‰çº¿æ–¹å‘Iå’Œè¡¨é¢æ³•å‘é‡Nè®¡ç®—åå°„å‘é‡,ä»…å¯¹ä¸‰å…ƒå‘é‡æœ‰æ•ˆ\nrefract(I,N,eta)\næ ¹æ®å…¥å°„å…‰çº¿æ–¹å‘I,è¡¨é¢æ³•å‘é‡Nå’ŒæŠ˜å°„ç›¸å¯¹ç³»æ•°eta,è®¡ç®—æŠ˜å°„å‘é‡ã€‚å¦‚æœå¯¹ç»™å®šçš„eta,Iå’ŒNä¹‹é—´çš„è§’åº¦å¤ªå¤§,è¿”å›(0,0,0)ã€‚åªå¯¹ä¸‰å…ƒå‘é‡æœ‰æ•ˆ\nè´´å›¾å‡½æ•° Texture Map Functions å‡½æ•°\nåŠŸèƒ½æè¿°\ntex1D(sampler1D tex, float s)\nä¸€ç»´çº¹ç†æŸ¥è¯¢\ntex1D(sampler1D tex, float s, float dsdx, float dsdy)\nä½¿ç”¨å¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢ä¸€ç»´çº¹ç†\nTex1D(sampler1D tex, float2 sz)\nä¸€ç»´çº¹ç†æŸ¥è¯¢,å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\nTex1D(sampler1D tex, float2 sz, float dsdx,float dsdy)\nä½¿ç”¨å¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢ä¸€ç»´çº¹ç†, å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\nTex1Dproj(sampler1D tex, float2 sq)\nä¸€ç»´æŠ•å½±çº¹ç†æŸ¥è¯¢\nTex1Dproj(sampler1D tex, float3 szq)\nä¸€ç»´æŠ•å½±çº¹ç†æŸ¥è¯¢,å¹¶æ¯”è¾ƒæ·±åº¦å€¼\nTex2D(sampler2D tex, float2 s)\näºŒç»´çº¹ç†æŸ¥è¯¢\nTex2D(sampler2D tex, float2 s, float2 dsdx, float2 dsdy)\nä½¿ç”¨å¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢äºŒç»´çº¹ç†\nTex2D(sampler2D tex, float3 sz)\näºŒç»´çº¹ç†æŸ¥è¯¢,å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\nTex2D(sampler2D tex, float3 sz, float2 dsdx,float2 dsdy)\nä½¿ç”¨å¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢äºŒç»´çº¹ç†,å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\nTex2Dproj(sampler2D tex, float3 sq)\näºŒç»´æŠ•å½±çº¹ç†æŸ¥è¯¢\nTex2Dproj(sampler2D tex, float4 szq)\näºŒç»´æŠ•å½±çº¹ç†æŸ¥è¯¢,å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\ntexRECT(samplerRECT tex, float2 s)\näºŒç»´éæŠ•å½±çŸ©å½¢çº¹ç†æŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\ntexRECT (samplerRECT tex, float3 sz, float2 dsdx,float2 dsdy)\näºŒç»´éæŠ•å½±ä½¿ç”¨å¯¼æ•°çš„çŸ©å½¢çº¹ç†æŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\ntexRECT (samplerRECT tex, float3 sz)\näºŒç»´éæŠ•å½±æ·±åº¦æ¯”è¾ƒçŸ©å½¢çº¹ç†æŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\ntexRECT (samplerRECT tex, float3 sz, float2 dsdx,float2 dsdy)\näºŒç»´éæŠ•å½±æ·±åº¦æ¯”è¾ƒå¹¶ä½¿ç”¨å¯¼æ•°çš„çŸ©å½¢çº¹ç†æŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\ntexRECT proj(samplerRECT tex, float3 sq)\näºŒç»´æŠ•å½±çŸ©å½¢çº¹ç†æŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\ntexRECT proj(samplerRECT tex, float3 szq)\näºŒç»´æŠ•å½±çŸ©å½¢çº¹ç†æ·±åº¦æ¯”è¾ƒæŸ¥è¯¢ï¼ˆOpenGLç‹¬æœ‰ï¼‰\nTex3D(sampler3D tex, float s)\nä¸‰ç»´çº¹ç†æŸ¥è¯¢\nTex3D(sampler3D tex, float3 s, float3 dsdx, float3 dsdy)\nç»“åˆå¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢ä¸‰ç»´çº¹ç†\nTex3Dproj(sampler3D tex, float4 szq)\næŸ¥è¯¢ä¸‰ç»´æŠ•å½±çº¹ç†,å¹¶è¿›è¡Œæ·±åº¦å€¼æ¯”è¾ƒ\ntexCUBE(samplerCUBE tex, float3 s)\næŸ¥è¯¢ç«‹æ–¹ä½“çº¹ç†\ntexCUBE (samplerCUBE tex, float3 s, float3 dsdx, float3 dsdy)\nç»“åˆå¯¼æ•°å€¼ï¼ˆderivativesï¼‰æŸ¥è¯¢ç«‹æ–¹ä½“çº¹ç†\ntexCUBEproj (samplerCUBE tex, float4 sq)\næŸ¥è¯¢æŠ•å½±ç«‹æ–¹ä½“çº¹ç†\nå¯¼æ•°å‡½æ•° Derivative Functions å‡½æ•°\nåŠŸèƒ½æè¿°\nddx(a)\nè¿‘ä¼¼aå…³äºå±å¹•ç©ºé—´xè½´çš„åå¯¼æ•°\nddy(a)\nè¿‘ä¼¼aå…³äºå±å¹•ç©ºé—´yè½´çš„åå¯¼æ•°\nè°ƒè¯•å‡½æ•° Debugging Function å‡½æ•°\nåŠŸèƒ½æè¿°\nvoid debug(float4 x)\nå¦‚æœåœ¨ç¼–è¯‘æ—¶è®¾ç½®äº†DEBUG,ç‰‡æ®µç€ è‰²ç¨‹åºä¸­è°ƒç”¨è¯¥å‡½æ•°å¯ä»¥å°†å€¼xä½œä¸ºCOLORè¯­ä¹‰çš„æœ€ç»ˆè¾“å‡ºï¼›å¦åˆ™è¯¥å‡½æ•°ä»€ä¹ˆä¹Ÿä¸åšã€‚\n","permalink":"https://EitanWong.github.io/en/posts/shader/cg%E8%AF%AD%E8%A8%80-%E5%87%BD%E6%95%B0/","summary":"è‡ªå®šä¹‰å‡½æ•° åœ¨ShaderLabCGä¸­å‡½æ•°çš„å®šä¹‰ä¸Cè¯­è¨€ç±»ä¼¼ void func () { } å®šä¹‰å‡½æ•°çš„æ ¼å¼å¦‚ä¸‹ è¿”å›å€¼ç±»å‹ å‡½æ•°å (å‚æ•°1,å‚æ•°2,å‚æ•°3,......) { //å‡½æ•°ä½“ return//è¿”å›å€¼ } å‡½æ•°çš„å‰é¡¹å£°æ˜ ğŸ’¡ åœ¨Cgè¯­è¨€å½“ä¸­å‡½æ•°çš„å®šä¹‰è¦å†™åœ¨åé¢è°ƒç”¨å®ƒçš„æ–¹æ³•ä¹‹å‰ å¦‚æœä¸€å®šè¦å†™åœ¨åé¢å¯ä»¥ä½¿ç”¨å‰é¡¹å£°æ˜ å¦‚","title":"CGè¯­è¨€-å‡½æ•°"},{"content":"switchâ€¦case ğŸ’¡ éœ€è¦æ³¨æ„çš„æ˜¯æ—©æœŸç‰ˆæœ¬Cgä¸æ”¯æŒswitchâ€¦caseè¯­å¥ï¼Œä½†æ˜¯ä¿ç•™äº†è¿™äº›å…³é”®å­—ï¼\nswitch(æ¡ä»¶å˜é‡) { case æ¡ä»¶1: [è¯­å¥å—] break; case æ¡ä»¶2: [è¯­å¥å—] break; ... default: [è¯­å¥å—] break; } ç¤ºä¾‹å¦‚ä¸‹ï¼š\nShader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float4 col:COLOR0) { pos = float4(objPos,0,1); col = pos; } void frag(inout float4 col:COLOR0) { col = float4(1,1,0,1); //å…³äºswitch caseéªŒè¯ int i = 3; switch(i) { case 0: col = float4(1,0,0,1);//çº¢è‰² break; case 1: col = float4(0,1,0,1);//ç»¿è‰² break; case 2: col = float4(0,0,1,1);//è“è‰² break; case 3: col = float4(1,0,0.5,1); break; case 4: col = float4(1,0.5,1,1); break; default: col = float4(1,1,1,1);//ç™½è‰² break; } } ENDCG } } } è¿™é‡Œä¿®æ”¹içš„å€¼ä½¿å…¶è¿›å…¥ç›¸åº”çš„æ¡ä»¶ï¼Œå‘ç°é¢œè‰²å‘ç”Ÿäº†ç›¸åº”çš„å˜åŒ–å¹¶æ²¡æœ‰è¿›å…¥defaultæ¡ä»¶ä¸­ï¼Œè¿™è¯´æ˜ç°åœ¨çš„Cgæ”¯æŒäº†è¿™ä¸ªè¯­å¥ï¼æˆ–è€…è¯´è‡³å°‘æˆ‘è¿™é‡Œæ˜¯æ”¯æŒçš„ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯unity2017.4.27f1ï¼Œshader model 3.0æ˜¯æ”¯æŒçš„ï¼\nifâ€¦elseæ¡ä»¶è¯­å¥ ifâ€¦elseæ¡ä»¶è¯­å¥çš„è¯­æ³•ä¸º:\nif(æ¡ä»¶è¯­å¥) { //è¯­å¥å—1 } elseif(æ¡ä»¶è¯­å¥) { //è¯­å¥å—2 } ... else { //è¯­å¥å— } ç¤ºä¾‹å¦‚ä¸‹ï¼š\nShader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 col:COLOR0,out float4 pos:POSITION) { pos = float4(objPos,0,1); if(pos.x \u0026lt; 0) { col = float4(1,0,0,1);//çº¢è‰² } else { col = float4(0,1,0,1);//ç»¿è‰² } //col = pos; } void frag(inout float4 col:COLOR0) { } ENDCG } } } ğŸ’¡ å›åˆ°unityä¸­ç¼–è¯‘é€šè¿‡æˆ‘ä»¬æˆ‘ä»¬å‘ç°ï¼Œå·¦è¾¹å˜æˆäº†çº¢è‰²ï¼Œå³è¾¹æˆäº†ç»¿è‰²ï¼Œä¸­é—´æ˜¯ä¸€ä¸ªè¿‡æ¸¡åŒºåŸŸã€‚è¿™æ˜¯å› ä¸ºåœ¨æ‘„åƒæœºçš„å‰ªè£ç©ºé—´cvvä¸­åæ ‡èŒƒå›´æ˜¯ï¼ˆ-1ï¼Œ1ï¼‰ï¼Œè€Œç‰©ä½“çš„æ¨¡å‹åæ ‡å¤„äºï¼ˆ-0.5ï¼Œ0.5ï¼‰ä¹‹é—´ï¼ˆå·¦ä¸‹è§’ï¼ˆ-0.5,-0.5ï¼‰ï¼Œå³ä¸Šè§’ï¼ˆ0.5,0.5ï¼‰ï¼‰ï¼Œæ‰€ä»¥ç‰©ä½“çš„å·¦è¾¹å°±å˜æˆäº†çº¢è‰²ï¼Œå³è¾¹å°±æˆäº†ç»¿è‰²ã€‚è€Œä¸­é—´çš„éƒ¨åˆ†æˆ‘ä»¬å‘ç°æ˜¯ä¸€ä¸ªç¼“æ…¢çš„èåˆè¿‡ç¨‹åŒºåŸŸï¼è¿™æ˜¯ç”±äºé¡¶ç‚¹çš„é¢œè‰²å¤„ç†è¿‡åï¼Œè¿˜æœ‰å¤§é‡çš„åƒç´ æ²¡æœ‰å¤„ç†è¿™æ—¶åœ¨å…‰æ …åŒ–é˜¶æ®µå°±æ˜¯ç‰‡å…ƒå‡½æ•°å¤„ç†çš„è¿‡ç¨‹ä¸­åšäº†ä¸€ä¸ªå·®å€¼çš„è¿ç®—ã€‚\nwhileå¾ªç¯è¯­å¥ whileè¯­å¥çš„è¯­æ³•æ ¼å¼ while(æ¡ä»¶è¯­å¥)//æ»¡è¶³æ¡ä»¶æ‰§è¡Œï¼Œå¦åˆ™é€€å‡ºå¾ªåï¼ˆå…ˆåˆ¤æ–­ï¼Œå†æ‰§è¡Œ)ï¼‰ { è¯­å¥å—ï¼› } ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œä»£ç å’Œæ•ˆæœå¦‚ä¸‹\nShader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 col:COLOR0,out float4 pos:POSITION) { pos = float4(objPos,0,1); if(pos.x \u0026lt; 0 \u0026amp;\u0026amp; pos.y \u0026lt; 0) { col = float4(1,0,0,1);//çº¢è‰² } else if(pos.x \u0026lt; 0) { col = float4(0,1,0,1);//ç»¿è‰² } else if(pos.y \u0026gt; 0) { col = float4(1,1,0,1);//é»„è‰² } else { col = float4(0,0,1,1);//è“è‰² } //col = pos; } void frag(inout float4 col:COLOR0) { int i = 0; while(i \u0026lt; 10) { i++; } if(i == 10) col = float4(0,0,0,1); } ENDCG } } } è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºæˆ‘ä»¬åªæ˜¯å¾ªç¯äº†åæ¬¡ï¼Œç”±äºæ²¡æœ‰æ§åˆ¶å°è¾“å‡ºè¿™é‡Œä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œç»“æŸå¾ªç¯åé¢œè‰²è®¾ä¸ºé»‘è‰²ï¼ˆfloat4(0,0,0,1)ï¼‰ï¼è¿™è¯´æ˜å¾ªç¯æ‰§è¡Œäº†10æ¬¡ï¼\ndoâ€¦whileå¾ªç¯è¯­å¥ doâ€¦whileè¯­å¥çš„è¯­æ³•æ ¼å¼ { è¯­å¥å—ï¼› } while(æ¡ä»¶è¯­å¥);//æ»¡è¶³æ¡ä»¶æ‰§è¡Œï¼Œå¦åˆ™é€€å‡ºå¾ªå(å…ˆæ‰§è¡Œä¸€æ¬¡ï¼Œå†åˆ¤æ–­) ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œä»£ç å’Œæ•ˆæœå¦‚ä¸‹ï¼š Shader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 col:COLOR0,out float4 pos:POSITION) { pos = float4(objPos,0,1); if(pos.x \u0026lt; 0 \u0026amp;\u0026amp; pos.y \u0026lt; 0) { col = float4(1,0,0,1);//çº¢è‰² } else if(pos.x \u0026lt; 0) { col = float4(0,1,0,1);//ç»¿è‰² } else if(pos.y \u0026gt; 0) { col = float4(1,1,0,1);//é»„è‰² } else { col = float4(0,0,1,1);//è“è‰² } //col = pos; } void frag(inout float4 col:COLOR0) { int i = 0; while(i \u0026lt; 10) { i++; } if(i == 10) col = float4(0,0,0,1); i = 0; do{ i++; } while(i \u0026lt; 10); if(i == 10) col = float4(1,1,1,1); } ENDCG } } } è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºæˆ‘ä»¬åªæ˜¯å¾ªç¯äº†åæ¬¡ï¼Œç”±äºæ²¡æœ‰æ§åˆ¶å°è¾“å‡ºè¿™é‡Œä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿï¼Œç»“æŸå¾ªç¯åé¢œè‰²è®¾ä¸ºç™½è‰²ï¼ˆfloat4(1,1,1,1)ï¼‰ï¼è¿™è¯´æ˜å¾ªç¯æ‰§è¡Œäº†10æ¬¡é€€å‡ºï¼Œç„¶åè®¾ä¸ºäº†ç™½è‰²ï¼\nforå¾ªç¯ forå¾ªç¯çš„è¯­æ³• for(int i = 0; i \u0026lt; 10; i++)ï¼ˆåˆå§‹å€¼ï¼Œæ¡ä»¶1ï¼Œè¯­å¥2ï¼‰ { è¯­å¥å—ï¼› } ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œä»£ç å’Œæ•ˆæœå¦‚ä¸‹ï¼š\nShader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 col:COLOR0,out float4 pos:POSITION) { pos = float4(objPos,0,1); if(pos.x \u0026lt; 0 \u0026amp;\u0026amp; pos.y \u0026lt; 0) { col = float4(1,0,0,1);//çº¢è‰² } else if(pos.x \u0026lt; 0) { col = float4(0,1,0,1);//ç»¿è‰² } else if(pos.y \u0026gt; 0) { col = float4(1,1,0,1);//é»„è‰² } else { col = float4(0,0,1,1);//è“è‰² } //col = pos; } void frag(inout float4 col:COLOR0) { for(int i = 0; i \u0026lt; 10; i++) { } if(i == 10) col = float4(0.5,0.5,0,1); } ENDCG } } } ğŸ’¡ è§‚å¯Ÿå‘ç°å˜ä¸ºæš—é»„è‰²ï¼Œè¯´æ˜æ‰§è¡Œäº†æ¡ä»¶è¯­å¥ä¸­çš„å†…å®¹ï¼Œè¯´æ˜äº†èƒ½å¤Ÿæ­£å¸¸è·³å‡ºå¾ªç¯ï¼ ğŸ’¡ å€¼å¾—æ³¨æ„çš„æ˜¯forå¾ªç¯çš„æ¬¡æ•°æœ‰äº›ç‰ˆæœ¬æ˜¯æœ‰é™åˆ¶çš„ï¼Œè¶…è¿‡äº†1024å°±ä¼šæŠ¥è¿è¡Œå¼‚å¸¸ï¼Œæœ‰çš„åˆ™ä¸ä¼šæ ¹æ®å®é™…æƒ…å†µæµ‹è¯•ï¼\n","permalink":"https://EitanWong.github.io/en/posts/shader/cg%E8%AF%AD%E8%A8%80-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/","summary":"switchâ€¦case ğŸ’¡ éœ€è¦æ³¨æ„çš„æ˜¯æ—©æœŸç‰ˆæœ¬Cgä¸æ”¯æŒswitchâ€¦caseè¯­å¥ï¼Œä½†æ˜¯ä¿ç•™äº†è¿™äº›å…³é”®å­—ï¼ switch(æ¡ä»¶å˜é‡) { case æ¡ä»¶1: [è¯­å¥å—] break; case æ¡ä»¶2: [è¯­å¥å—] break; ... default: [è¯­å¥å—] break; } ç¤ºä¾‹å¦‚ä¸‹ï¼š Shader \u0026#34;lxt610/NewSurfaceShaderTest2\u0026#34; { SubShader { Pass { CGPROGRAM #pragma fragment frag #pragma vertex vert void vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float4 col:COLOR0) { pos = float4(objPos,0,1); col = pos; } void frag(inout float4 col:COLOR0) { col = float4(1,1,0,1); /","title":"CGè¯­è¨€-æµç¨‹æ§åˆ¶"},{"content":"Shader targets â€˜#pragma targetâ€™ å€¼åˆ—è¡¨ è¿™æ˜¯ Unity ä½¿ç”¨çš„ç€è‰²å™¨æ¨¡å‹åˆ—è¡¨ æ³¨æ„ï¼šUnity çš„ç€è‰²å™¨æ¨¡å‹ä¸ DirectX ç€è‰²å™¨æ¨¡å‹å’Œ OpenGL ç‰ˆæœ¬è¦æ±‚ç±»ä¼¼ï¼Œä½†å¹¶ä¸å®Œå…¨å¯¹åº”ã€‚ ä»”ç»†é˜…è¯»è¯´æ˜ä»¥ç¡®ä¿æ‚¨äº†è§£å…¶ä¸­çš„å·®å¼‚ã€‚\nå€¼\næè¿°\næ”¯æŒ\nEquivalentÂ #pragma requireÂ values\n2.0\nç›¸å½“äº DirectX ç€è‰²å™¨æ¨¡å‹ 2.0ã€‚æœ‰é™æ•°é‡çš„ç®—æœ¯å’Œçº¹ç†æŒ‡ä»¤ï¼› 8ä¸ªå†…æ’å™¨ï¼› æ²¡æœ‰é¡¶ç‚¹çº¹ç†é‡‡æ ·ï¼› ç‰‡æ®µç€è‰²å™¨ä¸­æ²¡æœ‰å¯¼æ•°ï¼› æ²¡æœ‰æ˜ç¡®çš„ LOD çº¹ç†é‡‡æ ·ã€‚\né€‚ç”¨äº Unity æ”¯æŒçš„æ‰€æœ‰å¹³å°ã€‚\nN/A\n2.5\nå‡ ä¹ä¸ 3.0 ç›¸åŒï¼Œä½†åªæœ‰ 8 ä¸ªæ’å€¼å™¨ï¼Œå¹¶ä¸”æ²¡æœ‰æ˜¾å¼ LOD çº¹ç†é‡‡æ ·ã€‚\nDirectX 11 åŠŸèƒ½ç­‰çº§ 9+OpenGL 3.2+OpenGL ES 2.0VulkanMetal\nderivatives\n3.0\nç›¸å½“äº DirectX ç€è‰²å™¨æ¨¡å‹ 3.0..\nDirectX 11 åŠŸèƒ½çº§åˆ« 10 +OpenGL 3.2+OpenGL ES 3.0+VulkanMetal å¯èƒ½é€‚ç”¨äºæŸäº› OpenGL ES 2.0 è®¾å¤‡ï¼Œå…·ä½“å–å†³äºé©±åŠ¨ç¨‹åºæ‰©å±•å’ŒåŠŸèƒ½ã€‚\nEverything inÂ 2.5, plus:interpolators10 samplelod fragcoord\n3.5\nç›¸å½“äº OpenGL ES 3.0ã€‚\nDirectX 11 åŠŸèƒ½ç­‰çº§ 10+OpenGL 3.2+OpenGL ES 3+VulkanMetal\nEverything inÂ 3.0, plus:interpolators15 mrt4 integers 2darray instancing\n4.0\nç›¸å½“äº DirectX ç€è‰²å™¨æ¨¡å‹ 4.0ï¼Œä½†ä¸éœ€è¦æ”¯æŒ 8 ä¸ª MRTã€‚\nDirectX 11 åŠŸèƒ½çº§åˆ« 10+OpenGL 3.2+OpenGL ES 3.1+AEPVulkanMetalï¼ˆå¦‚æœæœªå®šä¹‰å‡ ä½•é˜¶æ®µï¼‰\nEverything inÂ 3.5, plus:geometry\n4.5\nç›¸å½“äº OpenGL ES 3.1ã€‚\nDirectX 11 åŠŸèƒ½çº§åˆ« 11+OpenGL 4.3+OpenGL ES 3.1VulkanMetal\nEverything inÂ 3.5, plus:compute randomwrite msaatex\n4.6\nç›¸å½“äº OpenGL 4.1ã€‚è¿™æ˜¯ Mac æ”¯æŒçš„æœ€é«˜ OpenGL çº§åˆ«ã€‚\nDirectX 11 åŠŸèƒ½çº§åˆ« 11+OpenGL 4.1+OpenGL ES 3.1+AEPVulkanMetalï¼ˆå¦‚æœæ²¡æœ‰å®šä¹‰å‡ ä½•é˜¶æ®µï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰å¤–å£³æˆ–åŸŸé˜¶æ®µï¼‰\nEverything inÂ 4.0, plus:cubearray tesshw tessellation msaatex\n5.0\nç›¸å½“äº DirectX ç€è‰²å™¨æ¨¡å‹ 5.0ï¼Œä½†ä¸éœ€è¦æ”¯æŒ 32 ä¸ªæ’å€¼å™¨æˆ–ç«‹æ–¹ä½“è´´å›¾æ•°ç»„ã€‚\nDirectX 11 åŠŸèƒ½çº§åˆ« 11+OpenGL 4.3+OpenGL ES 3.1+AEPVulkanMetalï¼ˆå¦‚æœæ²¡æœ‰å®šä¹‰å‡ ä½•é˜¶æ®µï¼Œä¹Ÿæ²¡æœ‰å®šä¹‰å¤–å£³æˆ–åŸŸé˜¶æ®µï¼‰\nEverything inÂ 4.0, plus:compute randomwrite msaatex tesshw tessellation\næœ‰å…³æ§åˆ¶å°å¹³å°çš„ç€è‰²å™¨æ¨¡å‹æ”¯æŒçš„ä¿¡æ¯ï¼Œè¯·å‚é˜…ç‰¹å®šäºå¹³å°çš„æ–‡æ¡£ã€‚ ç¬”è®°ï¼š\nåœ¨ DirectX å®šä¹‰ä¸­ï¼Œç€è‰²å™¨æ¨¡å‹ 4.0 åŒ…æ‹¬â€œmrt8â€ï¼Œç€è‰²å™¨æ¨¡å‹ 5.0 åŒ…æ‹¬â€œinterpolators32â€å’Œâ€œcubearrayâ€ã€‚ Unity ä¸åŒ…æ‹¬è¿™äº›ï¼Œä»¥å®ç°æ›´å¹¿æ³›çš„å…¼å®¹æ€§ã€‚ è¦è¦æ±‚è¿™äº›åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨æ˜ç¡®çš„#pragma require æŒ‡ä»¤ã€‚ å¦‚æœæ‚¨ä½¿ç”¨éœ€è¦ geometry çš„ç›®æ ‡ï¼Œä½†æ‚¨çš„ç€è‰²å™¨æœªå®šä¹‰å‡ ä½•é˜¶æ®µï¼ŒUnity ä¼šåœ¨ç¼–è¯‘æ—¶ä»è¦æ±‚åˆ—è¡¨ä¸­åˆ é™¤ geometryã€‚ å¦‚æœæ‚¨ä½¿ç”¨éœ€è¦â€œæ›²é¢ç»†åˆ†â€çš„ç›®æ ‡ï¼Œä½†æ‚¨çš„ç€è‰²å™¨æœªå®šä¹‰å¤–å£³æˆ–åŸŸé˜¶æ®µï¼ŒUnity ä¼šåœ¨ç¼–è¯‘æ—¶ä»è¦æ±‚åˆ—è¡¨ä¸­åˆ é™¤â€œæ›²é¢ç»†åˆ†â€ã€‚ ğŸ’¡ ä¸€èˆ¬æ¥è¯´é»˜è®¤ä¸å†™shader targeté»˜è®¤é‡‡ç”¨2.0\næ•°æ®ç±»å‹ å¸ƒå°”ç±»å‹ åœ¨cè¯­è¨€ä¸­é0å³ä¸ºçœŸ0å³ä¸ºå‡ï¼Œåœ¨Cgä¸­æœ‰å…³é”®å­—boolå¯ä»¥å£°æ˜boolå˜é‡\nbool bl=true; åŒæ—¶åœ¨Cgä¸­ä¹Ÿå¯ä»¥æ”¯æŒä¸‰ç›®è¡¨è¾¾å¼\ncol=bl?col:fixed4(0,1,0,1); åœ¨Cgä¸­å¯ä»¥ç”±åŸºç¡€çš„æ•°æ®ç±»å‹æ„å»ºå‡ºå‘é‡ ä¾‹å¦‚floatå¯ä»¥æ„å»ºå‡ºäºŒé˜¶çš„å‘é‡float2 ğŸ’¡ Cgå½“ä¸­æœ€å¤šå¯ä»¥æ”¯æŒ4é˜¶çš„å‘é‡\nfloat2 fl2=(1,0); float3 fl3=(1,0,1); float4 fl4=(1,0,0,1); ç”šè‡³boolç±»å‹ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·çš„æ–¹å¼å»å‡‘æˆä¸€ä¸ªå‘é‡ bool2 bl2=(true,false); bool3 bl3=(true,false,true); bool4 bl4=(true,false,false,true); Swizzleæ“ä½œ å¯ä»¥ä½¿ç”¨Cgè¯­è¨€ä¸­çš„swizzleæ“ä½œç¬¦ï¼ˆ.ï¼‰å°†ä¸€ä¸ªå‘é‡çš„æˆå‘˜å–å‡ºç»„æˆä¸€ä¸ªæ–°çš„å‘é‡ã€‚ swizzleæ“ä½œç¬¦è¢«GPUç¡¬ä»¶é«˜æ•ˆæ”¯æŒã€‚ ğŸ’¡ swizzleæ“ä½œç¬¦åæ¥xã€yã€zã€wï¼Œåˆ†åˆ«è¡¨ç¤ºåŸå§‹å‘é‡çš„ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªã€ç¬¬å››ä¸ªå…ƒç´ ï¼›swizzleæ“ä½œç¬¦åæ¥Â rã€gã€bå’Œaçš„å«ä¹‰ä¸å‰è€…ç­‰åŒã€‚\nä¸è¿‡ä¸ºäº†ç¨‹åºçš„æ˜“è¯»æ€§ï¼Œå»ºè®®å¯¹äºè¡¨ç¤ºé¢œè‰²å€¼çš„å‘é‡ï¼Œä½¿ç”¨swizzleæ“ä½œç¬¦åæ¥rã€gã€bå’Œaçš„æ–¹å¼ã€‚\nä¸¾ä¾‹å¦‚ä¸‹ï¼š\nfloat4(a, b, c, d).xyz ç­‰ä»·äº float3(a, b, c) float4(a, b, c, d).xyy ç­‰ä»·äº float3(a, b, b) float4(a, b, c, d).wzyx ç­‰ä»·äº float4(d, c, b, a) float4(a, b, c, d).w ç­‰ä»·äº float d å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒCgè¯­è¨€ä¸­**float a å’Œfloat1 aæ˜¯åŸºæœ¬ç­‰ä»·çš„**ï¼Œä¸¤è€…å¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ï¼›floatã€boolã€halfç­‰åŸºæœ¬ç±»å‹å£°æ˜çš„å˜é‡ä¹Ÿå¯ä»¥ä½¿ç”¨swizzleæ“ä½œç¬¦ã€‚ä¾‹å¦‚ï¼š\nfloat a = 1.0; float4 b = a.xxxx; æ³¨æ„ï¼šswizzleæ“ä½œç¬¦åªèƒ½å¯¹ç»“æ„ä½“å’Œå‘é‡ä½¿ç”¨ï¼Œä¸èƒ½å¯¹æ•°ç»„ä½¿ç”¨ï¼Œå¦‚æœå¯¹æ•°ç»„ä½¿ç”¨swizzleæ“ä½œç¬¦åˆ™ä¼šå‡ºç°é”™è¯¯ä¿¡æ¯ï¼šerror C1010: expression left of .â€xâ€ is not a struct or arrayï¼ˆå…¶å®ä¸ªäººè§‰å¾—ï¼Œæç¤ºçš„é”™è¯¯ä¿¡æ¯ä¸­arrayæ¢æˆvectoræ›´åŠ åˆé€‚ï¼‰ã€‚ è¦ä»æ•°ç»„ä¸­å–å€¼å¿…é¡»ä½¿ç”¨[]ç¬¦å·ã€‚ä¾‹å¦‚ï¼š\nfloat a[3] = {1.0,1.0,0.0}; float b = a[0];//æ­£ç¡® float c = a.x;//ç¼–è¯‘ä¼šæç¤ºé”™è¯¯ä¿¡æ¯ çŸ©é˜µ åœ¨Cgè¯­è¨€å½“ä¸­ï¼Œå£°æ˜ä¸€ä¸ªçŸ©é˜µçš„æ ¼å¼é‡‡ç”¨ï¼š[æ•°æ®ç±»å‹][è¡Œæ•°]x[åˆ—æ•°]\nçŸ©é˜µå£°æ˜ çŸ©é˜µçš„åˆå§‹åŒ– float2x2 M2x2;//å£°æ˜ä¸€ä¸ª2è¡Œ2åˆ—çš„çŸ©é˜µ float2x4 M2x4;//å£°æ˜ä¸€ä¸ª2è¡Œ4åˆ—çš„çŸ©é˜µ //fl2 æ˜¯ä¸€ä¸ªfloatç±»å‹çš„2ç»´æ•°ç»„ float2x4 M2x4={fl2,fl2,(1,1,0,0)}; //fl4 æ˜¯ä¸€ä¸ªfloatç±»å‹çš„4ç»´æ•°ç»„ float2x4 M2x4={fl4,(1,1,0,0)}; /*å£°æ˜ä¸€ä¸ª2è¡Œ2åˆ—çš„çŸ©é˜µï¼Œå¹¶åˆå§‹åŒ– *[0,1] *[0,1] */ float2x2 M2x2={0,1,0,1}; /*å£°æ˜ä¸€ä¸ª2è¡Œ4åˆ—çš„çŸ©é˜µ,å¹¶åˆå§‹åŒ– *[0,1,0,1] *[1,1,0,0] */ float2x4 M2x4={(0,1,0,1),(1,1,0,0)}; çŸ©é˜µå–å€¼ çŸ©é˜µèµ‹å€¼ col=M2x4[0];//(0,1,0,1) col=M2x4[1];//(1,1,0,0) M2x4[0]=fl4; M2x4[1]=(1,1,1,1); M2x4[1]=(fl3,0); æ•°ç»„ å£°æ˜æ•°ç»„ åˆå§‹åŒ–èµ‹å€¼ float arr[4]; float arr[4]={1,0.5,0.5,1}; æ•°ç»„å–å€¼ æ•°ç»„èµ‹å€¼ arr[0];//1 arr[1];//0.5 col=float4(arr[0],arr[1],arr[2],arr[3]); float fl=3; arr[0]=1; arr[1]=2; arr[2]=fl; ç»“æ„ä½“ ç»“æ„ä½“çš„å£°æ˜ struct v2f { float4 pos; float2 uv; }; ç»“æ„ä½“çš„ä½¿ç”¨ v2f o; o.pos=float4(0,1,0,1); o.uv=float2(1,0); #defineä¸typedef #define ğŸ’¡ ****#defineé¢„å¤„ç†è¯­å¥**** #defineè¯­å¥é€šå¸¸æœ‰ä»¥ä¸‹ä¸¤ç§å†™æ³•ï¼š\n#define æ ‡è¯†ç¬¦ å­—ç¬¦ä¸² #define æ ‡è¯†ç¬¦ //ä¾‹å­ #define NUM 0 #define AddNUM (NUM + 0.5) #define Add(x, y) (x+y) #defineè¯­å¥ä¸ºæˆ‘ä»¬çš„å¸¸é‡ï¼ˆå­—ç¬¦ä¸²ï¼‰åˆ†é…ä¸€ä¸ªæœ‰æ„ä¹‰çš„åç§°çš„é¢„å¤„ç†å™¨æŒ‡ä»¤ã€‚å¯ä»¥ç®€å•ç†è§£ä¸ºï¼šåœ¨å‰ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨NUMå»æ›¿ä»£0è¿™ä¸ªæ•°å­—ï¼Œå¹¶å¯ä»¥é€šè¿‡NUMæ¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œ AddNUMä¼šè¢«å®šä¹‰æˆï¼ˆNUM + 0.5ï¼‰ï¼Œä¹Ÿå°±æ˜¯ï¼ˆ0.5 + 0.5ï¼‰ã€‚æ³¨æ„è¿™ä¸ªæ‹¬å·å¾ˆé‡è¦ï¼Œä¼šå¯¼è‡´è¿ç®—é¡ºåºçš„ä¸åŒã€‚æ¥çœ‹ä¸‹é¢è¿™ä¸ªç‰‡å…ƒç€è‰²å™¨çš„è¾“å‡ºï¼š\nfixed4 frag(v2f i) : SV_Target { **return** fixed4(NUM, AddNum, 1, 1); //å®é™…ä¸Šè¾“å‡ºçš„æ˜¯fixed4(0, 1, 1, 1); } è€Œç›¸å¯¹ä¸ä¸Šé¢ä¸¤ç§å†™æ³•ï¼Œç¬¬ä¸‰ç§å†™æ³•å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚Add(x, y)è¡¨ç¤ºå°†è¾“å…¥è¿›æ¥çš„ä¸¤ä¸ªæ•°å€¼è¿›è¡Œç›¸åŠ å¹¶è¿”å›æœ€ç»ˆç»“æœã€‚\nfixed4 frag(v2f i) : SV_Target { **return** fixed4(NUM, AddNum, Add(0.5, 0.5), 1); //å®é™…ä¸Šè¾“å‡ºçš„æ˜¯fixed4(0, 1, (0.5+0.5)=1 , 1); } ä¾‹ #define ONEFL4 float4(1,1,1,1);//å®šä¹‰ONEFL4 å€¼ä¸ºfloat4(1,1,1,1); col=ONEFL4//ç”±äºONEFL4ä¸­åŒ…å«äº†;åˆ†å·ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä¸å†™åˆ†å· typeof ğŸ’¡ å¯ä»¥ä¸ºæŸä¸€ä¸ªç±»å‹æŒ‡å®šç±»å‹åˆ«å\ntypedef float4 FL4;//ä¸ºfloat4ç±»å‹æŒ‡å®šåˆ«åFL4 ä½¿ç”¨ç±»å‹åˆ«å FL4 typeofFl4=FL4(0,1,3,2); float4 buildinFl4=FL4(1,2,3,4); FL4 typeFl4=float4(4,3,2,1); ","permalink":"https://EitanWong.github.io/en/posts/shader/cg%E8%AF%AD%E8%A8%80-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8Cswizzle%E6%93%8D%E4%BD%9C/","summary":"Shader targets â€˜#pragma targetâ€™ å€¼åˆ—è¡¨ è¿™æ˜¯ Unity ä½¿ç”¨çš„ç€è‰²å™¨æ¨¡å‹åˆ—è¡¨ æ³¨æ„ï¼šUnity çš„ç€è‰²å™¨æ¨¡å‹ä¸ DirectX ç€è‰²å™¨æ¨¡å‹å’Œ OpenGL ç‰ˆæœ¬è¦æ±‚ç±»ä¼¼ï¼Œä½†å¹¶ä¸å®Œå…¨å¯¹åº”ã€‚ ä»”ç»†é˜…è¯»è¯´æ˜ä»¥ç¡®ä¿æ‚¨äº†è§£å…¶ä¸­çš„å·®å¼‚ã€‚ å€¼ æè¿° æ”¯æŒ Equivalent #pragma require values 2.0 ç›¸å½“äº DirectX ç€è‰²å™¨æ¨¡å‹ 2.0ã€‚æœ‰é™æ•°é‡çš„ç®—æœ¯å’Œçº¹ç†æŒ‡ä»¤ï¼› 8ä¸ªå†…æ’å™¨ï¼› æ²¡æœ‰é¡¶ç‚¹çº¹ç†é‡‡æ ·ï¼›","title":"CGè¯­è¨€-æ•°æ®ç±»å‹å’Œswizzleæ“ä½œ"},{"content":"Profile ä¸€ä¸ª Cg Profileå®šä¹‰äº†ä¸€ä¸ªâ€œè¢«ç‰¹å®šå›¾å½¢ç¡¬ä»¶æˆ–APIæ‰€æ”¯æŒçš„Cgè¯­è¨€å­é›†â€ ä»»æ„ä¸€ç§shader languageéƒ½æ˜¯åŸºäºå¯ç¼–ç¨‹å›¾å½¢ç¡¬ä»¶çš„å¯„å­˜å™¨ã€æŒ‡ä»¤é›†ç­‰\nè¿™ä¹Ÿå°±æ„å‘³ç€ï¼šä¸åŒçš„å›¾å½¢ç¡¬ä»¶å¯¹åº”ç€ä¸åŒçš„åŠŸèƒ½å­é›†ã€‚è¿™äº›å¯é€‰çš„è¯­è¨€åŠŸèƒ½åŒ…æ‹¬æŸäº›æ§åˆ¶ç»“æ„å’Œæ ‡å‡†å‡½æ•°åº“ã€‚\nprofileè¿˜å®šä¹‰äº†æ•°æ®ç±»å‹çš„ç²¾åº¦ï¼Œå¹¶ä¸”æŒ‡å®šæ•°æ®ç±»å‹æ˜¯å¦å…¨éƒ¨æˆ–ä»…éƒ¨åˆ†æ”¯æŒã€‚\nprofileæŒ‰ä½åŠŸèƒ½å¯ä»¥åˆ’åˆ†ä¸ºé¡¶ç‚¹profileå’Œç‰‡æ®µprofileï¼Œè€Œé¡¶ç‚¹profileå’Œç‰‡æ®µprofileåˆåŸºäºopenglå’Œdirectxçš„ä¸åŒç‰ˆæœ¬æˆ–æ‰©å±•ï¼Œåˆ’åˆ†ä¸ºå„ç§ç‰ˆæœ¬ã€‚\nä»æŸç§æ„ä¹‰ä¸Šè€Œè¨€ï¼Œopenglå’Œdirextxçš„å‘å±•å†ç¨‹æˆå°±äº†cgè¯­è¨€ã€‚\næ•°ç»„åœ¨Cgè¯­è¨€ä¸­æ˜¯ç¬¬ä¸€æ•°æ®ç±»å‹ï¼Œé‚£æ˜¯å› ä¸ºCgä¸æ”¯æŒæŒ‡é’ˆã€‚\nå‡½æ•°å‚æ•°æ˜¯ä½¿ç”¨å€¼ä¼ é€’ã€‚\nç»å¤§éƒ¨åˆ†Cg compiler æ‰€æ”¯æŒçš„ Profiles *é™„ï¼š*æˆªæ­¢åˆ° 2009 å¹´ 10 æœˆï¼Œå‡ºç°çš„ profile å·²ç»ä¸æ­¢ä¸Šé¢è¿™äº›ç§ç±»äº†ï¼Œå°¤å…¶æ˜¯ç°åœ¨ DirectX å·²ç»å‡ºåˆ°äº† 12çš„ç‰ˆæœ¬ã€‚ä¸Šé¢çš„ profile æ˜¯å¯ä»¥åœ¨å½“å‰å¤§å¤šæ•°æœºå™¨ä¸Šä½¿ç”¨çš„ã€‚\n* OpenGL ARB vertex programs Runtime profile: CG_PROFILE_ARBVP1 Compiler option: -profile arbvp1 * OpenGL ARB fragment programs Runtime profile: CG_PROFILE_ARBFP1 Compiler option: -profile arbfp1 * OpenGL NV40 vertex programs Runtime profile: CG_PROFILE_VP40 Compiler option: _profile vp40 * OpenGL NV40 fragment programs Runtime profile: CG_PROFILE_FP40 Compiler option: _profile fp40 * OpenGL NV30 vertex programs Runtime profile: CG_PROFILE_VP30 Compiler option: _profile vp30 * OpenGL NV30 fragment programs Runtime profile: CG_PROFILE_FP30 Compiler option: _profile fp30 * OpenGL NV2X vertex programs Runtime profile: CG_PROFILE_VP20 Compiler option: _profile vp20 * OpenGL NV2X fragment programs Runtime profile: CG_PROFILE_FP20 Compiler option: _profile fp20 * DirectX 9 vertex shaders Runtime profiles: CG_PROFILE_VS_2_X ã€CG_PROFILE_VS_2_0 Compiler options:-profile vs_2_x ã€ -profile vs_2_0 * DirectX 9 pixel shaders Runtime profiles: CG_PROFILE_PS_2_X ã€CG_PROFILE_PS_2_0 Compiler options: -profile ps_2_x ã€-profile ps_2_0 * DirectX 8 vertex shaders Runtime profiles: CG_PROFILE_VS_1_1 Compiler options:-profile vs_1_1 * DirectX 8 pixel shaders Runtime profiles: CG_PROFILE_PS_1_3 ã€CG_PROFILE_PS_1_2 CG_PROFILE_PS_1_1 Compiler options: -profile ps_1_3 ã€-profile ps_1_2 ã€-profile ps_1_2 ã€-profile ps_1_1 ä¾‹ï¼šNVIDIAå®˜ç½‘ç»™å‡ºçš„Cg Profiles fp20ï¼ˆOpenGLç‰‡æ®µç¨‹åºçš„Profileï¼‰çš„æ–‡æ¡£ Cgè¯­è¨€è¯´æ˜æ–‡æ¡£ Cg_language\nåŸºæœ¬æ•°æ®ç±»å‹ Cgè¯­è¨€ä¸­é¢„å®šä¹‰çš„å†…ç½®ï¼ˆbuilt inï¼‰çš„ã€æˆ–ç§°ä¸ºåŸºæœ¬ï¼ˆprimitiveï¼‰çš„æ•°æ®ç±»å‹\nCg æ”¯æŒ 7 ç§åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼š\nfloatï¼Œ32 ä½æµ®ç‚¹æ•°æ®ï¼Œä¸€ä¸ªç¬¦å·ä½ã€‚æµ®ç‚¹æ•°æ®ç±»å‹è¢«æ‰€æœ‰çš„ profile æ”¯æŒï¼ˆä½†æ˜¯ DirectX8 pixel profiles åœ¨ä¸€äº›æ“ä½œä¸­é™ä½äº†æµ®ç‚¹æ•°çš„ç²¾åº¦å’ŒèŒƒå›´ï¼‰ï¼› ![Untitled][img-INDSKRJYEVAUMJKBIQSUKOBFIE4CKOBQFUSTEMCQOJXWM2LMMUSUKNJFHEZCKOCDEVCTKJJZIYSUEQJFIU3CKOKDEVAUGJKFGYSTSNJFIIYCKRJWEU4EIJKBIUSUKNZFIIYSKQSCEVCTKJJZIUSTQQRFGIYGMZJTMJTGMZLEGA4TAOJUGJQTQOLCGUZDKZBSGE4GIZJVHFRTSOBPKVXHI2LUNRSWILTQNZTQ====]\nhalfï¼Œ16 ä¸ºæµ®ç‚¹æ•°æ®ï¼› intï¼Œ32 ä½æ•´å½¢æ•°æ®ï¼Œæœ‰äº› profile ä¼šå°† int ç±»å‹ä½œä¸º float ç±»å‹ä½¿ç”¨ï¼›\nfixedï¼Œ12 ä½å®šç‚¹æ•°ï¼Œè¢«æ‰€æœ‰çš„ fragment profiles æ‰€æ”¯æŒï¼›\nfiexedï¼Œåœ¨Cgä¸­è¿˜æœ‰ä¸€ä¸ªæ•°æ®ç±»å‹fixedï¼Œåœ¨Profile fp20å½“ä¸­å®ƒæ˜¯ä¸€ä¸ª9ä½å®šç‚¹æ•°ï¼Œç¬¦å·ä¸ºå ä¸€ä½ï¼Œæœ‰æ•ˆæ•°å€¼8ä½ï¼Œæœ‰ç¬¦å·(-255,+255)ï¼Œåœ¨å¤„ç†è¿‡ç¨‹å½“ä¸­ï¼Œä¼šè¢«æ ‡é‡åŒ–ä¸ºï¼ˆ-1,1ï¼‰ä¹‹é—´çš„å€¼ï¼Œ æ‰€ä»¥Shaderä¸­ä½¿ç”¨COLORé¢œè‰²æ—¶ï¼Œä½¿ç”¨fixed4ï¼Œå·²ç»æ»¡è¶³äº†çœŸå½©è‰²256256256=16777216\nboolï¼Œå¸ƒå°”æ•°æ®ï¼Œé€šå¸¸ç”¨äº if å’Œæ¡ä»¶æ“ä½œç¬¦ï¼ˆ?:ï¼‰ï¼Œå¸ƒå°”æ•°æ®ç±»å‹è¢«æ‰€æœ‰çš„ profiles æ”¯æŒï¼› samplerï¼Œçº¹ç†å¯¹è±¡çš„å¥æŸ„ï¼ˆthe handle to a texture objectï¼‰ï¼Œåˆ†ä¸º 6 ç±»ï¼š samplerï¼Œsampler1Dï¼Œsampler2Dï¼Œsampler3Dï¼ŒsamplerCUBEå’Œ samplerRECTã€‚ DirectX profiles ä¸æ”¯æŒ samplerRECT ç±»å‹ï¼Œé™¤æ­¤ä¹‹å¤–è¿™äº›ç±»å‹è¢«æ‰€æœ‰çš„ pixel profiles å’Œ NV40 vertex program profile æ‰€æ”¯æŒï¼ˆCgUsersManual 30 é¡µï¼‰ã€‚ç”±æ­¤å¯è§ï¼Œåœ¨ä¸è¿œçš„æœªæ¥ï¼Œé¡¶ç‚¹ç¨‹åºä¹Ÿå°†å¹¿æ³›æ”¯æŒçº¹ç†æ“ä½œï¼› stringï¼Œå­—ç¬¦ç±»å‹ï¼Œè¯¥ç±»å‹ä¸è¢«å½“å‰å­˜åœ¨çš„ profile æ‰€æ”¯æŒï¼Œå®é™…ä¸Šä¹Ÿæ²¡æœ‰å¿…è¦åœ¨ Cg ç¨‹åºä¸­ç”¨åˆ°å­—ç¬¦ç±»å‹ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ Cg runtime API å£°æ˜è¯¥ç±»å‹å˜é‡ï¼Œå¹¶èµ‹å€¼ï¼›å› æ­¤ï¼Œè¯¥ç±»å‹å˜é‡å¯ä»¥ä¿å­˜ Cg æ–‡ä»¶çš„ä¿¡æ¯ã€‚ Cg è¿˜æä¾›äº†å†…ç½®çš„å‘é‡æ•°æ®ç±»å‹(built-in vector data types) ğŸ’¡ å†…ç½®çš„å‘é‡æ•°æ®ç±»å‹åŸºäºåŸºç¡€æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼šfloat4ï¼Œè¡¨ç¤º float ç±»å‹çš„ 4 å…ƒå‘é‡ï¼›bool4ï¼Œè¡¨ç¤º bool ç±»å‹ 4 å…ƒå‘é‡\næ³¨æ„ï¼š å‘é‡é•¿ä¸èƒ½è¶…è¿‡ 4 å…ƒï¼Œå³åœ¨ Cg ç¨‹åºä¸­å¯ä»¥å£°æ˜ float1ã€float2ã€float3ã€float4 ç±»å‹çš„æ•°ç»„å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½å£°æ˜è¶…è¿‡ 4 å…ƒçš„å‘é‡ï¼Œä¾‹å¦‚ï¼š\nfloat5 array;//ç¼–è¯‘æŠ¥é”™ å‘é‡åˆå§‹åŒ–æ–¹å¼ä¸€èˆ¬ä¸ºï¼š\nfloat4 array = float4(1.0, 2.0, 3.0, 4.0); è¾ƒé•¿çš„å‘é‡è¿˜å¯ä»¥é€šè¿‡è¾ƒçŸ­çš„å‘é‡è¿›è¡Œæ„å»ºï¼š\nfloat2 a = float2(1.0, 1.0); float4 b = float4(a, 0.0, 0.0); æ­¤å¤–ï¼ŒCg è¿˜æä¾›çŸ©é˜µæ•°æ®ç±»å‹ï¼Œä¸è¿‡å¤§çš„ç»´æ•°ä¸èƒ½è¶…è¿‡ 4*4 é˜¶ã€‚ä¾‹å¦‚ï¼š\nfloat1x1 matrix1; //ç­‰ä»·äº float matirx1; x æ˜¯å­—ç¬¦ï¼Œå¹¶ä¸æ˜¯ä¹˜å·ï¼ float2x3 matrix2; // è¡¨ç¤º 2*3 é˜¶çŸ©é˜µï¼ŒåŒ…å« 6 ä¸ª float ç±»å‹æ•°æ® float4x2 matrix3; // è¡¨ç¤º4*2 é˜¶çŸ©é˜µï¼ŒåŒ…å« 8 ä¸ª float ç±»å‹æ•°æ® float4x4 matrix4; //è¡¨ç¤º 4*4 é˜¶çŸ©é˜µï¼Œè¿™æ˜¯å¤§çš„ç»´æ•° çŸ©é˜µçš„åˆå§‹åŒ–æ–¹å¼ä¸ºï¼š\nfloat2x3 matrix5 = {1.0, 2.0, 3.0, 4.0, 5.0, 6.0}; æ³¨æ„ï¼š Cg ä¸­å‘é‡ã€çŸ©é˜µä¸æ•°ç»„æ˜¯å®Œå…¨ä¸åŒï¼Œå‘é‡å’ŒçŸ©é˜µæ˜¯å†…ç½®çš„æ•°æ®ç±»å‹ ï¼ˆçŸ©é˜µåŸºäºå‘é‡ï¼‰ï¼Œè€Œæ•°ç»„åˆ™æ˜¯ä¸€ç§æ•°æ®ç»“æ„ ï¼Œä¸æ˜¯å†…ç½®æ•°æ®ç±»å‹ï¼è¿™ä¸€ç‚¹å’Œ CC++ä¸­ä¸å¤ªä¸€æ ·ï¼Œåœ¨ CC++ä¸­ï¼Œè¿™ä¸‰è€…åŒå±äºæ•°æ®ç»“æ„ï¼Œæ•°ç»„å¯ä»¥æ„å»ºå‘é‡å’ŒçŸ©é˜µ\n![img-INDSKRJYEVAUMJKBIQSUKOBFIE4CKOBQFUSTEMCQOJXWM2LMMUSUKNJFHEZCKOCDEVCTKJJZIYSUEQJFIU3CKOKDEVAUGJKFGYSTSNJFIIYCKRJWEU4EIJKBIUSUKNZFIIYSKQSCEVCTKJJZIUSTQQRFGIYGMZJTMJTGMZLEGA4TAOJUGJQTQOLCGUZDKZBSGE4GIZJVHFRTSOBPKVXHI2LUNRSWILTQNZTQ====]: data:image/webp;base64,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Q3nllUTdOzl9AJ1329IfQ7jFqmLpRi1TTe3FewYwmpVMI4FWikMZUToogC9j02JIPaCOh7dbR845uUWlyZwkm1xexI01tpe264vvD5CLDMPmq6OkloaaWqgqpecKXEkqkjSg2UtRHCJ2kKj2qvbQ2scZgqIoZq2nxCeOcI2dOgRxFOdVglNygmylZb6962lxiVWuuMSrLM20XlJjCayjgqo4FBE8aZEhR1AIuL99jjCeeClECisxmQkHRIuAL8l9bcuVXI+cpEroaihpIK+qXFFUGkXBOmKyQmFSk6pSDuCCNdx11uBDHKev6yaKpxCQwFWaJcCskiwgkJzJjuEAK0FzcquBuK62s2g2s2i7oYuM1LLURwCCpQuUlKNrTyxhRAJtdSQNwJ+h7V3GSjw1dOmrUiHnCylJXKEgWSSSb9GgHnI5XyIqFJxOJUJplLogmoIVi804kStKkAJSUnXhJOgvwkgek8+pUafHalBrsQjzQRyXp6YTE3VILE7NVgAAANOk6kkuoxarIRjVTH6ujpcfo67NzSaCoyWzbKYLy33Xtu3F5wmkIB2J17XxGEyVfOqGZc+IyVFTbnqJ6PIhIESjYK2YsAu1gDbU77kvu0egnzPXCrmqOLbDrmuLy02sncT322sncT33Kz2aItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzCLaydxPfbaydxPfcrMItrJ3E99trJ3E99yswi2sncT322sncT33KzD5ozM6BmZgZmYGZmBmZgZmYGZmBmZgZmYGZmBmZgZmYGZmBmZgZmYGZmBmZgZmYGZmBmZgZmYGZmBmZgZmYGZ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eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velg57S93Q3PaXu6G6rg8eb3pbquDx5velhBLMKmRISDs0m5J6XpLJ/WweZfwPK6rg8eb3pfhwmmKgoqluNx2h0YYGJYfT4rGmOpK8qTcBKrauixbi5LsIYcNKsqCSc69z63quDx5veluq4PHm96WHJ4vHLTcS54Jj+YijWFa31yl/M39Z42YfDHxer1JVKSKaQ6yE/wCEv5M+jC0llXqMzPZAZmYfoWg8nU3xSfkDncFB5Opvik/IHO+OdW8Jaf79Lz3gU/36XnuKxxzxbeCSLaLj2iSnPGbKTcWuD0FyOOeGOpgkglTmjlSULTe1wRYtCp0V1HTwQYspMFIihSmJQ2aUJTzjhDh8HQhNtOkZ9Qm4zb4TCmCfEYkFZSmqFitaln7qPpUSS56ehMU4nlqpqmRKShCpQgZQSCbZUjflG++7zvyjw9VJPNKa2onMxzLTIEWKrAX4KR0JA5HpM3vxZU0zExw5uar/AC1L8d8L7F8dX+WpfjvhfYvz928VfXvc25+Kvr3q/A/JMX4l/PLzCEbcG/DykAdlx+54eB+SYvxL+eXmHJtxf08p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ShYKA0ta4aJuTwX1qrusPuz/AMmtVd1h92f+TlZriolwHbVSqhVTZalZiAjS/feaameOZUazGqyQQQkjfft7HSV/GXGaPjPBg0XFzbx1GsdWKohGUekTwDYjkv0jldvUftivi0/Kpxpopp0jVnTRTTM5Y1S87k5E95udycie88GqmXEkZRv/AMT2pTenST2/K52aMzncnInvNzuTkT3nAzoT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYT87k5E95udycie84GYULPB6zHsy/DDdZj2Zfhh0M5ng9Zj2Zfhhusx7MvwwwzmeD1mPZl+GG6zHsy/DDDOZ4PWY9mX4YbrMezL8MMM57RxomoTHIkKQvMFJPSCS6/rMezL8MMjFlojy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\n","permalink":"https://EitanWong.github.io/en/posts/shader/cg%E8%AF%AD%E8%A8%80-profile%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","summary":"Profile ä¸€ä¸ª Cg Profileå®šä¹‰äº†ä¸€ä¸ªâ€œè¢«ç‰¹å®šå›¾å½¢ç¡¬ä»¶æˆ–APIæ‰€æ”¯æŒçš„Cgè¯­è¨€å­é›†â€ ä»»æ„ä¸€ç§shader languageéƒ½æ˜¯åŸºäºå¯ç¼–ç¨‹å›¾å½¢ç¡¬ä»¶çš„å¯„å­˜å™¨ã€æŒ‡ä»¤é›†ç­‰ è¿™ä¹Ÿå°±æ„å‘³ç€ï¼šä¸åŒçš„å›¾å½¢ç¡¬ä»¶å¯¹åº”ç€ä¸åŒçš„åŠŸèƒ½å­é›†ã€‚è¿™äº›å¯é€‰çš„è¯­è¨€åŠŸèƒ½åŒ…æ‹¬æŸäº›æ§åˆ¶ç»“æ„å’Œæ ‡å‡†å‡½æ•°åº“ã€‚ profileè¿˜å®šä¹‰äº†æ•°æ®ç±»","title":"CGè¯­è¨€- Profileå’ŒåŸºæœ¬æ•°æ®ç±»å‹"},{"content":" å’Œç¼–å†™è¡¨é¢ç€è‰²å™¨ä¸ä¸€æ ·ï¼Œåœ¨ç¼–å†™åŸºäºé¡¶ç‚¹å’Œç‰‡å…ƒç€è‰²å™¨å½“ä¸­ï¼Œéœ€è¦åœ¨SubShaderä¸­å†™ä¸ŠPassé€šé“ï¼Œï¼ˆè‡³å°‘è¦æœ‰ä¸€ä¸ªPassé€šé“ï¼‰\nSubShader { pass { } } åœ¨ShaderLabä¸­ä½œä¸ºCGè¯­è¨€å¤„ç† åœ¨Passé€šé“ä¸­ä½¿ç”¨CGPROGRAM å’ŒENDCG åŒ…è£¹ä½ç¼–å†™çš„CGä»£ç ç‰‡æ®µ Shader \u0026#34;Leaning/CGPROGRAM/cg1\u0026#34; { SubShader { pass { CGPROGRAM //ç¼–å†™çš„ä»£ç  ENDCG } } } ğŸ’¡ cè¯­è¨€çš„å…¥å£å‡½æ•°æ˜¯main é¡¶ç‚¹å’Œç‰‡å…ƒç¨‹åºä¹Ÿæœ‰å…¥å£å‡½æ•°\nå®šä¹‰é¡¶ç‚¹å’Œç‰‡å…ƒçš„å…¥å£å‡½æ•° #pragma vertex vert//å£°æ˜é¡¶ç‚¹å¤„ç†å‡½æ•° åä¸ºvert #pragma fragment frag//å£°æ˜ç‰‡å…ƒå¤„ç†å‡½æ•° åä¸º frag ğŸ’¡ åœ¨é¡¶ç‚¹ç‰‡å…ƒç€è‰²å™¨ä¸­ï¼Œé¡¶ç‚¹å‡½æ•°å’Œç‰‡å…ƒå‡½æ•°éƒ½å¿…é¡»ç¼–å†™ æ‰€ä»¥åœ¨CGPROGRAMä¸­éœ€è¦å†™ä¸Šå…·ä½“çš„å‡½æ•°\n//é¡¶ç‚¹å¤„ç†ç¨‹åº void vert() { } //ç‰‡å…ƒå¤„ç†ç¨‹åº void frag() { } ä½†æ˜¯å…‰è¿™æ ·ç¼–å†™æ˜¯ä¸æ­£ç¡®çš„\né¡¶ç‚¹ç¨‹åºä¼šå¯¹é¡¶ç‚¹åšä¸€ç³»åˆ—çš„å¤„ç†ï¼ŒåŒ…æ‹¬å‡ ä½•å˜æ¢ï¼Œå˜æ¢è¿‡åè¦æŠŠéœ€è¦çš„æ•°æ®ï¼Œä¼ å…¥å‡ ä½•ç‰‡å…ƒï¼Œæ‰€ä»¥é¡¶ç‚¹ç¨‹åºå¿…é¡»è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œç„¶åè¾“å‡º\nç‰‡å…ƒç¨‹åºæ‹¿åˆ°é¡¶ç‚¹ä¼ å…¥çš„ç¨‹åºç»§ç»­è¿›è¡Œè®¡ç®—\nè¯­ä¹‰ é¡¶ç‚¹ç¨‹åºå¿…é¡»è¦å¤„ç†é¡¶ç‚¹ï¼Œå°±éœ€è¦ä¼ å…¥é¡¶ç‚¹æ•°æ®\n//é¡¶ç‚¹å¤„ç†ç¨‹åº void vert(in float2 objPos:POSITION) { } ğŸ’¡ æ‰€ä»¥åœ¨é¡¶ç‚¹å¤„ç†ç¨‹åºä¸­ï¼Œå¡«å…¥å˜é‡in float2 objPos:POSITION\ninæ˜¯è¾“å…¥æ•°æ® float2æ˜¯ä¸ªæµ®ç‚¹å€¼ï¼Œå¸¦æœ‰2é˜¶å‘é‡çš„æµ®ç‚¹å€¼ POSITIONåˆ™æ˜¯è¯­ä¹‰ï¼Œä»£è¡¨é¡¶ç‚¹åæ ‡ä½ç½®\nåœ¨é¡¶ç‚¹ç¨‹åºä¸­å†™ä¸Šè¾“å‡ºå‚æ•°out float4 pos:POSITION ğŸ’¡ é¡¶ç‚¹ç¨‹åºå¿…é¡»åŒ…å«å¸¦æœ‰è¯­ä¹‰ä¸ºPOSITIONçš„å‚æ•°\nvoid vert(in float2 objPos:POSITION,out float4 pos:POSITION) { } åœ¨é¡¶ç‚¹å¤„ç†ç¨‹åºä¸­ä¿®æ”¹è¾“å‡ºçš„Pos pos=float4(objPos,0,1);\n//é¡¶ç‚¹å¤„ç†ç¨‹åº void vert(in float2 objPos:POSITION,out float4 pos:POSITION) { pos=float4(objPos,0,1); } ğŸ’¡ åˆ©ç”¨float4å°†ç±»å‹ä¸ºfloat2çš„objPosä¸0å’Œ1ç»„æˆä¸€ä¸ª4é˜¶çš„å‘é‡\nåœ¨ç‰‡å…ƒå¤„ç†ç¨‹åºï¼Œä¹Ÿè¦åšç±»ä¼¼çš„ä¿®æ”¹ ç‰‡å…ƒå¤„ç†ç¨‹åºï¼Œå¿…é¡»è¦è‡³å°‘åŒ…å«ä¸€ä¸ªè¯­ä¹‰ä¸ºCOLOR0æˆ–è€…æ˜¯COLORçš„å‚æ•° COLOR0å’ŒCOLORæ˜¯ç­‰ä»·çš„ï¼Œæ‰€ä»¥äºŒè€…é€‰ä¸€ä¸ªå³å¯\nvoid frag(out float4 col:COLOR) { } ä¸ºè¾“å‡ºçš„COLORé™„ä¸Šçº¢é¢œè‰²çš„å€¼ void frag(out float4 col:COLOR) { col=float4(1,0,0,1); } åœ¨é¡¶ç‚¹å¤„ç†ç¨‹åºå½“ä¸­ä¹Ÿå¯ä»¥å¯¹COLORè¿›è¡Œå¤„ç† ğŸ’¡ åœ¨é¡¶ç‚¹å¤„ç†ç¨‹åºä¸­æ·»åŠ out float4 col:COLOR å¯¹COLORè¿›è¡Œå¤„ç† åœ¨ç‰‡å…ƒå¤„ç†ç¨‹åºå½“ä¸­ï¼Œå°†outæ”¹ä¸ºinoutï¼Œè¡¨ç¤ºCOLORç›´æ¥è¾“å…¥å’Œè¾“å‡º åœ¨fragç‰‡å…ƒå¤„ç†ç¨‹åºå½“ä¸­ä¹Ÿå¯ä»¥ï¼Œç»§ç»­è¿›è¡ŒCOLORé¢œè‰²çš„å¤„ç†ï¼Œç‰‡å…ƒç¨‹åºçš„è®¡ç®—ä¼šåœ¨é¡¶ç‚¹ç¨‹åºè®¡ç®—ä¹‹åï¼Œ æ‰€ä»¥å¦‚æœä¸‹æ®µä»£ç æ³¨é‡Šå»æ‰ï¼Œæœ€ç»ˆä½¿ç”¨çš„é¢œè‰²ä¼šæ˜¯float4(1,0,0,1)\nShader \u0026#34;Leaning/CGPROGRAM/cg1\u0026#34; { SubShader { pass { CGPROGRAM #pragma vertex vert #pragma fragment frag //é¡¶ç‚¹å¤„ç†ç¨‹åº void vert(in float2 objPos:POSITION,out float4 pos:POSITION,out float4 col:COLOR) { pos=float4(objPos,0,1); col=float4(0,0,1,1); } //ç‰‡å…ƒå¤„ç†ç¨‹åº void frag(inout float4 col:COLOR) { // col=float4(1,0,0,1); } ENDCG } } } åœ¨è®¡ç®—æœºå›¾å½¢ç¡¬ä»¶å½“ä¸­éœ€è¦å¯¹3Dç‰©ä½“è¿›è¡Œæ˜¾ç¤ºçš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œä¸€ç³»åˆ—çš„åæ ‡ç³»çš„è½¬æ¢ åæ ‡ç³» ğŸ’¡ ç‰©ä½“çš„åæ ‡ç³»æ˜¯æ²¡æœ‰å‚è€ƒä»·å€¼çš„ï¼Œå®ƒåªæ˜¯åœ¨è‡ªå·±å»ºæ¨¡çš„åæ ‡ç³»å½“ä¸­ æœ€ç»ˆå®ƒè¦è¢«æ”¾åœ¨ä¸–ç•Œå½“ä¸­ï¼Œå®ƒä¸å…¶ä»–ç‰©ä½“ä¼šæœ‰ç›¸å¯¹ä½ç½®ï¼ŒåŒæ—¶å®ƒè¿˜è¢«æ‘„åƒæœºå»æ‹æ‘„ æ‘†åœ¨ä¸åŒçš„ä½ç½®ï¼Œæ‘„åƒæœºå–æ™¯çš„ç»“æœä¼šä¸ä¸€æ · ğŸ’¡ é€šè¿‡ä¸€ç³»åˆ—çš„å˜æ¢ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªCVVçš„è£å‰ªç«‹æ–¹ä½“ pos=float4(objPos,0,1); objPosåœ¨ç‰©ä½“åæ ‡ç³»å½“ä¸­é¡¶ç‚¹x,y æœ€å¤§å¯èƒ½æ˜¯x=0.5ï¼Œy=0.5 æœ€å°å¯èƒ½æ˜¯x=-0.5ï¼Œy=-0.5 å½“ä¸åé¢çš„0å’Œ1ç»„åˆè¿‡åï¼Œåœ¨CVVè£å‰ªç«‹æ–¹ä½“åï¼Œå¾—åˆ°çš„å°±æ˜¯-0.5åˆ°+0.5 col=pos; è®©é¡¶ç‚¹æ•°æ®ç›´æ¥ç­‰äºposï¼Œåº”ä¸ºæ•°æ®ç±»å‹éƒ½æ˜¯float4ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥èµ‹å€¼ (x,y,z,w)å¯¹åº”çš„é¢œè‰²åˆ†é‡å³ä¸º(r,g,b,a),å¯ä»¥å‘ˆç°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„æ•ˆæœ\n","permalink":"https://EitanWong.github.io/en/posts/shader/cg%E8%AF%AD%E8%A8%80-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%92%8C%E8%AF%AD%E4%B9%89/","summary":"å’Œç¼–å†™è¡¨é¢ç€è‰²å™¨ä¸ä¸€æ ·ï¼Œåœ¨ç¼–å†™åŸºäºé¡¶ç‚¹å’Œç‰‡å…ƒç€è‰²å™¨å½“ä¸­ï¼Œéœ€è¦åœ¨SubShaderä¸­å†™ä¸ŠPassé€šé“ï¼Œï¼ˆè‡³å°‘è¦æœ‰ä¸€ä¸ªPassé€šé“ï¼‰ SubShader { pass { } } åœ¨ShaderLabä¸­ä½œä¸ºCGè¯­è¨€å¤„ç† åœ¨Passé€šé“ä¸­ä½¿ç”¨CGPROGRAM å’ŒENDCG åŒ…è£¹ä½ç¼–å†™çš„CGä»£ç ç‰‡æ®µ Shader \u0026#34;Leaning/CGPROGRAM/cg1\u0026#34; { SubShader { pass { CGPROGRAM //ç¼–å†™çš„ä»£","title":"CGè¯­è¨€-è¾“å…¥è¾“å‡ºå’Œè¯­ä¹‰"},{"content":" å®Œæ•´æ¡ˆä¾‹ä»£ç  Shader \u0026#34;Learning/2.SurfaceShader/SurfaceShader1\u0026#34; { Properties { _Color (\u0026#34;Color\u0026#34;, Color) = (1,1,1,1) _MainTex (\u0026#34;Albedo (RGB)\u0026#34;, 2D) = \u0026#34;white\u0026#34; {} _Glossiness (\u0026#34;Smoothness\u0026#34;, Range(0,1)) = 0.5 _Metallic (\u0026#34;Metallic\u0026#34;, Range(0,1)) = 0.0 } SubShader { Tags { \u0026#34;RenderType\u0026#34;=\u0026#34;Opaque\u0026#34; } LOD 200 CGPROGRAM // Physically based Standard lighting model, and enable shadows on all light types #pragma surface surf Standard fullforwardshadows // Use shader model 3.0 target, to get nicer looking lighting #pragma target 3.0 sampler2D _MainTex; struct Input { float2 uv_MainTex; }; half _Glossiness; half _Metallic; fixed4 _Color; // Add instancing support for this shader. You need to check \u0026#39;Enable Instancing\u0026#39; on materials that use the shader. // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing. // #pragma instancing_options assumeuniformscaling UNITY_INSTANCING_BUFFER_START(Props) // put more per-instance properties here UNITY_INSTANCING_BUFFER_END(Props) void surf (Input IN, inout SurfaceOutputStandard o) { // Albedo comes from a texture tinted by color fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color; o.Albedo = c.rgb; // Metallic and smoothness come from slider variables o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = c.a; } ENDCG } FallBack \u0026#34;Diffuse\u0026#34; } SubShader ğŸ’¡ SurfaceShaderæ˜¯å¯¹Vertexä¸FragmentShaderçš„ä¸€ç§åŒ…è£… SubShaderä¸­æ²¡æœ‰Passé€šé“ï¼Œå¦‚æœä¸€æ—¦æ·»åŠ äº†Passé€šé“åˆ™ä¼šæŠ¥é”™\nTags Tags { \u0026#34;RenderType\u0026#34;=\u0026#34;Opaque\u0026#34; }//æ¸²æŸ“ç±»å‹ï¼ŒOpaqueè¡¨ç¤ºè¿™ä¸ªæ¸²æŸ“çš„æ˜¯ä¸€ä¸ªä¸é€æ˜çš„ç‰©ä½“ CGPROGRAMæ˜¯ä¸€ä¸ªCGè¯­è¨€çš„ä»£ç å—ï¼Œä¸€èˆ¬ä»¥CGPROGRAMå¼€å¤´ï¼ŒENDCGç»“å°¾\n#pragma ç¼–è¯‘æŒ‡ä»¤ ğŸ’¡ æ ‡å‡†æ ¼å¼å¦‚ä¸‹\n#pragma surface surfaceFunction lightModel [optionalparams] surface è¡¨ç¤ºå£°æ˜è¿™æ˜¯ä¸€ä¸ªsurfaceShaderï¼Œè®©Unityè¿›è¡Œç¼–è¯‘å¤„ç† surface Function æ˜¯å£°æ˜è¡¨é¢ç€è‰²å™¨çš„å¤„ç†æ–¹æ³•ï¼ˆé»˜è®¤æ˜¯surfï¼‰å’Œä¸‹æ–¹ç”Ÿæˆçš„surfæ–¹æ³•åç§°è¦ä¸€è‡´ lightModel å£°æ˜å…‰ç…§æ¨¡å‹ï¼Œåœ¨é»˜è®¤åˆ›å»ºçš„è¡¨é¢ç€è‰²å™¨å½“ä¸­ä½¿ç”¨çš„æ˜¯Standardï¼Œï¼ˆè¿™é‡Œçš„å…‰ç…§æ¨¡å‹å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åœ¨Unityç¼–è¾‘å™¨è·¯å¾„ä¸­çš„DataCGIncludesæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ï¼‰ ï¼ˆåœ¨è‡ªå·±ç¼–å†™å…‰ç…§å‡½æ•°çš„æ—¶å€™å‰é¢å¿…é¡»åŠ ä¸Šâ€œLightingâ€å¦åˆ™ShaderLabæ— æ³•è¯†åˆ«ï¼‰ optionalParamså…¶ä»–çš„é€‰é¡¹å‚æ•° é»˜è®¤çš„fullforwardshadowsï¼Œæ˜¯ç”Ÿæˆæ”¯æŒå‰å‘æ¸²æŸ“è·¯å¾„çš„é˜´å½± é»˜è®¤çš„Shaderåœ¨å‰å‘æ¸²æŸ“ä¸­åªæ”¯æŒä¸€ä¸ªdirectional lightç”Ÿæˆé˜´å½± å¦‚æœéœ€è¦åœ¨å‰å‘æ¸²æŸ“ä¸­æ”¯æŒPointLightæˆ–è€…SpotLightçš„é˜´å½±ï¼Œéœ€è¦ä½¿ç”¨directive #pragma target 3.0 ğŸ’¡ è¯´æ˜å°†ä½¿ç”¨ç¡¬ä»¶çš„Shader Model 3.0 ç‰ˆæœ¬è¶Šé«˜Shaderçš„åŠŸèƒ½è¶Šå¤š å¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤ä½¿ç”¨çš„æ˜¯ShaderModel2.0 (ä½¿ç”¨ShaderModel3.0å¯ä»¥è·å¾—ä¸€ä¸ªæ›´å¥½çœ‹çš„å…‰ç…§æ•ˆæœ) ğŸ’¡ sampler2D _MainTex;æ˜¯å¯¹ _MainTexå±æ€§çš„ä¸€ä¸ªå˜é‡å£°æ˜ ğŸ’¡ è¿™æ˜¯ä¸€ä¸ªç»“æ„ä½“ ç”¨äºå¯¹UVçº¹ç†åæ ‡çš„è¾“å…¥ *ç¼–å†™çš„ç€è‰²å™¨uvçº¹ç†é‡‡æ ·å˜é‡å£°æ˜ä¸€å®šè¦ä»¥uvæˆ–è€…uv2å¼€å¤´ï¼Œ(å¦åˆ™)ShaderLabå°†æ— æ³•è¯†åˆ«å¤„ç†\nstruct Input { float2 uv_MainTex; }; å¦‚æœå£°æ˜äº†ä¸€ä¸ª_MainTex (\u0026quot;Albedo (RGB)\u0026quot;, 2D) = \u0026quot;white\u0026quot; {}çš„çº¹ç†é‡‡æ ·å±æ€§ é‚£ä¹ˆç»“æ„ä½“ä¸­å‘½åuvçº¹ç†é‡‡æ ·çš„å˜é‡åå¿…é¡»ä»¥uvå¼€å¤´ï¼Œå¹¶ä¸”uvåé¢çš„åç§°è¦å’Œå±æ€§åä¸€æ · ä¾‹å¦‚ï¼šuv_MainTex\nhalf _Glossiness; half _Metallic; fixed4 _Color; ğŸ’¡ å¯¹å…¶ä»–ä¸‰ä¸ªå±æ€§çš„å˜é‡å£°æ˜ï¼Œå…‰æ³½åº¦ï¼Œé‡‘å±åº¦ï¼Œé¢œè‰²\nåœ¨CGç¨‹åºä¸­ï¼Œéœ€è¦å¯¹Shaderä¸­æ‰€æœ‰çš„Proprietiesçš„å±æ€§ï¼Œéƒ½è¿›è¡Œå˜é‡çš„å£°æ˜ Propertiesä¸­çš„ç±»å‹ä¸CGå½“ä¸­çš„ç±»å‹ä¸æ˜¯å¯¹åº”çš„ å¸¸ç”¨çš„å¯¹åº”ç±»å‹å¯ä»¥æŸ¥çœ‹ä¸‹æ–¹è¡¨æ ¼\nProprieties\nCG\n2D\nsampler2D\nColor\nfixed4\nRange\nhalf\nInputè¡¨é¢ç€è‰²å™¨è¾“å…¥ç»“æ„ è¾“å…¥ç»“æ„Â InputÂ é€šå¸¸å…·æœ‰ç€è‰²å™¨æ‰€éœ€çš„æ‰€æœ‰çº¹ç†åæ ‡ã€‚çº¹ç†åæ ‡å¿…é¡»å‘½åä¸ºâ€œuvâ€åè·Ÿçº¹ç†åç§°çš„å½¢å¼ï¼ˆå¦‚æœè¦ä½¿ç”¨ç¬¬äºŒä¸ªçº¹ç†åæ ‡é›†ï¼Œåˆ™ä»¥â€œuv2â€å¼€å¤´ï¼‰ã€‚ å¯ä»¥æ”¾å…¥è¾“å…¥ç»“æ„çš„å…¶ä»–å€¼ï¼š\nfloat3 viewDirÂ - åŒ…å«è§†å›¾æ–¹å‘ï¼Œç”¨äºè®¡ç®—è§†å·®æ•ˆæœã€è¾¹ç¼˜å…‰ç…§ç­‰ç­‰ã€‚ å…·æœ‰Â COLORÂ è¯­ä¹‰çš„Â float4Â - åŒ…å«æ’å€¼çš„æ¯é¡¶ç‚¹é¢œè‰²ã€‚ float4 screenPosÂ - åŒ…å«åå°„æˆ–å±å¹•ç©ºé—´æ•ˆæœçš„å±å¹•ç©ºé—´ä½ç½®ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸é€‚åˆ ï¼›æ‚¨éœ€è¦ä½¿ç”¨Â ComputeGrabScreenPosÂ å‡½æ•°è‡ªå·±è®¡ç®—è‡ªå®šä¹‰ UVã€‚ float3 worldPosÂ - åŒ…å«ä¸–ç•Œç©ºé—´ä½ç½®ã€‚ float3 worldReflÂ - åœ¨_è¡¨é¢ç€è‰²å™¨ä¸å†™å…¥ o.Normal_ çš„æƒ…å†µä¸‹ï¼ŒåŒ…å«ä¸–ç•Œåå°„çŸ¢é‡ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…åå…‰æ¼«å°„ (Reflect-Diffuse) ç€è‰²å™¨ã€‚ float3 worldNormalÂ - åœ¨_è¡¨é¢ç€è‰²å™¨ä¸å†™å…¥ o.Normal_ çš„æƒ…å†µä¸‹ï¼ŒåŒ…å«ä¸–ç•Œæ³•çº¿çŸ¢é‡ã€‚ float3 worldRefl; INTERNAL_DATAÂ - åœ¨_è¡¨é¢ç€è‰²å™¨å†™å…¥ o.Normal_ çš„æƒ…å†µä¸‹ï¼ŒåŒ…å«ä¸–ç•Œåå°„çŸ¢é‡ã€‚è¦è·å¾—åŸºäºæ¯åƒç´ æ³•çº¿è´´å›¾çš„åå°„çŸ¢é‡ï¼Œè¯·ä½¿ç”¨Â WorldReflectionVector (IN, o.Normal)ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚é˜…åå…‰å‡¹å‡¸ (Reflect-Bumped) ç€è‰²å™¨ã€‚ float3 worldNormal; INTERNAL_DATAÂ - åœ¨_è¡¨é¢ç€è‰²å™¨å†™å…¥ o.Normal_ çš„æƒ…å†µä¸‹ï¼ŒåŒ…å«ä¸–ç•Œæ³•çº¿çŸ¢é‡ã€‚è¦è·å¾—åŸºäºæ¯åƒç´ æ³•çº¿è´´å›¾çš„æ³•çº¿çŸ¢é‡ï¼Œè¯·ä½¿ç”¨Â WorldNormalVector (IN, o.Normal)ã€‚ surfå‡½æ•° void surf (Input IN, inout SurfaceOutputStandard o) { // Albedo comes from a texture tinted by color fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color; o.Albedo = c.rgb; // Metallic and smoothness come from slider variables o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = c.a; } å‚æ•°ä¸­çš„inout è¡¨ç¤ºæ—¢æ˜¯è¾“å…¥ä¹Ÿæ˜¯è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯å®šä¹‰äº†åé¢çš„SurfaceOutputStandardç»“æ„æ˜¯è¾“å…¥ç»“æ„åˆæ˜¯è¾“å‡ºç»“æ„\nå¯ä»¥å®šä¹‰ä¸€ä¸ªâ€œè¡¨é¢å‡½æ•°â€ï¼Œå®ƒå°†æ‚¨éœ€è¦çš„æ‰€æœ‰ UV æˆ–æ•°æ®ä½œä¸ºè¾“å…¥ï¼Œå¹¶å¡«å……è¾“å‡ºç»“æ„Â SurfaceOutputã€‚SurfaceOutput åŸºæœ¬ä¸Šæè¿°äº†_è¡¨é¢çš„å±æ€§_ï¼ˆåç…§ç‡é¢œè‰²ã€æ³•çº¿ã€å‘å…‰ã€é•œé¢åå°„ç­‰ï¼‰ã€‚æ‚¨éœ€è¦ä½¿ç”¨ HLSL ç¼–å†™æ­¤ä»£ç ã€‚ è¡¨é¢ç€è‰²å™¨ç¼–è¯‘å™¨éšåè®¡ç®—å‡ºéœ€è¦çš„è¾“å…¥ã€å¡«å……çš„è¾“å‡ºç­‰ç­‰ï¼Œå¹¶ç”Ÿæˆå®é™…çš„ ä»¥åŠæ¸²æŸ“é€šé“æ¥å¤„ç†å‰å‘å’Œå»¶è¿Ÿæ¸²æŸ“ã€‚ ä»¥ä¸‹æ˜¯è¡¨é¢ç€è‰²å™¨çš„æ ‡å‡†è¾“å‡ºç»“æ„ (ä¸æ˜¯åŸºäºPBRçš„æ•ˆæœä¼šå·®ä¸€ç‚¹ï¼Œä½†æ˜¯æ€§èƒ½ä¼šå¥½ä¸€ç‚¹ï¼ŒUnity5ä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨)\nstruct SurfaceOutput { fixed3 Albedo; // æ¼«å°„é¢œè‰² fixed3 Normal; // åˆ‡çº¿ç©ºé—´æ³•çº¿ï¼ˆå¦‚æœå·²å†™å…¥ï¼‰ fixed3 Emission; half Specular; // 0..1 èŒƒå›´å†…çš„é•œé¢åå°„èƒ½åŠ› fixed Gloss; // é•œé¢åå°„å¼ºåº¦ fixed Alpha; // é€æ˜åº¦ Alpha }; åœ¨ Unity 5 ä¸­ï¼Œè¡¨é¢ç€è‰²å™¨è¿˜å¯ä»¥ä½¿ç”¨åŸºäºç‰©ç†çš„å…‰ç…§æ¨¡å‹ã€‚å†…ç½®æ ‡å‡†å…‰ç…§æ¨¡å‹å’Œæ ‡å‡†é•œé¢åå°„å…‰ç…§æ¨¡å‹ï¼ˆè§ä¸‹æ–‡ï¼‰åˆ†åˆ«ä½¿ç”¨ä»¥ä¸‹è¾“å‡ºç»“æ„ï¼š\nstruct SurfaceOutputStandard { fixed3 Albedo; // åŸºç¡€ï¼ˆæ¼«å°„æˆ–é•œé¢åå°„ï¼‰é¢œè‰² fixed3 Normal; // åˆ‡çº¿ç©ºé—´æ³•çº¿ï¼ˆå¦‚æœå·²å†™å…¥ï¼‰ half3 Emission; half Metallic; // 0=éé‡‘å±ï¼Œ1=é‡‘å± half Smoothness; // 0=ç²—ç³™ï¼Œ1=å¹³æ»‘ half Occlusion; // é®æŒ¡ï¼ˆé»˜è®¤ä¸º 1ï¼‰ fixed Alpha; // é€æ˜åº¦ Alpha }; struct SurfaceOutputStandardSpecular { fixed3 Albedo; // æ¼«å°„é¢œè‰² fixed3 Specular; // é•œé¢åå°„é¢œè‰² fixed3 Normal; // åˆ‡çº¿ç©ºé—´æ³•çº¿ï¼ˆå¦‚æœå·²å†™å…¥ï¼‰ half3 Emission; half Smoothness; // 0=ç²—ç³™ï¼Œ1=å¹³æ»‘ half Occlusion; // é®æŒ¡ï¼ˆé»˜è®¤ä¸º 1ï¼‰ fixed Alpha; // é€æ˜åº¦ Alpha }; ä»çº¹ç†å½“ä¸­é‡‡æ ·é¢œè‰²ï¼Œä½¿ç”¨Cgå½“ä¸­çš„tex2Dæ–¹æ³•ï¼Œéœ€è¦ä¼ å…¥çº¹ç†å’Œnvåæ ‡ï¼Œæœ€åçš„*_Coloræ˜¯å åŠ çš„é¢œè‰² fixed4 c = tex2D (_MainTex, IN.uv_MainTex) * _Color; é¢œè‰²å–rgbå€¼èµ‹ç»™è¾“å‡ºç»“æ„ä½“ä¸­çš„AlbedoåŸºç¡€é¢œè‰²å˜é‡ o.Albedo = c.rgb; å…¶ä»–çš„å±æ€§ä¹ŸåŒæ ·å¯¹ç»“æ„ä½“ä¸­çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¾“å‡ºç»“æ„ä½“ä¸­çš„Alphao.Alphaèµ‹å€¼ä¸ºé‡‡æ ·å‡ºæ¥çš„çº¹ç†é¢œè‰²cçš„Alphaå€¼c.a o.Metallic = _Metallic; o.Smoothness = _Glossiness; o.Alpha = c.a; Unityå†…ç½®çš„å…‰ç…§æ¨¡å‹ ğŸ’¡ Unityå†…ç½®çš„å…‰ç…§æ¨¡å‹åœ¨CGIncludesæ–‡ä»¶å¤¹å†…çš„Lighting.cginc Unityå†…ç½®çš„å…‰ç…§æ¨¡å‹CGä»£ç  ``` #ifndef LIGHTING_INCLUDED #define LIGHTING_INCLUDED #include \u0026ldquo;UnityLightingCommon.cginc\u0026rdquo; #include \u0026ldquo;UnityGBuffer.cginc\u0026rdquo; #include \u0026ldquo;UnityGlobalIllumination.cginc\u0026rdquo; struct SurfaceOutput { fixed3 Albedo; fixed3 Normal; fixed3 Emission; half Specular; fixed Gloss; fixed Alpha; }; #ifndef USING_DIRECTIONAL_LIGHT #if defined (DIRECTIONAL_COOKIE) defined (DIRECTIONAL) #define USING_DIRECTIONAL_LIGHT #endif #endif #if defined(UNITY_SHOULD_SAMPLE_SH) defined(LIGHTMAP_ON) defined(DYNAMICLIGHTMAP_ON) #define UNITY_LIGHT_FUNCTION_APPLY_INDIRECT #endif inline fixed4 UnityLambertLight (SurfaceOutput s, UnityLight light) { fixed diff = max (0, dot (s.Normal, light.dir)); fixed4 c; c.rgb = s.Albedo * light.color * diff; c.a = s.Alpha; return c; } inline fixed4 LightingLambert (SurfaceOutput s, UnityGI gi) { fixed4 c; c = UnityLambertLight (s, gi.light); #ifdef UNITY_LIGHT_FUNCTION_APPLY_INDIRECT c.rgb += s.Albedo * gi.indirect.diffuse; #endif return c; } inline half4 LightingLambert_Deferred (SurfaceOutput s, UnityGI gi, out half4 outGBuffer0, out half4 outGBuffer1, out half4 outGBuffer2) { UnityStandardData data; data.diffuseColor = s.Albedo; data.occlusion = 1; data.specularColor = 0; data.smoothness = 0; data.normalWorld = s.Normal; UnityStandardDataToGbuffer(data, outGBuffer0, outGBuffer1, outGBuffer2); half4 emission = half4(s.Emission, 1); #ifdef UNITY_LIGHT_FUNCTION_APPLY_INDIRECT emission.rgb += s.Albedo * gi.indirect.diffuse; #endif return emission; } inline void LightingLambert_GI ( SurfaceOutput s, UnityGIInput data, inout UnityGI gi) { gi = UnityGlobalIllumination (data, 1.0, s.Normal); } inline fixed4 LightingLambert_PrePass (SurfaceOutput s, half4 light) { fixed4 c; c.rgb = s.Albedo * light.rgb; c.a = s.Alpha; return c; } // NOTE: some intricacy in shader compiler on some GLES2.0 platforms (iOS) needs \u0026lsquo;viewDir\u0026rsquo; \u0026amp; \u0026lsquo;h\u0026rsquo; // to be mediump instead of lowp, otherwise specular highlight becomes too bright. inline fixed4 UnityBlinnPhongLight (SurfaceOutput s, half3 viewDir, UnityLight light) { half3 h = normalize (light.dir + viewDir); fixed diff = max (0, dot (s.Normal, light.dir)); float nh = max (0, dot (s.Normal, h)); float spec = pow (nh, s.Specular*128.0) * s.Gloss; fixed4 c; c.rgb = s.Albedo * light.color * diff + light.color * _SpecColor.rgb * spec; c.a = s.Alpha; return c; } inline fixed4 LightingBlinnPhong (SurfaceOutput s, half3 viewDir, UnityGI gi) { fixed4 c; c = UnityBlinnPhongLight (s, viewDir, gi.light); #ifdef UNITY_LIGHT_FUNCTION_APPLY_INDIRECT c.rgb += s.Albedo * gi.indirect.diffuse; #endif return c; } inline half4 LightingBlinnPhong_Deferred (SurfaceOutput s, half3 viewDir, UnityGI gi, out half4 outGBuffer0, out half4 outGBuffer1, out half4 outGBuffer2) { UnityStandardData data; data.diffuseColor = s.Albedo; data.occlusion = 1; // PI factor come from StandardBDRF (UnityStandardBRDF.cginc:351 for explanation) data.specularColor = _SpecColor.rgb * s.Gloss * (1/UNITY_PI); data.smoothness = s.Specular; data.normalWorld = s.Normal; UnityStandardDataToGbuffer(data, outGBuffer0, outGBuffer1, outGBuffer2); half4 emission = half4(s.Emission, 1); #ifdef UNITY_LIGHT_FUNCTION_APPLY_INDIRECT emission.rgb += s.Albedo * gi.indirect.diffuse; #endif return emission; } inline void LightingBlinnPhong_GI ( SurfaceOutput s, UnityGIInput data, inout UnityGI gi) { gi = UnityGlobalIllumination (data, 1.0, s.Normal); } inline fixed4 LightingBlinnPhong_PrePass (SurfaceOutput s, half4 light) { fixed spec = light.a * s.Gloss; fixed4 c; c.rgb = (s.Albedo * light.rgb + light.rgb * _SpecColor.rgb * spec); c.a = s.Alpha; return c; } #ifdef UNITY_CAN_COMPILE_TESSELLATION struct UnityTessellationFactors { float edge[3] : SV_TessFactor; float inside : SV_InsideTessFactor; }; #endif // UNITY_CAN_COMPILE_TESSELLATION // Deprecated, kept around for existing user shaders. #define UNITY_DIRBASIS const half3x3 unity_DirBasis = half3x3( half3( 0.81649658, 0.0, 0.57735027), half3(-0.40824830, 0.70710678, 0.57735027), half3(-0.40824830, -0.70710678, 0.57735027) ); // Deprecated, kept around for existing user shaders. Only sampling the flat lightmap now. half3 DirLightmapDiffuse(in half3x3 dirBasis, fixed4 color, fixed4 scale, half3 normal, bool surfFuncWritesNormal, out half3 scalePerBasisVector) { scalePerBasisVector = 1; return DecodeLightmap (color); } #endif ```\nlightModelÂ - è¦ä½¿ç”¨çš„å…‰ç…§æ¨¡å‹ã€‚ å†…ç½®å…‰ç…§æ¨¡å‹æ˜¯åŸºäºç‰©ç†çš„Â StandardÂ å’ŒÂ StandardSpecularï¼Œä»¥åŠç®€å•çš„éåŸºäºç‰©ç†çš„Â Lambertï¼ˆæ¼«å°„ï¼‰å’ŒÂ BlinnPhongï¼ˆé•œé¢åå°„ï¼‰ã€‚è¯·å‚é˜… é¡µé¢ä»¥äº†è§£å¦‚ä½•ç¼–å†™è‡ªå·±çš„å…‰ç…§æ¨¡å‹ã€‚ StandardÂ å…‰ç…§æ¨¡å‹ä½¿ç”¨Â SurfaceOutputStandardÂ è¾“å‡ºç»“æ„ï¼Œå¹¶ä¸ Unity ä¸­çš„æ ‡å‡†ï¼ˆé‡‘å±æ€§å·¥ä½œæµï¼‰ç€è‰²å™¨åŒ¹é…ã€‚ StandardSpecularÂ å…‰ç…§æ¨¡å‹ä½¿ç”¨Â SurfaceOutputStandardSpecularÂ è¾“å‡ºç»“æ„ï¼Œå¹¶ä¸ Unity ä¸­çš„æ ‡å‡†ï¼ˆé•œé¢åå°„è®¾ç½®ï¼‰ç€è‰²å™¨åŒ¹é…ã€‚ LambertÂ å’ŒÂ BlinnPhongÂ å…‰ç…§æ¨¡å‹ä¸æ˜¯åŸºäºç‰©ç†çš„ï¼ˆæ¥è‡ª Unity 4.xï¼‰ï¼Œä½†ä½¿ç”¨è¿™ä¸¤ä¸ªå…‰ç…§æ¨¡å‹çš„ç€è‰²å™¨åœ¨ä½ç«¯ç¡¬ä»¶ä¸Šå¯ä»¥æé«˜æ¸²æŸ“é€Ÿåº¦ã€‚ å®ç°SurfaceShaderä¸‹çš„ç‰©ä½“é€æ˜æ•ˆæœ åœ¨SurfaceShaderä¸­ä½¿ç”¨Alphaæ··åˆå®ç°é€æ˜æ•ˆæœ **é€æ˜åº¦å’Œ Alpha æµ‹è¯•**ç”±Â `alpha`Â å’ŒÂ `alphatest`Â æŒ‡ä»¤æ§åˆ¶ã€‚é€æ˜åº¦é€šå¸¸å¯ä»¥æœ‰ä¸¤ç§ï¼šä¼ ç»Ÿçš„ Alpha æ··åˆï¼ˆç”¨äºæ·¡å‡ºå¯¹è±¡ï¼‰æˆ–æ›´ç¬¦åˆç‰©ç†è§„å¾‹çš„â€œé¢„ä¹˜æ··åˆâ€ï¼ˆå…è®¸åŠé€æ˜è¡¨é¢ä¿ç•™é€‚å½“çš„é•œé¢åå°„ï¼‰ã€‚å¯ç”¨åŠé€æ˜åº¦ä¼šä½¿ç”Ÿæˆçš„è¡¨é¢ç€è‰²å™¨ä»£ç åŒ…å« å‘½ä»¤ï¼›è€Œå¯ç”¨ Alpha é•‚ç©ºå°†æ ¹æ®ç»™å®šçš„å˜é‡åœ¨ç”Ÿæˆçš„åƒç´ ç€è‰²å™¨ä¸­æ‰§è¡Œç‰‡å…ƒåºŸå¼ƒã€‚\nalphaÂ æˆ–Â alpha:autoÂ - å¯¹äºç®€å•çš„å…‰ç…§å‡½æ•°ï¼Œå°†é€‰æ‹©æ·¡åŒ–é€æ˜åº¦ï¼ˆä¸Â alpha:fadeÂ ç›¸åŒï¼‰ï¼›å¯¹äºåŸºäºç‰©ç†çš„å…‰ç…§å‡½æ•°ï¼Œå°†é€‰æ‹©é¢„ä¹˜é€æ˜åº¦ï¼ˆä¸Â alpha:premulÂ ç›¸åŒï¼‰ã€‚\nalpha:blendÂ - å¯ç”¨ Alpha æ··åˆã€‚\nalpha:fadeÂ - å¯ç”¨ä¼ ç»Ÿæ·¡åŒ–é€æ˜åº¦ã€‚\nalpha:premulÂ - å¯ç”¨é¢„ä¹˜ Alpha é€æ˜åº¦ã€‚\nalphatest:VariableNameÂ - å¯ç”¨ Alpha é•‚ç©ºé€æ˜åº¦ã€‚å‰ªåˆ‡å€¼ä½äºå…·æœ‰ VariableName çš„æµ®ç‚¹å˜é‡ä¸­ã€‚æ‚¨å¯èƒ½è¿˜æƒ³ä½¿ç”¨Â addshadowÂ æŒ‡ä»¤ç”Ÿæˆæ­£ç¡®çš„é˜´å½±æŠ•å°„ç‰©é€šé“ã€‚\nkeepalphaÂ - é»˜è®¤æƒ…å†µä¸‹ï¼Œæ— è®ºè¾“å‡ºç»“æ„çš„ Alpha è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Œæˆ–è€…å…‰ç…§å‡½æ•°è¿”å›ä»€ä¹ˆï¼Œä¸é€æ˜è¡¨é¢ç€è‰²å™¨éƒ½å°† 1.0ï¼ˆç™½è‰²ï¼‰å†™å…¥ Alpha é€šé“ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ä¿æŒå…‰ç…§å‡½æ•°çš„ Alpha å€¼ï¼Œå³ä½¿å¯¹äºä¸é€æ˜çš„è¡¨é¢ç€è‰²å™¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\ndecal:addÂ - é™„åŠ è´´èŠ±ç€è‰²å™¨ï¼ˆä¾‹å¦‚ terrain AddPassï¼‰ã€‚è¿™é€‚ç”¨äºä½äºå…¶ä»–è¡¨é¢ä¹‹ä¸Šå¹¶ä½¿ç”¨é™„åŠ æ··åˆçš„å¯¹è±¡ã€‚è¯·å‚é˜… decal:blendÂ - åŠé€æ˜è´´èŠ±ç€è‰²å™¨ã€‚è¿™é€‚ç”¨äºä½äºå…¶ä»–è¡¨é¢ä¹‹ä¸Šå¹¶ä½¿ç”¨ Alpha æ··åˆçš„å¯¹è±¡ã€‚è¯·å‚é˜… æè´¨çš„Alpha Sourceè®¾ç½®ä¸ºFromGrayScale\n### åœ¨Tagsä¸­æŒ‡å®šæ¸²æŸ“åºåˆ— `\u0026quot;queue\u0026quot;=\u0026quot;transparent\u0026quot;` ğŸ’¡ å¯¹äºé€æ˜ç‰©ä½“æ¥è¯´å¯èƒ½ä¸éœ€è¦é˜´å½±ï¼Œæ‰€ä»¥å¯ä»¥å°†fullforwardshadows ç»™å»æ‰ ğŸ’¡ ä½†æ­¤æ—¶é˜´å½±è¿˜ä¼šä¿ç•™â€¦..\n## åŸå› åœ¨äº`FallBack` ä¸­ä½¿ç”¨äº†`\u0026quot;Diffuse\u0026quot;` å®ƒè‡ªå¸¦ä¸€ä¸ªé˜´å½±æŠ•å°„å™¨é€šé“ ğŸ’¡ **è§£å†³æ–¹æ³•ï¼šå°†FallBackæ³¨é‡Šæ‰å³å¯ Tipsï¼šå½“Shaderä¸­æ²¡æœ‰æŒ‡å®šé˜´å½±æŠ•å°„å™¨æ—¶ï¼ŒFallBackä¸­æŒ‡å®šShaderçš„å¦‚æœå­˜åœ¨é˜´å½±æŠ•å°„å™¨åˆ™ä¼šå¯ç”¨** \u0026gt; å¦‚æœæ²¡æœ‰`FallBack`ï¼Œå¯ä»¥åœ¨`#pragma`ä¸­ä½¿ç”¨`addshadow`å¯ç”¨é˜´å½±æŠ•å°„é€šé“ * Unity5.0ä»¥ä¸Šå®Œæ•´ä»£ç  \\`\\`\\` Shader \u0026quot;Learning/2.SurfaceShader/SurfaceShader1\u0026quot; { Properties { \\_Color (\u0026quot;Color\u0026quot;, Color) = (1,1,1,1) \\_MainTex (\u0026quot;Albedo (RGB)\u0026quot;, 2D) = \u0026quot;white\u0026quot; {} \\_Glossiness (\u0026quot;Smoothness\u0026quot;, Range(0,1)) = 0.5 \\_Metallic (\u0026quot;Metallic\u0026quot;, Range(0,1)) = 0.0 } SubShader { Tags { \u0026quot;RenderType\u0026quot;=\u0026quot;Opaque\u0026quot; \u0026quot;queue\u0026quot;=\u0026quot;transparent\u0026quot; } LOD 200 \u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;p\u0026gt;CGPROGRAM // Physically based Standard lighting model, and enable shadows on all light types //fullforwardshadows #pragma surface surf Standard alpha // Use shader model 3.0 target, to get nicer looking lighting #pragma target 3.0 sampler2D \\_MainTex; struct Input { float2 uv\\_MainTex; }; half \\_Glossiness; half \\_Metallic; fixed4 \\_Color; // Add instancing support for this shader. You need to check 'Enable Instancing' on materials that use the shader. // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing. // #pragma instancing\\_options assumeuniformscaling UNITY\\_INSTANCING\\_BUFFER\\_START(Props) // put more per-instance properties here UNITY\\_INSTANCING\\_BUFFER\\_END(Props) void surf (Input IN, inout SurfaceOutputStandard o) { // Albedo comes from a texture tinted by color fixed4 c = tex2D (\\_MainTex, IN.uv\\_MainTex) \\* \\_Color; o.Albedo = c.rgb; // Metallic and smoothness come from slider variables o.Metallic = \\_Metallic; o.Smoothness = \\_Glossiness; o.Alpha = c.a; } ENDCG } //FallBack \u0026quot;Diffuse\u0026quot; } \\`\\`\\` * Unity5.0ä»¥ä¸‹å®Œæ•´ä»£ç  \\`\\`\\` Shader \u0026quot;Learning/2.SurfaceShader/SurfaceShader1\u0026quot; { Properties { \\_MainTex (\u0026quot;Albedo (RGB)\u0026quot;, 2D) = \u0026quot;white\u0026quot; {} } SubShader { Tags { \u0026quot;RenderType\u0026quot;=\u0026quot;Opaque\u0026quot; \u0026quot;queue\u0026quot;=\u0026quot;transparent\u0026quot; } LOD 200 \u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;p\u0026gt;CGPROGRAM // Physically based Standard lighting model, and enable shadows on all light types //fullforwardshadows #pragma surface surf Lambert fullforwardshadows alpha // Use shader model 3.0 target, to get nicer looking lighting #pragma target 3.0 sampler2D \\_MainTex; struct Input { float2 uv\\_MainTex; }; void surf (Input IN, inout SurfaceOutput o) { // Albedo comes from a texture tinted by color fixed4 c = tex2D (\\_MainTex, IN.uv\\_MainTex); o.Albedo = c.rgb; o.Alpha = c.a; } ENDCG } //FallBack \u0026quot;Diffuse\u0026quot; } \\`\\`\\` # å…‰ç…§å¤šæ ·åŒ–ä»¥åŠè‡ªå®šä¹‰å…‰ç…§ * è¡¨é¢ç€è‰²å™¨ç¤ºä¾‹ åœ¨å†…ç½®æ¸²æŸ“ç®¡çº¿ä¸­ï¼Œè¡¨é¢ç€è‰²å™¨æ˜¯ç¼–å†™ä¸å…‰ç…§äº¤äº’çš„ç€è‰²å™¨çš„ä¸€ç§ç®€åŒ–æ–¹å¼ã€‚\n## **æ¸²æŸ“ç®¡çº¿å…¼å®¹æ€§** åŠŸèƒ½åç§° å†…ç½®æ¸²æŸ“ç®¡çº¿ é€šç”¨æ¸²æŸ“ç®¡çº¿ (URP) é«˜æ¸…æ¸²æŸ“ç®¡çº¿ (HDRP) è‡ªå®šä¹‰ SRP è¡¨é¢ç€è‰²å™¨ æ˜¯ å¦æœ‰å…³åœ¨ URP ä¸­åˆ›å»º Shader å¯¹è±¡çš„ç®€åŒ–æ–¹æ³•ï¼Œè¯·å‚é˜…Â https://docs.unity3d.com/cn/current/Manual/shader-graph.htmlã€‚ å¦æœ‰å…³åœ¨ HDRP ä¸­åˆ›å»º Shader å¯¹è±¡çš„ç®€åŒ–æ–¹æ³•ï¼Œè¯·å‚é˜…Â https://docs.unity3d.com/cn/current/Manual/shader-graph.htmlã€‚ å¦ \\## **ç®€å•çš„ç€è‰²å™¨ç¤ºä¾‹** æˆ‘ä»¬å°†ä»ä¸€ä¸ªéå¸¸ç®€å•çš„ç€è‰²å™¨ (Shader) å¼€å§‹ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸ŠåŠ ä»¥ä¸°å¯Œã€‚ä¸‹é¢çš„ç€è‰²å™¨å°†è¡¨é¢é¢œè‰²è®¾ç½®ä¸ºâ€œç™½è‰²â€ã€‚å®ƒä½¿ç”¨å†…ç½®çš„å…°ä¼¯ç‰¹ï¼ˆæ¼«å°„ï¼‰å…‰ç…§æ¨¡å‹ã€‚ \\`\\`\\` Shader \u0026quot;Example/Diffuse Simple\u0026quot; { SubShader { Tags { \u0026quot;RenderType\u0026quot; = \u0026quot;Opaque\u0026quot; } CGPROGRAM #pragma surface surf Lambert struct Input { float4 color : COLOR; }; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = 1; } ENDCG } Fallback \u0026quot;Diffuse\u0026quot; } \\`\\`\\` ä»¥ä¸‹æ˜¯è®¾ç½®äº†ä¸¤ä¸ª çš„æ¨¡å‹ï¼š\nçº¹ç† ä¸€ä¸ªå…¨ç™½çš„å¯¹è±¡å¾ˆæ— èŠï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªçº¹ç†ã€‚æˆ‘ä»¬å°†å‘ç€è‰²å™¨æ·»åŠ  ä»£ç å—ï¼Œè¿™æ ·æˆ‘ä»¬å°†åœ¨æè´¨ä¸­çœ‹åˆ°çº¹ç†é€‰æ‹©å™¨ã€‚ ``` Shader \u0026ldquo;Example/Diffuse Texture\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; }; sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ```\næ³•çº¿è´´å›¾ æˆ‘ä»¬æ¥æ·»åŠ ä¸€äº›æ³•çº¿è´´å›¾ï¼š ``` Shader \u0026ldquo;Example/Diffuse Bump\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _BumpMap (\u0026ldquo;Bumpmap\u0026rdquo;, 2D) = \u0026ldquo;bump\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float2 uv_BumpMap; }; sampler2D _MainTex; sampler2D _BumpMap; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap)); } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` è¾¹ç¼˜å…‰ç…§ ç°åœ¨ï¼Œå°è¯•æ·»åŠ ä¸€äº›è¾¹ç¼˜å…‰ç…§ä»¥çªå‡ºæ¸¸æˆå¯¹è±¡çš„è¾¹ç¼˜ã€‚æˆ‘ä»¬å°†æ ¹æ®è¡¨é¢æ³•çº¿å’Œè§†å›¾æ–¹å‘ä¹‹é—´çš„è§’åº¦æ·»åŠ ä¸€äº›å‘å°„å…‰ç…§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å†…ç½®çš„è¡¨é¢ç€è‰²å™¨å˜é‡Â viewDirã€‚ ``` Shader \u0026ldquo;Example/Rim\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _BumpMap (\u0026ldquo;Bumpmap\u0026rdquo;, 2D) = \u0026ldquo;bump\u0026rdquo; {} _RimColor (\u0026ldquo;Rim Color\u0026rdquo;, Color) = (0.26,0.19,0.16,0.0) _RimPower (\u0026ldquo;Rim Power\u0026rdquo;, Range(0.5,8.0)) = 3.0 } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float2 uv_BumpMap; float3 viewDir; }; sampler2D _MainTex; sampler2D _BumpMap; float4 _RimColor; float _RimPower; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap)); half rim = 1.0 - saturate(dot (normalize(IN.viewDir), o.Normal)); o.Emission = _RimColor.rgb * pow (rim, _RimPower); } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` ç»†èŠ‚çº¹ç† ä¸ºè·å¾—ä¸åŒæ•ˆæœï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªä¸åŸºç¡€çº¹ç†ç»“åˆçš„ç»†èŠ‚çº¹ç†ã€‚ç»†èŠ‚çº¹ç†é€šå¸¸åœ¨æè´¨ä¸­ä½¿ç”¨ç›¸åŒçš„ UVï¼Œä½†ä½¿ç”¨ä¸åŒå¹³é“ºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸åŒçš„è¾“å…¥ UV åæ ‡ã€‚ ``` Shader \u0026ldquo;Example/Detail\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _BumpMap (\u0026ldquo;Bumpmap\u0026rdquo;, 2D) = \u0026ldquo;bump\u0026rdquo; {} _Detail (\u0026ldquo;Detail\u0026rdquo;, 2D) = \u0026ldquo;gray\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float2 uv_BumpMap; float2 uv_Detail; }; sampler2D _MainTex; sampler2D _BumpMap; sampler2D _Detail; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; o.Albedo *= tex2D (_Detail, IN.uv_Detail).rgb * 2; o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap)); } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` ä½¿ç”¨çº¹ç†æ£‹ç›˜æ ¼ä¸ä¸€å®šæœ‰å®é™…æ„ä¹‰ï¼Œä½†åœ¨æ­¤ç¤ºä¾‹ä¸­å¯ç”¨äºè¯´æ˜å…¶ä½œç”¨ å±å¹•ç©ºé—´ä¸­çš„ç»†èŠ‚çº¹ç† å±å¹•ç©ºé—´ä¸­çš„ç»†èŠ‚çº¹ç†å¯¹äºå£«å…µå¤´éƒ¨æ¨¡å‹æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œä½†æ˜¯åœ¨è¿™é‡Œå¯ç”¨äºè¯´æ˜å¦‚ä½•ä½¿ç”¨å†…ç½®çš„Â screenPosÂ è¾“å…¥ï¼š ``` Shader \u0026ldquo;Example/ScreenPos\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _Detail (\u0026ldquo;Detail\u0026rdquo;, 2D) = \u0026ldquo;gray\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float4 screenPos; }; sampler2D _MainTex; sampler2D _Detail; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; float2 screenUV = IN.screenPos.xy / IN.screenPos.w; screenUV *= float2(8,6); o.Albedo *= tex2D (_Detail, screenUV).rgb * 2; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` ä»ä¸Šé¢çš„ç€è‰²å™¨åˆ é™¤äº†æ³•çº¿è´´å›¾ï¼Œåªæ˜¯ä¸ºäº†ç¼©çŸ­ä»£ç é•¿åº¦ ç«‹æ–¹ä½“è´´å›¾åå°„ ä¸‹é¢çš„ç€è‰²å™¨å°†ä½¿ç”¨å†…ç½®Â worldReflÂ è¾“å…¥æ¥è¿›è¡Œç«‹æ–¹ä½“è´´å›¾åå°„ã€‚å®ƒä¸å†…ç½®çš„åå°„/æ¼«å°„ç€è‰²å™¨éå¸¸ç±»ä¼¼ï¼š ``` Shader \u0026ldquo;Example/WorldRefl\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _Cube (\u0026ldquo;Cubemap\u0026rdquo;, CUBE) = \u0026quot;\u0026quot; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float3 worldRefl; }; sampler2D _MainTex; samplerCUBE _Cube; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb * 0.5; o.Emission = texCUBE (_Cube, IN.worldRefl).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` å› ä¸ºå®ƒå°†åå°„é¢œè‰²æŒ‡å®šä¸º Emissionï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªéå¸¸é—ªäº®çš„å£«å…µ å¦‚æœæ‚¨æƒ³åšä¸€äº›å—æ³•çº¿è´´å›¾å½±å“çš„åå°„ï¼Œéœ€è¦ç¨å¾®å¤æ‚ä¸€äº›ï¼šéœ€è¦å°†Â INTERNAL_DATAÂ æ·»åŠ åˆ°Â InputÂ ç»“æ„ï¼Œå¹¶ä½¿ç”¨Â WorldReflectionVectorÂ å‡½æ•°åœ¨å†™å…¥æ³•çº¿è¾“å‡ºåè®¡ç®—æ¯åƒç´ åå°„çŸ¢é‡ã€‚ ``` Shader \u0026ldquo;Example/WorldRefl Normalmap\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _BumpMap (\u0026ldquo;Bumpmap\u0026rdquo;, 2D) = \u0026ldquo;bump\u0026rdquo; {} _Cube (\u0026ldquo;Cubemap\u0026rdquo;, CUBE) = \u0026quot;\u0026quot; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float2 uv_BumpMap; float3 worldRefl; INTERNAL_DATA }; sampler2D _MainTex; sampler2D _BumpMap; samplerCUBE _Cube; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb * 0.5; o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap)); o.Emission = texCUBE (_Cube, WorldReflectionVector (IN, o.Normal)).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` ä¸‹é¢æ˜¯ä¸€ä¸ªè¿›è¡Œäº†æ³•çº¿è´´å›¾çš„é—ªäº®å£«å…µï¼š\né€šè¿‡ä¸–ç•Œç©ºé—´ä½ç½®è¿›è¡Œçš„åˆ‡ç‰‡ ä¸‹é¢çš„ç€è‰²å™¨é€šè¿‡ä¸¢å¼ƒå‡ ä¹æ°´å¹³çš„ç¯å½¢ä¸­çš„åƒç´ æ¥å¯¹æ¸¸æˆå¯¹è±¡â€œåˆ‡ç‰‡â€ã€‚ä¸ºå®ç°æ­¤æ•ˆæœï¼Œå®ƒä½¿ç”¨äº†åŸºäºåƒç´ ä¸–ç•Œä½ç½®çš„ Cg/HLSL å‡½æ•°Â clip()ã€‚æˆ‘ä»¬å°†ä½¿ç”¨å†…ç½®çš„è¡¨é¢ç€è‰²å™¨å˜é‡Â worldPosã€‚ ``` Shader \u0026ldquo;Example/Slices\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _BumpMap (\u0026ldquo;Bumpmap\u0026rdquo;, 2D) = \u0026ldquo;bump\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } Cull Off CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv_MainTex; float2 uv_BumpMap; float3 worldPos; }; sampler2D _MainTex; sampler2D _BumpMap; void surf (Input IN, inout SurfaceOutput o) { clip (frac((IN.worldPos.y+IN.worldPos.z*0.1) * 5) - 0.5); o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap)); } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` ä½¿ç”¨é¡¶ç‚¹ä¿®æ”¹å™¨è¿›è¡Œæ³•çº¿æŒ¤å‡º å¯ä»¥ä½¿ç”¨â€œé¡¶ç‚¹ä¿®æ”¹å™¨â€å‡½æ•°æ¥ä¿®æ”¹é¡¶ç‚¹ç€è‰²å™¨ä¸­çš„ä¼ å…¥é¡¶ç‚¹æ•°æ®ã€‚è¿™å¯ç”¨äºç¨‹åºåŒ–åŠ¨ç”»å’Œæ²¿æ³•çº¿æŒ¤å‡ºç­‰æ“ä½œã€‚è¡¨é¢ç€è‰²å™¨ç¼–è¯‘æŒ‡ä»¤Â vertex:functionNameÂ å°†ç”¨äºæ­¤ç›®çš„ï¼Œå…¶ä¸­çš„ä¸€ä¸ªå‡½æ•°é‡‡ç”¨Â inout appdata_fullÂ å‚æ•°ã€‚ ä»¥ä¸‹ç€è‰²å™¨æ²¿ç€æ³•çº¿æŒ‰ç…§æè´¨ä¸­æŒ‡å®šçš„é‡ç§»åŠ¨é¡¶ç‚¹ï¼š ``` Shader \u0026ldquo;Example/Normal Extrusion\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _Amount (\u0026ldquo;Extrusion Amount\u0026rdquo;, Range(-1,1)) = 0.5 } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert vertex:vert struct Input { float2 uv_MainTex; }; float _Amount; void vert (inout appdata_full v) { v.vertex.xyz += v.normal * _Amount; } sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` æ²¿ç€æ³•çº¿ç§»åŠ¨é¡¶ç‚¹ä¼šäº§ç”Ÿä¸€ä¸ªè‚¥èƒ–çš„å£«å…µ æ¯é¡¶ç‚¹è®¡ç®—çš„è‡ªå®šä¹‰æ•°æ® ä½¿ç”¨é¡¶ç‚¹ä¿®æ”¹å™¨å‡½æ•°ï¼Œè¿˜å¯ä»¥åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è®¡ç®—è‡ªå®šä¹‰æ•°æ®ï¼Œç„¶åå°†æ•°æ®æŒ‰åƒç´ ä¼ é€’ç»™è¡¨é¢ç€è‰²å™¨å‡½æ•°ã€‚æ­¤æƒ…å†µä¸‹ä½¿ç”¨ç›¸åŒçš„ç¼–è¯‘æŒ‡ä»¤Â vertex:functionNameï¼Œä½†è¯¥å‡½æ•°åº”é‡‡ç”¨ä¸¤ä¸ªå‚æ•°ï¼šinout appdata_fullÂ å’ŒÂ out Inputã€‚æ‚¨å¯ä»¥åœ¨å…¶ä¸­å¡«å†™é™¤å†…ç½®å€¼ä»¥å¤–çš„ä»»ä½•è¾“å…¥æˆå‘˜ã€‚ **æ³¨æ„ï¼š**ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨çš„è‡ªå®šä¹‰è¾“å…¥æˆå‘˜ä¸å¾—åŒ…å«ä»¥â€œuvâ€å¼€å¤´çš„åç§°ï¼Œå¦åˆ™å®ƒä»¬å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚ ä¸‹é¢çš„ç¤ºä¾‹å®šä¹‰äº†ä¸€ä¸ªåœ¨é¡¶ç‚¹å‡½æ•°ä¸­è®¡ç®—çš„è‡ªå®šä¹‰Â float3 customColorÂ æˆå‘˜ï¼š ``` Shader \u0026ldquo;Example/Custom Vertex Data\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert vertex:vert struct Input { float2 uv_MainTex; float3 customColor; }; void vert (inout appdata_full v, out Input o) { UNITY_INITIALIZE_OUTPUT(Input,o); o.customColor = abs(v.normal); } sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; o.Albedo *= IN.customColor; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒcustomColorÂ è®¾ç½®ä¸ºæ³•çº¿çš„ç»å¯¹å€¼ æ›´å®é™…çš„ç”¨é€”å¯èƒ½æ˜¯è®¡ç®—å†…ç½®è¾“å…¥å˜é‡ä¸æä¾›çš„ä»»ä½•æ¯é¡¶ç‚¹æ•°æ®ï¼›æˆ–ä¼˜åŒ–ç€è‰²å™¨è®¡ç®—ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨æ¸¸æˆå¯¹è±¡çš„é¡¶ç‚¹å¤„è®¡ç®—è¾¹ç¼˜å…‰ç…§ï¼Œè€Œä¸æ˜¯åœ¨è¡¨é¢ç€è‰²å™¨ä¸­æŒ‰ç…§æ¯ä¸ªåƒç´ è¿›è¡Œè®¡ç®—ã€‚ ## æœ€ç»ˆé¢œè‰²ä¿®æ”¹å™¨ å¯ä»¥ä½¿ç”¨â€œæœ€ç»ˆé¢œè‰²ä¿®æ”¹å™¨â€å‡½æ•°æ¥ä¿®æ”¹ç€è‰²å™¨è®¡ç®—çš„æœ€ç»ˆé¢œè‰²ã€‚è¡¨é¢ç€è‰²å™¨ç¼–è¯‘æŒ‡ä»¤Â finalcolor:functionNameÂ å°†ç”¨äºæ­¤ç›®çš„ï¼Œå…¶ä¸­çš„ä¸€ä¸ªå‡½æ•°é‡‡ç”¨Â Input IN, SurfaceOutput o, inout fixed4 colorÂ å‚æ•°ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç€è‰²å™¨ï¼Œå®ƒå°†è‰²è°ƒåº”ç”¨äºæœ€ç»ˆé¢œè‰²ã€‚è¿™ä¸ä»…å¯¹è¡¨é¢åç…§ç‡é¢œè‰²åº”ç”¨è‰²è°ƒä¸åŒï¼šæ­¤è‰²è°ƒè¿˜ä¼šå½±å“æ¥è‡ªå…‰ç…§è´´å›¾ã€å…‰ç…§æ¢é’ˆå’Œç±»ä¼¼é¢å¤–æ¥æºçš„ä»»ä½•é¢œè‰²ã€‚ ``` Shader \u0026ldquo;Example/Tint Final Color\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _ColorTint (\u0026ldquo;Tint\u0026rdquo;, Color) = (1.0, 0.6, 0.6, 1.0) } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert finalcolor:mycolor struct Input { float2 uv_MainTex; }; fixed4 _ColorTint; void mycolor (Input IN, SurfaceOutput o, inout fixed4 color) { color *= _ColorTint; } sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ```\nä½¿ç”¨æœ€ç»ˆé¢œè‰²ä¿®æ”¹å™¨è‡ªå®šä¹‰é›¾æ•ˆ ä½¿ç”¨æœ€ç»ˆé¢œè‰²ä¿®æ”¹å™¨ï¼ˆè§ä¸Šæ–‡ï¼‰çš„å¸¸è§æƒ…å†µæ˜¯åœ¨å‰å‘æ¸²æŸ“ä¸­å®ç°å®Œå…¨è‡ªå®šä¹‰çš„é›¾æ•ˆã€‚é›¾æ•ˆéœ€è¦å½±å“æœ€ç»ˆè®¡ç®—çš„åƒç´ ç€è‰²å™¨é¢œè‰²ï¼Œè¿™æ­£æ˜¯Â finalcolorÂ ä¿®æ”¹å™¨çš„åŠŸèƒ½ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ ¹æ®ä¸å±å¹•ä¸­å¿ƒçš„è·ç¦»åº”ç”¨é›¾æ•ˆè‰²è°ƒçš„ç€è‰²å™¨ã€‚æ­¤ç€è‰²å™¨å°†é¡¶ç‚¹ä¿®æ”¹å™¨ä¸è‡ªå®šä¹‰é¡¶ç‚¹æ•°æ® (fog) å’Œæœ€ç»ˆé¢œè‰²ä¿®æ”¹å™¨ç»„åˆåœ¨ä¸€èµ·ã€‚ç”¨äºå‰å‘æ¸²æŸ“é™„åŠ é€šé“æ—¶ï¼Œé›¾æ•ˆéœ€è¦æ·¡åŒ–ä¸ºé»‘è‰²ã€‚æ­¤ç¤ºä¾‹å°†è§£å†³è¿™ä¸€é—®é¢˜å¹¶æ£€æŸ¥æ˜¯å¦æœ‰Â UNITY_PASS_FORWARDADDã€‚ ``` Shader \u0026ldquo;Example/Fog via Final Color\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _FogColor (\u0026ldquo;Fog Color\u0026rdquo;, Color) = (0.3, 0.4, 0.7, 1.0) } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf Lambert finalcolor:mycolor vertex:myvert struct Input { float2 uv_MainTex; half fog; }; void myvert (inout appdata_full v, out Input data) { UNITY_INITIALIZE_OUTPUT(Input,data); float4 hpos = UnityObjectToClipPos(v.vertex); hpos.xy/=hpos.w; data.fog = min (1, dot (hpos.xy, hpos.xy)*0.5); } fixed4 _FogColor; void mycolor (Input IN, SurfaceOutput o, inout fixed4 color) { fixed3 fogColor = _FogColor.rgb; #ifdef UNITY_PASS_FORWARDADD fogColor = 0; #endif color.rgb = lerp (color.rgb, fogColor, IN.fog); } sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` çº¿æ€§é›¾ ``` Shader \u0026ldquo;Example/Linear Fog\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Base (RGB)\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo;=\u0026ldquo;Opaque\u0026rdquo; } LOD 200 CGPROGRAM #pragma surface surf Lambert finalcolor:mycolor vertex:myvert #pragma multi_compile_fog sampler2D _MainTex; uniform half4 unity_FogStart; uniform half4 unity_FogEnd; struct Input { float2 uv_MainTex; half fog; }; void myvert (inout appdata_full v, out Input data) { UNITY_INITIALIZE_OUTPUT(Input,data); float pos = length(UnityObjectToViewPos(v.vertex).xyz); float diff = unity_FogEnd.x - unity_FogStart.x; float invDiff = 1.0f / diff; data.fog = clamp ((unity_FogEnd.x - pos) * invDiff, 0.0, 1.0); } void mycolor (Input IN, SurfaceOutput o, inout fixed4 color) { #ifdef UNITY_PASS_FORWARDADD UNITY_APPLY_FOG_COLOR(IN.fog, color, float4(0,0,0,0)); #else UNITY_APPLY_FOG_COLOR(IN.fog, color, unity_FogColor); #endif } void surf (Input IN, inout SurfaceOutput o) { half4 c = tex2D (_MainTex, IN.uv_MainTex); o.Albedo = c.rgb; o.Alpha = c.a; } ENDCG } FallBack \u0026ldquo;Diffuse\u0026rdquo; } ``` ## è´´èŠ± è´´èŠ±é€šå¸¸ç”¨äºåœ¨è¿è¡Œæ—¶å‘æè´¨æ·»åŠ ç»†èŠ‚ï¼ˆä¾‹å¦‚ï¼Œå­å¼¹å†²å‡»åŠ›æ•ˆæœï¼‰ã€‚è´´èŠ±åœ¨å»¶è¿Ÿæ¸²æŸ“ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºè´´èŠ±åœ¨ç…§äº®ä¹‹å‰ä¼šæ”¹å˜ G ç¼“å†²åŒºï¼Œå› æ­¤å¯ä»¥èŠ‚çœå¼€é”€ã€‚ åœ¨å¸¸è§„æƒ…å†µä¸‹ï¼Œè´´èŠ±åº”è¯¥åœ¨ä¸é€æ˜å¯¹è±¡ä¹‹åæ¸²æŸ“ï¼Œå¹¶ä¸”ä¸åº”è¯¥æ˜¯é˜´å½±æŠ•å°„ç‰©ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ ShaderLabâ€œTagsâ€ä¸­æ‰€ç¤ºã€‚ ``` Shader \u0026ldquo;Example/Decal\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Base (RGB)\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo;=\u0026ldquo;Opaque\u0026rdquo; \u0026ldquo;Queue\u0026rdquo;=\u0026ldquo;Geometry+1\u0026rdquo; \u0026ldquo;ForceNoShadowCasting\u0026rdquo;=\u0026ldquo;True\u0026rdquo; } LOD 200 Offset -1, -1 CGPROGRAM #pragma surface surf Lambert decal:blend sampler2D _MainTex; struct Input { float2 uv_MainTex; }; void surf (Input IN, inout SurfaceOutput o) { half4 c = tex2D (_MainTex, IN.uv_MainTex); o.Albedo = c.rgb; o.Alpha = c.a; } ENDCG } } ``` * \\*\\*\\*\\*è¡¨é¢ç€è‰²å™¨å…‰ç…§ç¤ºä¾‹\\*\\*\\*\\* å› ä¸ºå»¶è¿Ÿå…‰ç…§ä¸ä¸€äº›è‡ªå®šä¹‰çš„æ¯æè´¨å…‰ç…§æ¨¡å‹ä¸å…¼å®¹ï¼Œæ‰€ä»¥ä¸‹é¢çš„å¤§å¤šæ•°ç¤ºä¾‹éƒ½ä½¿ç€è‰²å™¨ä»…ç¼–è¯‘åˆ°å‰å‘æ¸²æŸ“ã€‚\n## **æ¸²æŸ“ç®¡çº¿å…¼å®¹æ€§** åŠŸèƒ½åç§° å†…ç½®æ¸²æŸ“ç®¡çº¿ é€šç”¨æ¸²æŸ“ç®¡çº¿ (URP) é«˜æ¸…æ¸²æŸ“ç®¡çº¿ (HDRP) è‡ªå®šä¹‰ SRP è¡¨é¢ç€è‰²å™¨ æ˜¯ å¦æœ‰å…³åœ¨ URP ä¸­åˆ›å»º Shader å¯¹è±¡çš„ç®€åŒ–æ–¹æ³•ï¼Œè¯·å‚é˜…Â https://docs.unity3d.com/cn/current/Manual/shader-graph.htmlã€‚ å¦æœ‰å…³åœ¨ HDRP ä¸­åˆ›å»º Shader å¯¹è±¡çš„ç®€åŒ–æ–¹æ³•ï¼Œè¯·å‚é˜…Â https://docs.unity3d.com/cn/current/Manual/shader-graph.htmlã€‚ å¦ \\## **Diffuse** ä»¥ä¸‹æ˜¯ä½¿ç”¨å†…ç½®å…°ä¼¯ç‰¹å…‰ç…§æ¨¡å‹çš„ç€è‰²å™¨ç¤ºä¾‹ï¼š \\`\\`\\` Shader \u0026quot;Example/Diffuse Texture\u0026quot; { Properties { \\_MainTex (\u0026quot;Texture\u0026quot;, 2D) = \u0026quot;white\u0026quot; {} } SubShader { Tags { \u0026quot;RenderType\u0026quot; = \u0026quot;Opaque\u0026quot; } CGPROGRAM #pragma surface surf Lambert struct Input { float2 uv\\_MainTex; }; sampler2D \\_MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (\\_MainTex, IN.uv\\_MainTex).rgb; } ENDCG } Fallback \u0026quot;Diffuse\u0026quot; } \\`\\`\\` ä»¥ä¸‹æ˜¯æœ‰çº¹ç†å’Œæ²¡æœ‰çº¹ç†çš„å¤–è§‚ï¼ˆåœ¨åœºæ™¯ä¸­ä½¿ç”¨ä¸€ä¸ªæ–¹å‘å…‰ï¼‰ï¼š ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•é€šè¿‡ç¼–å†™è‡ªå®šä¹‰å…‰ç…§æ¨¡å‹ï¼ˆè€Œä¸æ˜¯ä½¿ç”¨å†…ç½®å…°ä¼¯ç‰¹æ¨¡å‹ï¼‰æ¥å®ç°ç›¸åŒçš„ç»“æœã€‚ ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦ä½¿ç”¨è®¸å¤šè¡¨é¢ç€è‰²å™¨å…‰ç…§æ¨¡å‹å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å…°ä¼¯ç‰¹å…‰ç…§æ¨¡å‹ã€‚è¯·æ³¨æ„ï¼Œåªæœ‰CGPROGRAMÂ éƒ¨åˆ†å‘ç”Ÿå˜åŒ–ï¼›å‘¨å›´çš„ç€è‰²å™¨ä»£ç å®Œå…¨ç›¸åŒï¼š ``` Shader \u0026ldquo;Example/Diffuse Texture\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Texture\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo; = \u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf SimpleLambert half4 LightingSimpleLambert (SurfaceOutput s, half3 lightDir, half atten) { half NdotL = dot (s.Normal, lightDir); half4 c; c.rgb = s.Albedo * _LightColor0.rgb * (NdotL * atten); c.a = s.Alpha; return c; } struct Input { float2 uv_MainTex; }; sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG } Fallback \u0026ldquo;Diffuse\u0026rdquo; } ``` è¿™ä¸ªç®€å•çš„æ¼«å°„å…‰ç…§æ¨¡å‹ä½¿ç”¨äº†Â LightingSimpleLambertÂ å‡½æ•°ã€‚å®ƒé€šè¿‡ä»¥ä¸‹æ–¹å¼è®¡ç®—å…‰ç…§ï¼šè®¡ç®—è¡¨é¢æ³•çº¿å’Œå…‰çº¿æ–¹å‘ä¹‹é—´çš„ç‚¹ç§¯ï¼Œç„¶ååº”ç”¨å…‰è¡°å‡å’Œé¢œè‰²ã€‚ ## æ¼«å°„ç¯ç»• ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ç¯ç»•æ¼«å°„ï¼Œè¿™æ˜¯å¯¹æ¼«å°„å…‰ç…§çš„ä¿®æ”¹ï¼Œå…¶ä¸­å…‰ç…§â€œç¯ç»•ç€â€å¯¹è±¡çš„è¾¹ç¼˜ã€‚å®ƒå¯¹äºæ¨¡æ‹Ÿæ¬¡è¡¨é¢æ•£å°„æ•ˆæœå¾ˆæœ‰ç”¨ã€‚åªæœ‰Â CGPROGRAMÂ éƒ¨åˆ†å‘ç”Ÿå˜åŒ–ï¼Œè¿™é‡ŒåŒæ ·çœç•¥äº†å‘¨å›´çš„ç€è‰²å™¨ä»£ç ï¼š ``` \u0026hellip;ShaderLab code\u0026hellip; CGPROGRAM #pragma surface surf WrapLambert half4 LightingWrapLambert (SurfaceOutput s, half3 lightDir, half atten) { half NdotL = dot (s.Normal, lightDir); half diff = NdotL * 0.5 + 0.5; half4 c; c.rgb = s.Albedo * _LightColor0.rgb * (diff * atten); c.a = s.Alpha; return c; } struct Input { float2 uv_MainTex; }; sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG \u0026hellip;ShaderLab code\u0026hellip; ``` ä»¥ä¸‹æ˜¯æœ‰çº¹ç†å’Œæ²¡æœ‰çº¹ç†çš„å¤–è§‚ï¼ˆåœ¨åœºæ™¯ä¸­ä½¿ç”¨ä¸€ä¸ªæ–¹å‘å…‰ï¼‰ï¼š\nå¡é€šæ¸å˜ (Toon Ramp) ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªâ€œæ¸å˜â€å…‰ç…§æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä½¿ç”¨çº¹ç†æ¸å˜æ¥å®šä¹‰è¡¨é¢å¦‚ä½•å“åº”å…‰æºå’Œæ³•çº¿ä¹‹é—´çš„è§’åº¦ã€‚è¿™å¯ä»¥ç”¨äºå„ç§æ•ˆæœï¼Œå¹¶ä¸”åœ¨ä¸å¡é€šå…‰ç…§ä¸€èµ·ä½¿ç”¨æ—¶å°¤å…¶æœ‰æ•ˆã€‚ ``` \u0026hellip;ShaderLab code\u0026hellip; CGPROGRAM #pragma surface surf Ramp sampler2D _Ramp; half4 LightingRamp (SurfaceOutput s, half3 lightDir, half atten) { half NdotL = dot (s.Normal, lightDir); half diff = NdotL * 0.5 + 0.5; half3 ramp = tex2D (_Ramp, float2(diff)).rgb; half4 c; c.rgb = s.Albedo * _LightColor0.rgb * ramp * atten; c.a = s.Alpha; return c; } struct Input { float2 uv_MainTex; }; sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG \u0026hellip;ShaderLab code\u0026hellip; ``` ä»¥ä¸‹æ˜¯æœ‰çº¹ç†å’Œæ²¡æœ‰çº¹ç†çš„å¤–è§‚ï¼ˆåœ¨åœºæ™¯ä¸­ä½¿ç”¨ä¸€ä¸ªæ–¹å‘å…‰ï¼‰ ç®€å•é•œé¢åå°„ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„é•œé¢åå°„å…‰ç…§æ¨¡å‹ï¼Œç±»ä¼¼äºå†…ç½®çš„ BlinnPhong å…‰ç…§æ¨¡å‹ã€‚ ``` \u0026hellip;ShaderLab code\u0026hellip; CGPROGRAM #pragma surface surf SimpleSpecular half4 LightingSimpleSpecular (SurfaceOutput s, half3 lightDir, half3 viewDir, half atten) { half3 h = normalize (lightDir + viewDir); half diff = max (0, dot (s.Normal, lightDir)); float nh = max (0, dot (s.Normal, h)); float spec = pow (nh, 48.0); half4 c; c.rgb = (s.Albedo * _LightColor0.rgb * diff + _LightColor0.rgb * spec) * atten; c.a = s.Alpha; return c; } struct Input { float2 uv_MainTex; }; sampler2D _MainTex; void surf (Input IN, inout SurfaceOutput o) { o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb; } ENDCG \u0026hellip;ShaderLab code\u0026hellip; ``` ä»¥ä¸‹æ˜¯æœ‰çº¹ç†å’Œæ²¡æœ‰çº¹ç†çš„å¤–è§‚ï¼ˆåœ¨åœºæ™¯ä¸­ä½¿ç”¨ä¸€ä¸ªæ–¹å‘å…‰ï¼‰ è‡ªå®šä¹‰ GI æˆ‘ä»¬å°†ä»ä¸€ä¸ªæ¨¡ä»¿ Unity å†…ç½® GI çš„ç€è‰²å™¨å¼€å§‹ï¼š ``` Shader \u0026ldquo;Example/CustomGI_ToneMapped\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Albedo (RGB)\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo;=\u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf StandardDefaultGI #include \u0026ldquo;UnityPBSLighting.cginc\u0026rdquo; sampler2D _MainTex; inline half4 LightingStandardDefaultGI(SurfaceOutputStandard s, half3 viewDir, UnityGI gi) { return LightingStandard(s, viewDir, gi); } inline void LightingStandardDefaultGI_GI( SurfaceOutputStandard s, UnityGIInput data, inout UnityGI gi) { LightingStandard_GI(s, data, gi); } struct Input { float2 uv_MainTex; }; void surf (Input IN, inout SurfaceOutputStandard o) { o.Albedo = tex2D(_MainTex, IN.uv_MainTex); } ENDCG } FallBack \u0026ldquo;Diffuse\u0026rdquo; } ``` ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨ GI ä¸Šæ·»åŠ ä¸€äº›è‰²è°ƒæ˜ å°„ï¼š ``` Shader \u0026ldquo;Example/CustomGI_ToneMapped\u0026rdquo; { Properties { _MainTex (\u0026ldquo;Albedo (RGB)\u0026rdquo;, 2D) = \u0026ldquo;white\u0026rdquo; {} _Gain(\u0026ldquo;Lightmap tone-mapping Gain\u0026rdquo;, Float) = 1 _Knee(\u0026ldquo;Lightmap tone-mapping Knee\u0026rdquo;, Float) = 0.5 _Compress(\u0026ldquo;Lightmap tone-mapping Compress\u0026rdquo;, Float) = 0.33 } SubShader { Tags { \u0026ldquo;RenderType\u0026rdquo;=\u0026ldquo;Opaque\u0026rdquo; } CGPROGRAM #pragma surface surf StandardToneMappedGI #include \u0026ldquo;UnityPBSLighting.cginc\u0026rdquo; half _Gain; half _Knee; half _Compress; sampler2D _MainTex; inline half3 TonemapLight(half3 i) { i = _Gain; return (i \u0026gt; _Knee) ?(((i - _Knee)_Compress) + _Knee) : i; } inline half4 LightingStandardToneMappedGI(SurfaceOutputStandard s, half3 viewDir, UnityGI gi) { return LightingStandard(s, viewDir, gi); } inline void LightingStandardToneMappedGI_GI( SurfaceOutputStandard s, UnityGIInput data, inout UnityGI gi) { LightingStandard_GI(s, data, gi); gi.light.color = TonemapLight(gi.light.color); #ifdef DIRLIGHTMAP_SEPARATE #ifdef LIGHTMAP_ON gi.light2.color = TonemapLight(gi.light2.color); #endif #ifdef DYNAMICLIGHTMAP_ON gi.light3.color = TonemapLight(gi.light3.color); #endif #endif gi.indirect.diffuse = TonemapLight(gi.indirect.diffuse); gi.indirect.specular = TonemapLight(gi.indirect.specular); } struct Input { float2 uv_MainTex; }; void surf (Input IN, inout SurfaceOutputStandard o) { o.Albedo = tex2D(_MainTex, IN.uv_MainTex); } ENDCG } FallBack \u0026ldquo;Diffuse\u0026rdquo; } ``` # Unity5.0ä»¥ä¸Šçš„PBRåŸºäºç‰©ç†ç€è‰²çš„å…‰ç…§ç®—æ³• ğŸ’¡ åœ¨CGIncludesæ–‡ä»¶å¤¹å½“ä¸­çš„UnityStandardBRDF.cgincæ–‡ä»¶ä¸­ * UnityStandardBRDF.cgincå®Œæ•´ä»£ç  \\`\\`\\` #ifndef UNITY\\_STANDARD\\_BRDF\\_INCLUDED #define UNITY\\_STANDARD\\_BRDF\\_INCLUDED \u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;p\u0026gt;#include \u0026quot;UnityCG.cginc\u0026quot; #include \u0026quot;UnityStandardConfig.cginc\u0026quot; #include \u0026quot;UnityLightingCommon.cginc\u0026quot; //----------------------------------------------------------------------------- // Helper to convert smoothness to roughness //----------------------------------------------------------------------------- float PerceptualRoughnessToRoughness(float perceptualRoughness) { return perceptualRoughness \\* perceptualRoughness; } half RoughnessToPerceptualRoughness(half roughness) { return sqrt(roughness); } // Smoothness is the user facing name // it should be perceptualSmoothness but we don't want the user to have to deal with this name half SmoothnessToRoughness(half smoothness) { return (1 - smoothness) \\* (1 - smoothness); } float SmoothnessToPerceptualRoughness(float smoothness) { return (1 - smoothness); } //------------------------------------------------------------------------------------- inline half Pow4 (half x) { return x\u0026lt;em\u0026gt;x\u0026lt;/em\u0026gt;x\\*x; } inline float2 Pow4 (float2 x) { return x\u0026lt;em\u0026gt;x\u0026lt;/em\u0026gt;x\\*x; } inline half3 Pow4 (half3 x) { return x\u0026lt;em\u0026gt;x\u0026lt;/em\u0026gt;x\\*x; } inline half4 Pow4 (half4 x) { return x\u0026lt;em\u0026gt;x\u0026lt;/em\u0026gt;x\\*x; } // Pow5 uses the same amount of instructions as generic pow(), but has 2 advantages: // 1) better instruction pipelining // 2) no need to worry about NaNs inline half Pow5 (half x) { return x\u0026lt;em\u0026gt;x \\* x\u0026lt;/em\u0026gt;x \\* x; } inline half2 Pow5 (half2 x) { return x\u0026lt;em\u0026gt;x \\* x\u0026lt;/em\u0026gt;x \\* x; } inline half3 Pow5 (half3 x) { return x\u0026lt;em\u0026gt;x \\* x\u0026lt;/em\u0026gt;x \\* x; } inline half4 Pow5 (half4 x) { return x\u0026lt;em\u0026gt;x \\* x\u0026lt;/em\u0026gt;x \\* x; } inline half3 FresnelTerm (half3 F0, half cosA) { half t = Pow5 (1 - cosA); // ala Schlick interpoliation return F0 + (1-F0) \\* t; } inline half3 FresnelLerp (half3 F0, half3 F90, half cosA) { half t = Pow5 (1 - cosA); // ala Schlick interpoliation return lerp (F0, F90, t); } // approximage Schlick with ^4 instead of ^5 inline half3 FresnelLerpFast (half3 F0, half3 F90, half cosA) { half t = Pow4 (1 - cosA); return lerp (F0, F90, t); } // Note: Disney diffuse must be multiply by diffuseAlbedo / PI. This is done outside of this function. half DisneyDiffuse(half NdotV, half NdotL, half LdotH, half perceptualRoughness) { half fd90 = 0.5 + 2 \\* LdotH \\* LdotH \\* perceptualRoughness; // Two schlick fresnel term half lightScatter = (1 + (fd90 - 1) \\* Pow5(1 - NdotL)); half viewScatter = (1 + (fd90 - 1) \\* Pow5(1 - NdotV)); return lightScatter \\* viewScatter; } // NOTE: Visibility term here is the full form from Torrance-Sparrow model, it includes Geometric term: V = G / (N.L \\* N.V) // This way it is easier to swap Geometric terms and more room for optimizations (except maybe in case of CookTorrance geom term) // Generic Smith-Schlick visibility term inline half SmithVisibilityTerm (half NdotL, half NdotV, half k) { half gL = NdotL \\* (1-k) + k; half gV = NdotV \\* (1-k) + k; return 1.0 / (gL \\* gV + 1e-5f); // This function is not intended to be running on Mobile, // therefore epsilon is smaller than can be represented by half } // Smith-Schlick derived for Beckmann inline half SmithBeckmannVisibilityTerm (half NdotL, half NdotV, half roughness) { half c = 0.797884560802865h; // c = sqrt(2 / Pi) half k = roughness \\* c; return SmithVisibilityTerm (NdotL, NdotV, k) \\* 0.25f; // \\* 0.25 is the 1/4 of the visibility term } // Ref: http://jcgt.org/published/0003/02/03/paper.pdf inline float SmithJointGGXVisibilityTerm (float NdotL, float NdotV, float roughness) { #if 0 // Original formulation: // lambda\\_v = (-1 + sqrt(a2 \\* (1 - NdotL2) / NdotL2 + 1)) \\* 0.5f; // lambda\\_l = (-1 + sqrt(a2 \\* (1 - NdotV2) / NdotV2 + 1)) \\* 0.5f; // G = 1 / (1 + lambda\\_v + lambda\\_l); // Reorder code to be more optimal half a = roughness; half a2 = a \\* a; half lambdaV = NdotL \\* sqrt((-NdotV \\* a2 + NdotV) \\* NdotV + a2); half lambdaL = NdotV \\* sqrt((-NdotL \\* a2 + NdotL) \\* NdotL + a2); // Simplify visibility term: (2.0f \\* NdotL \\* NdotV) / ((4.0f \\* NdotL \\* NdotV) \\* (lambda\\_v + lambda\\_l + 1e-5f)); return 0.5f / (lambdaV + lambdaL + 1e-5f); // This function is not intended to be running on Mobile, // therefore epsilon is smaller than can be represented by half #else // Approximation of the above formulation (simplify the sqrt, not mathematically correct but close enough) float a = roughness; float lambdaV = NdotL \\* (NdotV \\* (1 - a) + a); float lambdaL = NdotV \\* (NdotL \\* (1 - a) + a); #if defined(SHADER\\_API\\_SWITCH) return 0.5f / (lambdaV + lambdaL + UNITY\\_HALF\\_MIN); #else return 0.5f / (lambdaV + lambdaL + 1e-5f); #endif #endif } inline float GGXTerm (float NdotH, float roughness) { float a2 = roughness \\* roughness; float d = (NdotH \\* a2 - NdotH) \\* NdotH + 1.0f; // 2 mad return UNITY\\_INV\\_PI \\* a2 / (d \\* d + 1e-7f); // This function is not intended to be running on Mobile, // therefore epsilon is smaller than what can be represented by half } inline half PerceptualRoughnessToSpecPower (half perceptualRoughness) { half m = PerceptualRoughnessToRoughness(perceptualRoughness); // m is the true academic roughness. half sq = max(1e-4f, m\\*m); half n = (2.0 / sq) - 2.0; // https://dl.dropboxusercontent.com/u/55891920/papers/mm\\_brdf.pdf n = max(n, 1e-4f); // prevent possible cases of pow(0,0), which could happen when roughness is 1.0 and NdotH is zero return n; } // BlinnPhong normalized as normal distribution function (NDF) // for use in micro-facet model: spec=D\u0026lt;em\u0026gt;G\u0026lt;/em\u0026gt;F // eq. 19 in https://dl.dropboxusercontent.com/u/55891920/papers/mm\\_brdf.pdf inline half NDFBlinnPhongNormalizedTerm (half NdotH, half n) { // norm = (n+2)/(2\\*pi) half normTerm = (n + 2.0) \\* (0.5/UNITY\\_PI); half specTerm = pow (NdotH, n); return specTerm \\* normTerm; } //------------------------------------------------------------------------------------- /\\* // https://s3.amazonaws.com/docs.knaldtech.com/knald/1.0.0/lys\\_power\\_drops.html const float k0 = 0.00098, k1 = 0.9921; // pass this as a constant for optimization const float fUserMaxSPow = 100000; // sqrt(12M) const float g\\_fMaxT = ( exp2(-10.0/fUserMaxSPow) - k0)/k1; float GetSpecPowToMip(float fSpecPow, int nMips) { // Default curve - Inverse of TB2 curve with adjusted constants float fSmulMaxT = ( exp2(-10.0/sqrt( fSpecPow )) - k0)/k1; return float(nMips-1)\\*(1.0 - clamp( fSmulMaxT/g\\_fMaxT, 0.0, 1.0 )); } //float specPower = PerceptualRoughnessToSpecPower(perceptualRoughness); //float mip = GetSpecPowToMip (specPower, 7); \\*/ inline float3 Unity\\_SafeNormalize(float3 inVec) { float dp3 = max(0.001f, dot(inVec, inVec)); return inVec \\* rsqrt(dp3); } //------------------------------------------------------------------------------------- // Note: BRDF entry points use smoothness and oneMinusReflectivity for optimization // purposes, mostly for DX9 SM2.0 level. Most of the math is being done on these (1-x) values, and that saves // a few precious ALU slots. // Main Physically Based BRDF // Derived from Disney work and based on Torrance-Sparrow micro-facet model // // BRDF = kD / pi + kS \\* (D \\* V \\* F) / 4 // I = BRDF \\* NdotL // // \\* NDF (depending on UNITY\\_BRDF\\_GGX): // a) Normalized BlinnPhong // b) GGX // \\* Smith for Visiblity term // \\* Schlick approximation for Fresnel half4 BRDF1\\_Unity\\_PBS (half3 diffColor, half3 specColor, half oneMinusReflectivity, half smoothness, float3 normal, float3 viewDir, UnityLight light, UnityIndirect gi) { float perceptualRoughness = SmoothnessToPerceptualRoughness (smoothness); float3 halfDir = Unity\\_SafeNormalize (float3(light.dir) + viewDir); // NdotV should not be negative for visible pixels, but it can happen due to perspective projection and normal mapping // In this case normal should be modified to become valid (i.e facing camera) and not cause weird artifacts. // but this operation adds few ALU and users may not want it. Alternative is to simply take the abs of NdotV (less correct but works too). // Following define allow to control this. Set it to 0 if ALU is critical on your platform. // This correction is interesting for GGX with SmithJoint visibility function because artifacts are more visible in this case due to highlight edge of rough surface // Edit: Disable this code by default for now as it is not compatible with two sided lighting used in SpeedTree. #define UNITY\\_HANDLE\\_CORRECTLY\\_NEGATIVE\\_NDOTV 0 #if UNITY\\_HANDLE\\_CORRECTLY\\_NEGATIVE\\_NDOTV // The amount we shift the normal toward the view vector is defined by the dot product. half shiftAmount = dot(normal, viewDir); normal = shiftAmount \u0026lt; 0.0f ? normal + viewDir \\* (-shiftAmount + 1e-5f) : normal; // A re-normalization should be applied here but as the shift is small we don't do it to save ALU. //normal = normalize(normal); float nv = saturate(dot(normal, viewDir)); // TODO: this saturate should no be necessary here #else half nv = abs(dot(normal, viewDir)); // This abs allow to limit artifact #endif float nl = saturate(dot(normal, light.dir)); float nh = saturate(dot(normal, halfDir)); half lv = saturate(dot(light.dir, viewDir)); half lh = saturate(dot(light.dir, halfDir)); // Diffuse term half diffuseTerm = DisneyDiffuse(nv, nl, lh, perceptualRoughness) \\* nl; // Specular term // HACK: theoretically we should divide diffuseTerm by Pi and not multiply specularTerm! // BUT 1) that will make shader look significantly darker than Legacy ones // and 2) on engine side \u0026quot;Non-important\u0026quot; lights have to be divided by Pi too in cases when they are injected into ambient SH float roughness = PerceptualRoughnessToRoughness(perceptualRoughness); #if UNITY\\_BRDF\\_GGX // GGX with roughtness to 0 would mean no specular at all, using max(roughness, 0.002) here to match HDrenderloop roughtness remapping. roughness = max(roughness, 0.002); float V = SmithJointGGXVisibilityTerm (nl, nv, roughness); float D = GGXTerm (nh, roughness); #else // Legacy half V = SmithBeckmannVisibilityTerm (nl, nv, roughness); half D = NDFBlinnPhongNormalizedTerm (nh, PerceptualRoughnessToSpecPower(perceptualRoughness)); #endif float specularTerm = V\\*D \\* UNITY\\_PI; // Torrance-Sparrow model, Fresnel is applied later \u0026lt;h1\u0026gt;ifdef UNITY\\_COLORSPACE\\_GAMMA\u0026lt;/h1\u0026gt; specularTerm = sqrt(max(1e-4h, specularTerm)); \u0026lt;h1\u0026gt;endif\u0026lt;/h1\u0026gt; // specularTerm \\* nl can be NaN on Metal in some cases, use max() to make sure it's a sane value specularTerm = max(0, specularTerm \\* nl); #if defined(\\_SPECULARHIGHLIGHTS\\_OFF) specularTerm = 0.0; #endif // surfaceReduction = Int D(NdotH) \\* NdotH \\* Id(NdotL\u0026gt;0) dH = 1/(roughness^2+1) half surfaceReduction; \u0026lt;h1\u0026gt;ifdef UNITY\\_COLORSPACE\\_GAMMA\u0026lt;/h1\u0026gt; surfaceReduction = 1.0-0.28\u0026lt;em\u0026gt;roughness\u0026lt;/em\u0026gt;perceptualRoughness; // 1-0.28\\*x^3 as approximation for (1/(x^4+1))^(1/2.2) on the domain \\[0;1\\] \u0026lt;h1\u0026gt;else\u0026lt;/h1\u0026gt; surfaceReduction = 1.0 / (roughness\\*roughness + 1.0); // fade in \\[0.5;1\\] \u0026lt;h1\u0026gt;endif\u0026lt;/h1\u0026gt; // To provide true Lambert lighting, we need to be able to kill specular completely. specularTerm \\*= any(specColor) ? 1.0 : 0.0; half grazingTerm = saturate(smoothness + (1-oneMinusReflectivity)); half3 color = diffColor \\* (gi.diffuse + light.color \\* diffuseTerm) + specularTerm \\* light.color \\* FresnelTerm (specColor, lh) + surfaceReduction \\* gi.specular \\* FresnelLerp (specColor, grazingTerm, nv); return half4(color, 1); } // Based on Minimalist CookTorrance BRDF // Implementation is slightly different from original derivation: http://www.thetenthplanet.de/archives/255 // // \\* NDF (depending on UNITY\\_BRDF\\_GGX): // a) BlinnPhong // b) \\[Modified\\] GGX // \\* Modified Kelemen and Szirmay-Kalos for Visibility term // \\* Fresnel approximated with 1/LdotH half4 BRDF2\\_Unity\\_PBS (half3 diffColor, half3 specColor, half oneMinusReflectivity, half smoothness, float3 normal, float3 viewDir, UnityLight light, UnityIndirect gi) { float3 halfDir = Unity\\_SafeNormalize (float3(light.dir) + viewDir); half nl = saturate(dot(normal, light.dir)); float nh = saturate(dot(normal, halfDir)); half nv = saturate(dot(normal, viewDir)); float lh = saturate(dot(light.dir, halfDir)); // Specular term half perceptualRoughness = SmoothnessToPerceptualRoughness (smoothness); half roughness = PerceptualRoughnessToRoughness(perceptualRoughness); #if UNITY\\_BRDF\\_GGX // GGX Distribution multiplied by combined approximation of Visibility and Fresnel // See \u0026quot;Optimizing PBR for Mobile\u0026quot; from Siggraph 2015 moving mobile graphics course // https://community.arm.com/events/1155 float a = roughness; float a2 = a\\*a; float d = nh \\* nh \\* (a2 - 1.f) + 1.00001f; #ifdef UNITY\\_COLORSPACE\\_GAMMA // Tighter approximation for Gamma only rendering mode! // DVF = sqrt(DVF); // DVF = (a \\* sqrt(.25)) / (max(sqrt(0.1), lh)\u0026lt;em\u0026gt;sqrt(roughness + .5) \\* d); float specularTerm = a / (max(0.32f, lh) \\* (1.5f + roughness) \\* d); #else float specularTerm = a2 / (max(0.1f, lh\u0026lt;/em\u0026gt;lh) \\* (roughness + 0.5f) \\* (d \\* d) \\* 4); #endif // on mobiles (where half actually means something) denominator have risk of overflow // clamp below was added specifically to \u0026quot;fix\u0026quot; that, but dx compiler (we convert bytecode to metal/gles) // sees that specularTerm have only non-negative terms, so it skips max(0,..) in clamp (leaving only min(100,...)) #if defined (SHADER\\_API\\_MOBILE) specularTerm = specularTerm - 1e-4f; #endif #else // Legacy half specularPower = PerceptualRoughnessToSpecPower(perceptualRoughness); // Modified with approximate Visibility function that takes roughness into account // Original ((n+1)\u0026lt;em\u0026gt;N.H^n) / (8\u0026lt;/em\u0026gt;Pi \\* L.H^3) didn't take into account roughness // and produced extremely bright specular at grazing angles half invV = lh \\* lh \\* smoothness + perceptualRoughness \\* perceptualRoughness; // approx ModifiedKelemenVisibilityTerm(lh, perceptualRoughness); half invF = lh; half specularTerm = ((specularPower + 1) \\* pow (nh, specularPower)) / (8 \\* invV \\* invF + 1e-4h); #ifdef UNITY\\_COLORSPACE\\_GAMMA specularTerm = sqrt(max(1e-4f, specularTerm)); #endif #endif #if defined (SHADER\\_API\\_MOBILE) specularTerm = clamp(specularTerm, 0.0, 100.0); // Prevent FP16 overflow on mobiles #endif #if defined(\\_SPECULARHIGHLIGHTS\\_OFF) specularTerm = 0.0; #endif // surfaceReduction = Int D(NdotH) \\* NdotH \\* Id(NdotL\u0026gt;0) dH = 1/(realRoughness^2+1) // 1-0.28\u0026lt;em\u0026gt;x^3 as approximation for (1/(x^4+1))^(1/2.2) on the domain \\[0;1\\] // 1-x^3\u0026lt;/em\u0026gt;(0.6-0.08\u0026lt;em\u0026gt;x) approximation for 1/(x^4+1) #ifdef UNITY\\_COLORSPACE\\_GAMMA half surfaceReduction = 0.28; #else half surfaceReduction = (0.6-0.08\u0026lt;/em\u0026gt;perceptualRoughness); #endif surfaceReduction = 1.0 - roughness\u0026lt;em\u0026gt;perceptualRoughness\u0026lt;/em\u0026gt;surfaceReduction; half grazingTerm = saturate(smoothness + (1-oneMinusReflectivity)); half3 color = (diffColor + specularTerm \\* specColor) \\* light.color \\* nl + gi.diffuse \\* diffColor + surfaceReduction \\* gi.specular \\* FresnelLerpFast (specColor, grazingTerm, nv); return half4(color, 1); } sampler2D\\_float unity\\_NHxRoughness; half3 BRDF3\\_Direct(half3 diffColor, half3 specColor, half rlPow4, half smoothness) { half LUT\\_RANGE = 16.0; // must match range in NHxRoughness() function in GeneratedTextures.cpp // Lookup texture to save instructions half specular = tex2D(unity\\_NHxRoughness, half2(rlPow4, SmoothnessToPerceptualRoughness(smoothness))).r \\* LUT\\_RANGE; #if defined(\\_SPECULARHIGHLIGHTS\\_OFF) specular = 0.0; #endif return diffColor + specular \\* specColor; } half3 BRDF3\\_Indirect(half3 diffColor, half3 specColor, UnityIndirect indirect, half grazingTerm, half fresnelTerm) { half3 c = indirect.diffuse \\* diffColor; c += indirect.specular \\* lerp (specColor, grazingTerm, fresnelTerm); return c; } // Old school, not microfacet based Modified Normalized Blinn-Phong BRDF // Implementation uses Lookup texture for performance // // \\* Normalized BlinnPhong in RDF form // \\* Implicit Visibility term // \\* No Fresnel term // // TODO: specular is too weak in Linear rendering mode half4 BRDF3\\_Unity\\_PBS (half3 diffColor, half3 specColor, half oneMinusReflectivity, half smoothness, float3 normal, float3 viewDir, UnityLight light, UnityIndirect gi) { float3 reflDir = reflect (viewDir, normal); half nl = saturate(dot(normal, light.dir)); half nv = saturate(dot(normal, viewDir)); // Vectorize Pow4 to save instructions half2 rlPow4AndFresnelTerm = Pow4 (float2(dot(reflDir, light.dir), 1-nv)); // use R.L instead of N.H to save couple of instructions half rlPow4 = rlPow4AndFresnelTerm.x; // power exponent must match kHorizontalWarpExp in NHxRoughness() function in GeneratedTextures.cpp half fresnelTerm = rlPow4AndFresnelTerm.y; half grazingTerm = saturate(smoothness + (1-oneMinusReflectivity)); half3 color = BRDF3\\_Direct(diffColor, specColor, rlPow4, smoothness); color \\*= light.color \\* nl; color += BRDF3\\_Indirect(diffColor, specColor, gi, grazingTerm, fresnelTerm); return half4(color, 1); } // Include deprecated function #define INCLUDE\\_UNITY\\_STANDARD\\_BRDF\\_DEPRECATED #include \u0026quot;UnityDeprecated.cginc\u0026quot; #undef INCLUDE\\_UNITY\\_STANDARD\\_BRDF\\_DEPRECATED #endif // UNITY\\_STANDARD\\_BRDF\\_INCLUDED \\`\\`\\` ","permalink":"https://EitanWong.github.io/en/posts/shader/surfaceshader-%E8%A1%A8%E9%9D%A2%E7%9D%80%E8%89%B2%E5%99%A8/","summary":"å®Œæ•´æ¡ˆä¾‹ä»£ç  Shader \u0026#34;Learning/2.SurfaceShader/SurfaceShader1\u0026#34; { Properties { _Color (\u0026#34;Color\u0026#34;, Color) = (1,1,1,1) _MainTex (\u0026#34;Albedo (RGB)\u0026#34;, 2D) = \u0026#34;white\u0026#34; {} _Glossiness (\u0026#34;Smoothness\u0026#34;, Range(0,1)) = 0.5 _Metallic (\u0026#34;Metallic\u0026#34;, Range(0,1)) = 0.0 } SubShader { Tags { \u0026#34;RenderType\u0026#34;=\u0026#34;Opaque\u0026#34; } LOD 200 CGPROGRAM // Physically based Standard lighting model, and enable shadows on all light types #pragma surface surf Standard fullforwardshadows // Use shader model 3.0 target, to get nicer looking lighting #pragma target 3.0 sampler2D _MainTex; struct Input { float2 uv_MainTex; }; half _Glossiness; half _Metallic; fixed4 _Color; // Add instancing support for this shader. You need to check \u0026#39;Enable Instancing\u0026#39; on materials that use the shader. // See https://docs.unity3d.com/Manual/GPUInstancing.html for more information about instancing. // #pragma instancing_options assumeuniformscaling UNITY_INSTANCING_BUFFER_START(Props) // put more per-instance properties here UNITY_INSTANCING_BUFFER_END(Props) void surf (Input IN, inout SurfaceOutputStandard o) { // Albedo comes from","title":"SurfaceShader è¡¨é¢ç€è‰²å™¨"},{"content":"Fixed function shaderä»å­—é¢æ„æ€ç†è§£ï¼Œå°±æ˜¯å›ºå®šåŠŸèƒ½çš„æ¸²æŸ“ç€è‰²å™¨ è¿™ç§ShaderåŠŸèƒ½æœ‰é™ï¼Œä½†é€Ÿåº¦å´æ˜¯æœ€å¿«çš„ ä½†æ˜¯èƒ½å¤Ÿåœ¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„ç¡¬ä»¶å¹³å°ä¸Šæ‰§è¡Œ\næ¡ˆä¾‹1ï¼šå›ºå®šç€è‰² Shader\u0026#34;Unlit/firstFixedShader\u0026#34; { SubShader { pass { color(1,1,1,1) } } } Properties ä½¿ç”¨Propertiesï¼Œæä¾›å¤–éƒ¨çš„Shaderå±æ€§å‚æ•°é…ç½®\næ¡ˆä¾‹ Shader\u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) } SubShader { pass { //color(1,0,0,1) color[_Color] } } } () å°æ‹¬å·æ˜¯å›ºå®šçš„å€¼ [ ]ä¸­æ‹¬å·æ˜¯å±æ€§çš„å€¼ æ‰€ä»¥å¡«å…¥color[_Color] å°±å¯ä»¥æŠŠå±æ€§_Colorç»™color ä»è€Œè¾¾åˆ°ç€è‰²æ•ˆæœ\nMaterialæè´¨ æ¡ˆä¾‹1ï¼šæ¼«åå°„å…‰ç…§Shader Shader \u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) } SubShader { pass { material { diffuse[_Color] } lighting on //off } } } materialæ˜¯ä¸€ä¸ªåŠŸèƒ½å— diffuseæ˜¯æ¼«åå°„ diffuse[_Color]è®¾ç½®æ¼«åå°„é¢œè‰² lighting on å¼€å¯å…‰ç…§ï¼Œè¿™æ ·æ‰èƒ½è®©Shaderæ¥å—å…‰ç…§ï¼Œä»è€Œå®ç°æ¼«åå°„æ•ˆæœ\næ¡ˆä¾‹2:åŠ å…¥ç¯å¢ƒå…‰ Shader \u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] } lighting on //off } } } çº¢è‰²éƒ¨åˆ†å°±æ˜¯ç¯å¢ƒå…‰å½±å“çš„éƒ¨åˆ† ambient æ˜¯ç¯å¢ƒå…‰ åœ¨çœŸå®ä¸–ç•Œå½“ä¸­ï¼Œä¸€ä¸ªç‰©ä½“ä¼šå—åˆ°å…¶ç¯å¢ƒå…‰çš„å½±å“ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨Shaderä¸­åŠ å…¥ç¯å¢ƒå…‰çš„æ•ˆæœï¼Œæ¥æ¨¡æ‹ŸçœŸå®ä¸–ç•Œ åˆ›å»ºä¸€ä¸ªå±æ€§**_Ambient** ä¸ºç¯å¢ƒå…‰ä¼ å…¥å±æ€§ambient[_Ambient] ç¯å¢ƒå…‰Alphaé€šé“ï¼Œä¸ä¼šå¯¹ç¯å¢ƒå…‰æœ‰ä»»ä½•å½±å“\næ¡ˆä¾‹3:é«˜å…‰ Shader \u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular]//é«˜å…‰ } lighting on //off separatespecular on //é«˜å…‰è®¡ç®— è¦ä½¿ç”¨specularåŠŸèƒ½ï¼Œå¿…é¡»å¼€å¯ } } } å¦‚æœä¸SeparateSpecular Onï¼Œé‚£ä¹ˆæ˜¯ä¸ä¼šè®¡ç®—é«˜å…‰çš„ã€‚ å¦‚æœSeparateSpecular Onï¼Œè®¡ç®—é«˜å…‰ï¼Œä½†æ˜¯é«˜å…‰æ˜¯å•ç‹¬è®¡ç®—çš„ã€‚å³è®¡ç®—æ¼«åå°„ç¯å¢ƒå…‰ï¼ˆä½†ä¸åŒ…æ‹¬é«˜å…‰ï¼‰ç­‰ç›¸åŠ èµ·æ¥å¾—åˆ°çš„å…‰ç…§ï¼Œè·Ÿçº¹ç†æ··åˆã€‚æ··åˆä¹‹åçš„é¢œè‰²å†åŠ ä¸Šæˆ‘ä»¬å•ç‹¬è®¡ç®—çš„é«˜å…‰ï¼Œè¿™æ ·å¾—åˆ°æœ€ç»ˆçš„é¢œè‰²ã€‚è¦èµ·ä½œç”¨ï¼Œå¿…é¡»Lighting On\nçœŸå®ä¸–ç•Œä¸­ç‰©ä½“æ”¶åˆ°å…‰ç…§å½±å“ï¼Œä¼šæœ‰é«˜å…‰éƒ¨åˆ† åœ¨å›ºå®šæ¸²æŸ“ç®¡çº¿çš„Shaderä¸­ å¯ä»¥ä½¿ç”¨specularé«˜å…‰åŠŸèƒ½ æ¥æ·»åŠ æè´¨çš„é«˜å…‰ç€è‰² **specular[Color]**\næ¡ˆä¾‹3:shininessè°ƒæ•´é«˜å…‰é›†ä¸­åº¦ Shader \u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular]//é«˜å…‰ shininess[_Shiness]//é«˜å…‰é›†ä¸­åº¦ } lighting on //off separatespecular on //è¦ä½¿ç”¨specularåŠŸèƒ½ï¼Œå¿…é¡»å¼€å¯ } } } shininesså¯ä»¥æ§åˆ¶é«˜å…‰çš„é›†ä¸­åº¦ shininesséœ€è¦ä¼ å…¥ä¸€ä¸ªæµ®ç‚¹å€¼ æ‰€ä»¥å¤–éƒ¨å®šä¹‰å±æ€§çš„æ—¶å€™ å¯ä»¥å°†ç±»å‹è®¾ç½®æˆfloat æˆ–è€…æ˜¯range\næ¡ˆä¾‹4:Emissionè‡ªå‘å…‰ Shader \u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission]//è‡ªå‘å…‰ } lighting on //off separatespecular on //è¦ä½¿ç”¨specularåŠŸèƒ½ï¼Œå¿…é¡»å¼€å¯ } } } Emissionæ§åˆ¶ä»è¡¨é¢å‘å‡ºçš„å…‰çš„é¢œè‰²å’Œå¼ºåº¦ã€‚å½“ä½ åœ¨åœºæ™¯ä¸­ä½¿ç”¨Emissionæè´¨æ—¶ï¼Œå®ƒä»¥å¯è§å…‰æºçš„å½¢å¼å‡ºç°ã€‚è‡ªå‘å…‰ã€‚ Emissionæè´¨é€šå¸¸æ˜¯ç”¨åœ¨GameObjectséœ€è¦ä»å†…éƒ¨äº®äº†èµ·æ¥ï¼Œå¦‚ç›‘è§†å™¨ä¸Šçš„å±å¹•ï¼Œå¦‚æ±½è½¦åœ¨å¤œé—´è¡Œé©¶æ—¶é—ªäº®çš„ä»ªè¡¨ç›˜ï¼Œæˆ–æ˜¯å†æ¼†é»‘åœ°æ–¹é—ªäº®ç€æ€ªç‰©çš„çœ¼ç›ã€‚ åœ¨è®¡ç®—æœºä¸­ï¼Œä¼šæ ¹æ®è‡ªå‘å…‰é¢œè‰²æ·±åº¦æ¥å¤„ç†è‡ªå‘å…‰çš„æ•ˆæœ å¦‚æœè‡ªå‘å…‰é¢œè‰²ä¸ºçº¯ç™½è‰²ï¼Œé‚£æ¸²æŸ“çš„æè´¨å°±æ˜¯éå¸¸äº®\nå¯ä»¥å‡å°‘é¢œè‰²æ·±åº¦ï¼Œæé«˜çœŸå®æ„Ÿ\nçº¯é»‘è‰²çš„è¯å°±ï¼Œçœ‹ä¸åˆ°è‡ªå‘å…‰æ•ˆæœ\nLighting åœ¨Passä¸­ lighting on//å¯ä»¥å¯ç”¨å…‰ç…§ å¯åŠ¨çš„æ˜¯å®šç‚¹å…‰ç…§\nSetTexture åœ¨ç»˜åˆ¶æè´¨è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦ç»˜åˆ¶æŒ‡å®šçš„è´´å›¾çº¹ç† åœ¨ShaderLabä¸­ï¼Œå›ºå®šæ¸²æŸ“ç€è‰²å™¨é‡Œå¯ä»¥ä½¿ç”¨settextureæŒ‡ä»¤è¿›è¡Œè´´å›¾ç»˜åˆ¶\næ¡ˆä¾‹1ï¼šç»˜åˆ¶çº¹ç† Shader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;\u0026#34; } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] } } } _MainTex(\u0026ldquo;MainTex\u0026rdquo;,2D)=\u0026quot;\u0026quot;//å®šä¹‰äº†ä¸€ä¸ª2Dçº¹ç†è´´å›¾çš„å±æ€§ï¼Œé»˜è®¤å€¼ä¸ºå­—ç¬¦ä¸²â€œâ€ï¼Œé»˜è®¤å€¼å…¶å®å°±æ˜¯ç»™çº¹ç†å–ä¸€ä¸ªåç§°ï¼Œè¿™é‡Œå¡«å†™äº†ç©ºå­—ç¬¦ä¸² shaderlabä¸åˆ†å¤§å°å†™ï¼Œæ‰€ä»¥å±æ€§ç±»å‹å†™æˆ2dæˆ–è€…2Déƒ½å¯ä»¥ç¼–è¯‘çš„ settexture[çº¹ç†å±æ€§] ä¼ å…¥çº¹ç†å±æ€§ï¼Œæ¥è®¾ç½®è´´å›¾\næ¡ˆä¾‹2ï¼šä½¿ç”¨combineæ··åˆçº¹ç† Shader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;\u0026#34; } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] { combine texture * primary double } } } } settexture[_Maintex] { //èŠ±é˜”å·å†…å¯ä»¥è®¾ç½®ç»˜åˆ¶çº¹ç†æ—¶çš„åŠŸèƒ½å‘½ä»¤ } combineå°±æ˜¯ä¸€ä¸ªæ··åˆçº¹ç†é¢œè‰²çš„å‘½ä»¤ textureå°±æ˜¯å½“å‰è®¾ç½®çš„çº¹ç†é¢œè‰² primaryæ˜¯å½“å‰passä¸­materialä¸­è®¾ç½®çš„æè´¨æ•ˆæœï¼Œå’Œç¯å…‰è¿˜æœ‰é«˜å…‰åå°„é¢œè‰² texture*primaryç›¸å½“äºå¯¹ä¸¤ä¸ªé¢œè‰²è¿›è¡Œæ­£ç‰‡å åº• ä¹Ÿå°±æ˜¯å°†ä¸¤ä¸ªé¢œè‰²æ¯ä¸ªRGBé€šé“çš„åˆ†é‡ç›¸ä¹˜ double ç›¸å½“äºå°† æ··åˆçš„é¢œè‰²å†ä¹˜ä¸¤å€ï¼Œè¿™æ ·å¯ä»¥æé«˜æ•´ä½“äº®åº¦ï¼Œä¹Ÿå¯ä»¥ä¹˜4å€ quad\næ¡ˆä¾‹3:å¤šå¼ çº¹ç†è´´å›¾æ··åˆ Shader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;\u0026#34; _SecondTex(\u0026#34;SecondTex\u0026#34;,2D)=\u0026#34;\u0026#34; } SubShader { pass { material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] { combine texture * primary double } settexture[_SecondTex] { combine texture * previous double } } } } è¿™é‡Œè¦æ³¨æ„settextureå¹¶ä¸æ˜¯æ— é™æ¬¡çš„ ä¸åŒçš„æ˜¾å¡æ”¯æŒçš„çº¹ç†æ··åˆæ¬¡æ•°æ˜¯ä¸åŒçš„\nåœ¨ç¬¬äºŒå±‚settextureä¸­ combine å‘½ä»¤æ··åˆæ—¶ æ˜¯ç”±å½“å‰çº¹ç†textureä»–é¢œè‰²å’Œpreviousé¢œè‰²ç›¸ä¹˜ previousåŒ…å«äº†ä¸Šä¸€æ¬¡settextureæ··åˆçš„çº¹ç†é¢œè‰²åŠ ä¸Šprimaryé¢œè‰² å¦‚æœè¿™é‡Œç”¨primaryçš„è¯ å¯ä»¥ä¼šå¯¼è‡´æ— æ³•è·å–åˆ°ç¬¬ä¸€æ¬¡settextureè®¾ç½®çš„çº¹ç†é¢œè‰² æœ€ç»ˆæ•ˆæœä¹Ÿå°±åªæœ‰_SecondTexçº¹ç†çš„æ•ˆæœäº†\nShaderLabï¼šBlending ç¡®å®š GPU å¦‚ä½•å°†ç‰‡å…ƒç€è‰²å™¨çš„è¾“å‡ºä¸æ¸²æŸ“ç›®æ ‡è¿›è¡Œåˆå¹¶ã€‚ æ­¤å‘½ä»¤çš„åŠŸèƒ½å–å†³äºæ··åˆæ“ä½œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ BlendOp å‘½ä»¤è¿›è¡Œè®¾ç½®ã€‚è¯·æ³¨æ„ï¼Œè™½ç„¶æ‰€æœ‰å›¾å½¢ API å’Œç¡¬ä»¶éƒ½æ”¯æŒæ··åˆåŠŸèƒ½ï¼Œä½†å¯¹æŸäº›æ··åˆæ“ä½œçš„æ”¯æŒè¾ƒä¸ºæœ‰é™ã€‚ å¯ç”¨æ··åˆä¼šç¦ç”¨ GPU ä¸Šçš„ä¸€äº›ä¼˜åŒ–ï¼ˆä¸»è¦æ˜¯åˆ é™¤éšè—çš„è¡¨é¢/Early-Zï¼‰ï¼Œè¿™äº›ä¼˜åŒ–ä¼šå¢åŠ  GPU å¸§æ—¶é—´ã€‚ è¯­æ³• Blend Offï¼šå…³é—­æ··åˆï¼ˆè¿™æ˜¯é»˜è®¤è®¾ç½®ï¼‰ Blend SrcFactor DstFactorï¼šé…ç½®å¹¶å¯ç”¨æ··åˆã€‚ç”Ÿæˆçš„é¢œè‰²ä¹˜ä»¥SrcFactorã€‚å±å¹•ä¸Šå·²æœ‰çš„é¢œè‰²ä¹˜ä»¥DstFactorï¼Œç„¶åå°†ä¸¤è€…ç›¸åŠ ã€‚ Blend SrcFactor DstFactor, SrcFactorA DstFactorAï¼šä¸ä¸Šé¢ç›¸åŒï¼Œä½†ä½¿ç”¨ä¸åŒçš„å› ç´ æ¥æ··åˆ Alpha é€šé“ã€‚ BlendOp Opï¼šä¸æ˜¯å°†æ··åˆé¢œè‰²æ·»åŠ åˆ°ä¸€èµ·ï¼Œè€Œæ˜¯å¯¹å®ƒä»¬æ‰§è¡Œä¸åŒçš„æ“ä½œã€‚ BlendOp OpColor, OpAlpha: åŒä¸Šï¼Œä½†å¯¹é¢œè‰² (RGB) å’Œ alpha (A) é€šé“ä½¿ç”¨ä¸åŒçš„æ··åˆæ“ä½œã€‚ æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è®¾ç½®ä¸Šæ¸²æŸ“ç›®æ ‡æ··åˆæ¨¡å¼ã€‚ä½¿ç”¨å¤šæ¸²æŸ“ç›®æ ‡ (MRT) æ—¶æ¸²æŸ“ï¼Œä¸Šé¢çš„å¸¸è§„è¯­æ³•ä¸ºæ‰€æœ‰æ¸²æŸ“ç›®æ ‡è®¾ç½®äº†ç›¸åŒçš„æ··åˆæ¨¡å¼ã€‚ä»¥ä¸‹è¯­æ³•å¯ä»¥ä¸ºå„ä¸ªæ¸²æŸ“ç›®æ ‡è®¾ç½®ä¸åŒçš„æ··åˆæ¨¡å¼ï¼Œå…¶ä¸­Næ˜¯æ¸²æŸ“ç›®æ ‡ç´¢å¼• (0..7)ã€‚æ­¤åŠŸèƒ½é€‚ç”¨äºå¤§å¤šæ•°ç°ä»£ API/GPUï¼ˆDX11/12ã€GLCoreã€Metalã€PS4ï¼‰ï¼š\nBlend N SrcFactor DstFactor Blend N SrcFactor DstFactor, SrcFactorA DstFactorA BlendOp N Op BlendOp N OpColor, OpAlpha AlphaToMask Onï¼šæ‰“å¼€ alpha-to-coverageã€‚å½“ä½¿ç”¨ MSAA æ—¶ï¼Œalpha-to-coverage ä¼šæ ¹æ®åƒç´ ç€è‰²å™¨ç»“æœ alpha å€¼æŒ‰æ¯”ä¾‹ä¿®æ”¹å¤šæ ·æœ¬è¦†ç›–æ©ç ã€‚è¿™é€šå¸¸ç”¨äºæ¯”å¸¸è§„ alpha æµ‹è¯•æ›´å°‘é”¯é½¿çš„è½®å»“ï¼›å¯¹æ¤è¢«å’Œå…¶ä»–ç»è¿‡ alpha æµ‹è¯•çš„ç€è‰²å™¨å¾ˆæœ‰ç”¨ã€‚\næ··åˆå› å­ ä»¥ä¸‹æ‰€æœ‰å±æ€§å¯¹Blendå‘½ä»¤ä¸­çš„ SrcFactor å’Œ DstFactor å‡æœ‰æ•ˆã€‚Sourceæ˜¯æŒ‡è®¡ç®—å‡ºçš„é¢œè‰²ï¼ŒDestinationæ˜¯å±å¹•ä¸Šå·²æœ‰çš„é¢œè‰²ã€‚å¦‚æœBlendOpä½¿ç”¨é€»è¾‘è¿ç®—ï¼Œåˆ™æ··åˆå› å­å°†è¢«å¿½ç•¥ã€‚ æ··åˆæ“ä½œ å¸¸è§æ··åˆç±»å‹ (Blend Type) ä»¥ä¸‹æ˜¯æœ€å¸¸è§çš„æ··åˆç±»å‹çš„è¯­æ³•ï¼š\nBlend SrcAlpha OneMinusSrcAlpha // ä¼ ç»Ÿé€æ˜åº¦ Blend One OneMinusSrcAlpha // é¢„ä¹˜é€æ˜åº¦ Blend One One // åŠ æ³• Blend OneMinusDstColor One // è½¯åŠ æ³• Blend DstColor Zero // ä¹˜æ³• Blend DstColor SrcColor // 2x ä¹˜æ³• æ¡ˆä¾‹4ï¼šå®ç°æè´¨çš„é€æ˜æ•ˆæœ å½“æˆ‘ä»¬åœ¨æ¸²æŸ“é¼ æ ‡æŒ‡çš„çƒä½“çš„æ—¶å€™çš„é¢œè‰²ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæºé¢œè‰² é™¤äº†é¼ æ ‡æ‰€æŒ‡çš„çƒä½“ä»¥å¤–çš„æ¸²æŸ“çš„é¢œè‰²ï¼ˆåŒ…æ‹¬å¤©ç©ºç›’ï¼‰ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºç›®æ ‡é¢œè‰² ç›®æ ‡é¢œè‰²ï¼Œåœ¨æˆ‘ä»¬æ¸²æŸ“æºé¢œè‰²ä¹‹å‰å·²ç»æ¸²æŸ“è¿‡äº†\nShader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;\u0026#34; _SecondTex(\u0026#34;SecondTex\u0026#34;,2D)=\u0026#34;\u0026#34; } SubShader { pass { Blend SrcAlpha OneMinusSrcAlpha material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] { combine texture * primary double } settexture[_SecondTex] { combine texture * previous double } } } } å¯ä»¥çœ‹åˆ° SrcAlpha OneMinusSrcAlpha ç»è¿‡a*(1-a) å¤„ç†ä¹‹åå¾—åˆ°äº†ä¼ ç»Ÿçš„é€æ˜åº¦çš„æ··åˆ\næ¡ˆä¾‹5ï¼šTagsä¸æ¸²æŸ“é˜Ÿåˆ— ç®¡ç†Tagsçš„Unityæ–‡æ¡£â¬‡ï¸ Shader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;\u0026#34; _SecondTex(\u0026#34;SecondTex\u0026#34;,2D)=\u0026#34;\u0026#34; } SubShader { Tags{\u0026#34;Queue\u0026#34;=\u0026#34;Transparent\u0026#34;} pass { Blend SrcAlpha OneMinusSrcAlpha material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] { combine texture * primary double } settexture[_SecondTex] { combine texture * previous double } } } } é€šè¿‡æ ‡ç­¾è®¾ç½®æ¸²æŸ“é˜Ÿåˆ—ä¸ºTransparentï¼Œé€æ˜ç‰©ä½“ï¼ŒåŠ ä¸Šä¼ ç»ŸAlphaçš„æ··åˆï¼Œå°±å¯ä»¥å®ç°é€æ˜ç‰©ä½“çš„æ•ˆæœï¼Œé€è¿‡ç‰©ä½“å¯ä»¥çœ‹åˆ°èƒŒåæ¸²æŸ“çš„ç‰©ä½“\næ¡ˆä¾‹6ï¼šä½¿ç”¨çº¹ç†çš„Alphaé€šé“ï¼Œå®ç°é€æ˜æ•ˆæœ Shader \u0026#34;Unlit/FixedTextureShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) _Ambient(\u0026#34;Ambient\u0026#34;,color)=(0.3,0.3,0.3,1) _Specular(\u0026#34;Specular\u0026#34;,color)=(1,1,1,1) _Shiness(\u0026#34;Shininess\u0026#34;,range(0,1))=1 _Emission(\u0026#34;Emission\u0026#34;,color)=(0.5,0.5,0.5,1) _MainTex(\u0026#34;MainTex\u0026#34;,2D)=\u0026#34;white\u0026#34;{} _SecondTex(\u0026#34;SecondTex\u0026#34;,2D)=\u0026#34;\u0026#34;{} _ConstantColor(\u0026#34;ConstantColor\u0026#34;,color)=(1,1,1,0.3) } SubShader { Tags{\u0026#34;Queue\u0026#34;=\u0026#34;Transparent\u0026#34;} pass { Blend SrcAlpha OneMinusSrcAlpha material { diffuse[_Color] ambient[_Ambient] specular[_Specular] shininess[_Shiness] emission[_Emission] } lighting on separatespecular on settexture[_MainTex] { combine texture * primary double } settexture[_SecondTex] { constantColor[_ConstantColor] combine texture * previous double,texture*constant//,é€—å·ä¹‹åå–é¢œè‰²çš„Alphaé€šé“ }//ä¸åŒæ˜¾å¡æœ‰ä¸åŒçš„æœ€å¤šæ”¯æŒæ··åˆæ¬¡æ•° } } } constantColorå‘½ä»¤æŒ‡å®šä¸€ä¸ªé¢œè‰²å¯ä»¥ç”¨äºCombineæŒ‡ä»¤ã€‚ combineé€—å·ä¹‹åçš„å‚æ•° è¡¨ç¤ºæ··åˆçš„Alphaé¢œè‰² è®©å½“å‰çº¹ç†textureé¢œè‰²*constantæŒ‡å®šçš„é¢œè‰² è¿™æ ·å¯ä»¥é€šè¿‡å¤–éƒ¨æš´éœ²çš„ _ConstantColoræ•´ä½“è°ƒæ•´æè´¨é€æ˜åº¦ï¼Œå¹¶ä¸”åŒæ—¶å¯ä»¥åº”ç”¨æè´¨_SecondTexçš„é€æ˜åº¦ æ³¨æ„ï¼š é™¤éåé¢éƒ½æ˜¯2Dçº¹ç†çš„å±æ€§å¦åˆ™å®šä¹‰2Dçº¹ç†å±æ€§ åˆå§‹åŒ–çš„å€¼è¦å†™ä¸Š{} è¿™é‡Œå› ä¸ºåé¢æ˜¯é¢œè‰²å±æ€§æ‰€ä»¥è¦å†™ä¸Š{} è¿™æ ·ç¼–è¯‘å™¨æ‰ä¸ä¼šæŠ¥é”™\n","permalink":"https://EitanWong.github.io/en/posts/shader/fixed-function-shader%E5%9B%BA%E5%AE%9A%E5%8A%9F%E8%83%BD%E7%9D%80%E8%89%B2%E5%99%A8/","summary":"Fixed function shaderä»å­—é¢æ„æ€ç†è§£ï¼Œå°±æ˜¯å›ºå®šåŠŸèƒ½çš„æ¸²æŸ“ç€è‰²å™¨ è¿™ç§ShaderåŠŸèƒ½æœ‰é™ï¼Œä½†é€Ÿåº¦å´æ˜¯æœ€å¿«çš„ ä½†æ˜¯èƒ½å¤Ÿåœ¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„ç¡¬ä»¶å¹³å°ä¸Šæ‰§è¡Œ æ¡ˆä¾‹1ï¼šå›ºå®šç€è‰² Shader\u0026#34;Unlit/firstFixedShader\u0026#34; { SubShader { pass { color(1,1,1,1) } } } Properties ä½¿ç”¨Propertiesï¼Œæä¾›å¤–éƒ¨çš„Shaderå±æ€§å‚æ•°é…ç½® æ¡ˆä¾‹ Shader\u0026#34;Unlit/firstFixedShader\u0026#34; { Properties { _Color(\u0026#34;Main Color\u0026#34;,color)=(1,1,1,1) } SubShader { pass { //color(1,0,0,1) color[_Color] } } } () å°æ‹¬å·æ˜¯å›º","title":"Fixed function shaderå›ºå®šåŠŸèƒ½ç€è‰²å™¨"},{"content":"Shader\u0026#34;ParentName/ShaderName\u0026#34; { Properties { } SubShader { Pass { } } } æ ¼å¼ Propertyieså‚æ•°åˆ—è¡¨ æä¾›æš´éœ²çš„é…ç½®å­—æ®µé…ç½®Shader å±æ€§çš„æ ¼å¼ _å±æ€§å (\u0026quot;å¤–éƒ¨åç§°\u0026quot;, å±æ€§ç±»å‹) = åˆå§‹åŒ–å€¼\nSubShader ä¸€ä¸ªShaderä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªSubShader ä¸€ä¸ªShaderLabä¸­ä¸èƒ½æ²¡æœ‰SubShader ä¸€ä¸ªShaderæ–‡ä»¶ä¸­å¯ä»¥åŒ…å«å¤šä¸ªSubShader ä¸€ä¸ªShaderæ–‡ä»¶è¿è¡Œçš„æ—¶å€™æ˜¾å¡ä¼šå»æ£€æµ‹æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå½“å‰è¿è¡Œç¯å¢ƒå¯ä»¥è¿è¡Œçš„SubShaderï¼Œå¦‚æœæœ‰é‚£å°±æ‰§è¡Œï¼Œæ‰€ä»¥å¤šä¸ªSubShaderï¼Œå¯ä»¥ç»™ä¸åŒçš„ç¡¬ä»¶ä»¥åŠå¹³å°è¿è¡Œï¼Œæé«˜Shaderçš„å…¼å®¹æ€§ å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯ä»¥è¿è¡Œçš„SubShaderï¼Œå°±ä¼šæ‰§è¡ŒFallBackï¼Œæ‰§è¡ŒFallBackä¸­ä¿ç•™çš„Shader ä»ä¸Šå¾€ä¸‹çš„SubShaderè¦ä¸€ä¸ªæ¯”ä¸€ä¸ªç®€åŒ– è¿™æ ·æ˜¾å¡å¯ä»¥æ ¹æ®å½“å‰çš„ç¡¬ä»¶è½¯ä»¶ç¯å¢ƒï¼Œé€‰æ‹©é€‚åˆçš„SubShader\nFallBackå›æ»š å½“æ‰€æœ‰SubShaderéƒ½æ— æ³•æ‰§è¡Œï¼Œæ˜¾å¡ä¼šé€‰æ‹©FallBackçš„Shader å¯ä»¥å¡«å†™è‡ªå†™çš„Shader ä¹Ÿå¯ä»¥å¡«å†™Unityå†…å»ºçš„Shader\nShaderLab: CustomEditor å®šåˆ¶ShaderLabå¤–éƒ¨å±æ€§é…ç½®çš„ç¼–è¾‘å™¨ è¯­æ³•æ ¼å¼ï¼š\nCustomEditor â€œMyCustomEditorâ€ ","permalink":"https://EitanWong.github.io/en/posts/shader/shaderlab%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84/","summary":"Shader\u0026#34;ParentName/ShaderName\u0026#34; { Properties { } SubShader { Pass { } } } æ ¼å¼ Propertyieså‚æ•°åˆ—è¡¨ æä¾›æš´éœ²çš„é…ç½®å­—æ®µé…ç½®Shader å±æ€§çš„æ ¼å¼ _å±æ€§å (\u0026quot;å¤–éƒ¨åç§°\u0026quot;, å±æ€§ç±»å‹) = åˆå§‹åŒ–å€¼ SubShader ä¸€ä¸ªShaderä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªSubShader ä¸€ä¸ªShaderLabä¸­ä¸èƒ½æ²¡æœ‰SubShader ä¸€ä¸ªShade","title":"ShaderLabåŸºæœ¬ç»“æ„"},{"content":"UnityShaderçš„å½¢æ€ SurfaceShader ğŸ’¡ è¿™æ˜¯ä¸€ç§åœ¨æ—©æœŸUnityç‰ˆæœ¬ä¸­è¢«é¼“åŠ±ä½¿ç”¨çš„Shaderï¼Œåœ¨Unityä¸­åˆ›å»ºShaderä»£ç æ—¶ï¼Œé»˜è®¤åˆ›å»ºçš„å°±æ˜¯SurfaceShader ğŸ’¡ å›¾å½¢æ¸²æŸ“ç®¡çº¿èƒ½å¤Ÿè¯†åˆ«çš„å°±åªæœ‰ä¸¤ç§Shaderï¼ŒVertexShaderå’ŒFragmentShader SurfaceShaderæ˜¯åœ¨Vertex and Fragment ShaderåŸºç¡€ä¹‹ä¸Šè¿›è¡Œçš„ä¸€ç§åŒ…è£… æœ€ç»ˆUnityå¼•æ“è¿˜æ˜¯ä¼šæŠŠSurfaceShaderç¼–è¯‘æˆVertex and Fragment Shader\nVertex and Fragment Shader ğŸ’¡ é¡¶ç‚¹ç‰‡å…ƒç€è‰²å™¨ æ¸²æŸ“ç®¡çº¿æœ€ç»ˆå¯ä»¥æ‰§è¡Œå¹¶ä¸”å¤„ç†çš„ä¸¤ç§åŸºæœ¬çš„Shader å¯ä»¥ä½¿ç”¨Cgå’ŒGLSLè¯­è¨€å»ç¼–å†™ å®ƒæ˜¯é•¶åµŒåœ¨ShaderLabä¸­çš„ä»£ç ç‰‡æ®µ\nFixed Function Shader ğŸ’¡ å›ºå®šåŠŸèƒ½Shaderï¼Œåœ¨å¯ç¼–ç¨‹æ¸²æŸ“ç®¡çº¿å‡ºç°ä¹‹å‰ï¼Œå¾ˆå¤šå…‰ç…§éƒ½ä¼šåœ¨ç¡¬ä»¶çº§å®ç° å¯¹äºè¿™æ ·çš„åŠŸèƒ½ï¼Œä¸€èˆ¬éƒ½ä¼šç”¨å›ºå®šåŠŸèƒ½çš„Shaderå®ç°ï¼Œè¿™ç±»Shaderç›¸å¯¹æ¥è¯´æ¯”è¾ƒä¿å®ˆ åŠŸèƒ½ä¹Ÿå¾ˆå›ºå®šï¼Œä¾‹å¦‚å¼€å…³å…‰ç…§ä¹‹ç±»çš„ï¼Œä½†æ˜¯èƒ½å¤Ÿåœ¨ç»å¤§å¤šæ•°çš„è®¾å¤‡ä¸Šè¿è¡Œ\nShaderLabåŸºæœ¬ç»“æ„ shader \u0026#34;nameâ€{ [Properties] SubShaders [FallBack] } Properties ğŸ’¡ åœ¨Unityçš„Material Inspectoré¢æ¿ä¸­ï¼ŒShaderå¯ä»¥å®šä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œä»¥ä¾›ç¾æœ¯æˆ–è€…å¼€å‘äººå‘˜è¿›è¡Œè°ƒæ•´Shaderçš„å‚æ•°\nProperties { _Color (\u0026#34;Color\u0026#34;, Color) = (1,1,1,1) _MainTex (\u0026#34;Albedo (RGB)\u0026#34;, 2D) = \u0026#34;white\u0026#34; {} _Glossiness (\u0026#34;Smoothness\u0026#34;, Range(0,1)) = 0.5 _Metallic (\u0026#34;Metallic\u0026#34;, Range(0,1)) = 0.0 } SubShaders ğŸ’¡ ä¸“é—¨ä¸ºGPUæ¸²æŸ“ç¼–å†™çš„å…·ä½“ç®—æ³•ç‰‡æ®µ\nä¸€ä¸ªShaderä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªSubShaderï¼Œä¸”è‡³å°‘è¦æœ‰ä¸€ä¸ªSubShader æ˜¾å¡å»å¤„ç†çš„æ—¶å€™ï¼Œåªèƒ½é€‰æ‹©ä¸€ä¸ªSubShaderå¤„ç† ä½œä¸ºShaderæœ‰å¯èƒ½å­˜åœ¨æŸä¸€ç§ç®—æ³•æŸä¸€ç§æŒ‡ä»¤åœ¨å½“å‰ç¡¬ä»¶ä¸èƒ½å¾—åˆ°æ”¯æŒ å½“ä¸€ä¸ªShaderæ–‡ä»¶è¢«æ‰§è¡Œè¿è¡Œæ—¶ï¼Œä¼šå»æ£€æµ‹å½“å‰ç¡¬ä»¶èƒ½ä¸èƒ½å¤Ÿå¾ˆå¥½çš„å®Œæ•´æ”¯æŒ å¦‚æœç¬¬ä¸€ä¸ªSubShaderèƒ½å¤Ÿå¾ˆå¥½çš„è¢«å®Œæ•´æ”¯æŒï¼Œå°±ä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªSubShaderæ‰§è¡Œ å½“ä¸ç¡®å®šï¼Œæˆ–è€…ä¸èƒ½å¾ˆå¥½çš„è¿›è¡Œæ”¯æŒæ—¶ï¼Œå°±é€‰é€‰æ‹©ç¬¬äºŒä¸ªSubShaderè¿›è¡Œæ‰§è¡Œ\nğŸ’¡ æ‰€ä»¥åœ¨è®¾è®¡SubShaderæ—¶ï¼Œè¶Šå¾€ä¸‹ç¼–å†™çš„ï¼Œè¿ç®—æŒ‡ä»¤å’Œç®—æ³•å°±è¦è¶Šç®€åŒ–ï¼Œä¸ºäº†æ”¯æŒæ›´å¤šä¸å…¼å®¹çš„ç¡¬ä»¶\nSubShader { Tags { \u0026#34;ExampleSubShaderTagKey\u0026#34; = \u0026#34;ExampleSubShaderTagValue\u0026#34; } LOD 100 // ShaderLab commands that apply to the whole SubShader go here. Pass { Name \u0026#34;ExamplePassName\u0026#34; Tags { \u0026#34;ExamplePassTagKey\u0026#34; = \u0026#34;ExamplePassTagValue\u0026#34; } // ShaderLab commands that apply to this Pass go here. // HLSL code goes here. } } Fallback ğŸ’¡ å¦‚æœæ‰€æœ‰SubShaderéƒ½ä¸èƒ½è¢«å½“å‰çš„ç¡¬ä»¶æ‰§è¡Œï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨è¿›å…¥Fallbackå›æ»š\nBuild-In Shader Unlit. This is just a texture, not affected by any lighting. ä¸å‘å…‰ã€‚è¿™åªæ˜¯ä¸€ä¸ªçº¹ç†ï¼Œä¸è¢«ä»»ä½•å…‰ç…§æœå“ VertexLit. é¡¶ç‚¹å…‰ç…§ Diffuse.æ¼«åå°„ Normal mapped. This is a bit more expensive than Diffuse: it adds one more texture (normal map), and a couple of shader instructions. æ³•çº¿è´´å›¾ï¼Œæ¯”æ²¡åå°„æ›´æ˜‚è´µï¼šå¢åŠ äº†ä¸€ä¸ªæˆ–æ›´å¤šçº¹ç†ï¼ˆæ³•çº¿è§å›¾ï¼‰å’Œå‡ ä¸ªè‘—è‰²å™¨ç»“æ„ Specular. This adds specular highlight calculation. é«˜å…‰ã€‚è¿™å¢åŠ äº†ç‰¹æ®Šçš„é«˜å…‰è®¡ç®— Normal Mapped Specular. Again, this is a bit more expensive than Specular. é«˜å…‰æ³•çº¿è´´å›¾ã€‚è¿™æ¯”é«˜å…‰æ›´æ˜‚è´µä¸€ç‚¹ Parallax Normal mapped. This adds parallax normal-mapping calculation. è§†å·®æ³•çº¿è´´å›¾ã€‚è¿™å¢åŠ äº†è§†å·®æ³•è´´å›¾è®¡ç®— Parallax Normal Mapped Specular. This adds both parallax normal-mapping and specular highlight calculation. è§†å·®é«˜å…‰æ³•ç»‡åœ–ã€‚è¿™å¢åŠ äº†è§†å·®æ³•çº¿è´´å›¾å’Œè³‡é¢é«˜å…‰è®¡ç®— CustomEditor ğŸ’¡ è‡ªå®šä¹‰ç¼–è¾‘å™¨ å¯ä»¥ä½¿ç”¨CustomEditor â€œnameâ€ è‡ªå®šä¹‰Shaderå±æ€§å±•ç°çš„æ–¹å¼\nShader \u0026#34;example\u0026#34;{ // properties and subshaders here..â€¢ CuatomEditor \u0026#34;MyGustomEditoz\u0026#34; } ","permalink":"https://EitanWong.github.io/en/posts/shader/shader%E7%9A%84%E7%BB%84%E7%BB%87%E5%BD%A2%E5%BC%8F/","summary":"UnityShaderçš„å½¢æ€ SurfaceShader ğŸ’¡ è¿™æ˜¯ä¸€ç§åœ¨æ—©æœŸUnityç‰ˆæœ¬ä¸­è¢«é¼“åŠ±ä½¿ç”¨çš„Shaderï¼Œåœ¨Unityä¸­åˆ›å»ºShaderä»£ç æ—¶ï¼Œé»˜è®¤åˆ›å»ºçš„å°±æ˜¯SurfaceShader ğŸ’¡ å›¾å½¢æ¸²æŸ“ç®¡çº¿èƒ½å¤Ÿè¯†åˆ«çš„å°±åªæœ‰ä¸¤ç§Shaderï¼ŒVertexShaderå’ŒFragmentShader Surfac","title":"Shaderçš„ç»„ç»‡å½¢å¼"},{"content":"GPUå‘å±•ç®€å² GPUï¼ˆGraphic Processing Unitï¼‰ï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºâ€œå›¾å½¢å¤„ç†å™¨â€ï¼Œåœ¨ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä½œç”¨å˜å¾—åŸæ¥è¶Šé‡è¦ã€‚ 20ä¸–çºªå…­ã€ä¸ƒåå¹´ä»£ï¼Œå—ç¡¬ä»¶æ¡ä»¶çš„é™åˆ¶ï¼Œå›¾å½¢æ˜¾ç¤ºå™¨åªæ˜¯è®¡ç®—æœºè¾“å‡ºçš„ä¸€ç§å·¥å…·ã€‚é™äºç¡¬ä»¶å‘å±•æ°´å¹³ï¼Œäººä»¬åªæ˜¯çº¯ç²¹èªè½¯ä»¶å®ç°çš„è§’åº¦æ¥è€ƒè™‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è§„èŒƒé—®é¢˜ã€‚æ­¤æ—¶è¿˜æ²¡æœ‰GPUçš„æ¦‚å¿µ\nGPUæ¦‚å¿µåœ¨20ä¸–çºª70å¹´ä»£æœ«å’Œ80å¹´ä»£åˆè¢«æå‡ºï¼Œä½¿ç”¨å•ç‰‡é›†æˆç”µè·¯ï¼ˆmonolithicï¼‰ä½œä¸ºå›¾å½¢èŠ¯ç‰‡ï¼Œæ­¤æ—¶çš„GPUè¢«ç”¨äºè§†é¢‘æ¸¸æˆå’ŒåŠ¨ç”»æ–¹é¢ï¼Œå®ƒèƒ½å¤Ÿå¾ˆå¿«åœ°è¿›è¡Œå‡ å¼ å›¾ç‰‡çš„åˆæˆï¼ˆä»…é™äºæ­¤ï¼‰ã€‚åœ¨20ä¸–çºª80å¹´ä»£æœ«åˆ°90å¹´ä»£åˆè¿™æ®µæ—¶é—´å†…ï¼ŒåŸºäºæ•°å­—ä¿¡å·å¤„ç†èŠ¯ç‰‡ï¼ˆdigital signal processor chipï¼‰çš„GPUè¢«ç ”å‘å‡ºæ¥ï¼Œä¸å‰ä»£ç›¸æ¯”é€Ÿåº¦æ›´å¿«ã€åŠŸèƒ½æ›´å¼ºï¼Œå½“ç„¶ä»·æ ¼æ˜¯éå¸¸æ˜‚è´µã€‚åœ¨1991å¹´ï¼ŒS3 Graphicså…¬å¸ç ”åˆ¶å‡ºç¬¬ä¸€ä¸ªå•èŠ¯ç‰‡2DåŠ é€Ÿå™¨ï¼Œåˆ°äº†1995å¹´ï¼Œä¸»æµçš„PCå›¾å½¢èŠ¯ç‰‡å‚å•†éƒ½åœ¨è‡ªå·±çš„èŠ¯ç‰‡å•†å¢åŠ äº†å¯¹2DåŠ é€Ÿå™¨çš„æ”¯æŒã€‚\n1998å¹´NVIDIAå…¬å¸å®£å¸ƒmodern GPUçš„ç ”å‘æˆåŠŸ æ ‡å¿—ç€GPUç ”å‘çš„å†å²æ€§çªç ´æˆä¸ºç°å®ã€‚é€šå¸¸å°†20ä¸–çºª70å¹´ä»£æœ«åˆ°1998å¹´çš„è¿™ä¸€æ®µæ—¶é—´ç§°ä¹‹ä¸ºpre-GPUæ—¶æœŸï¼Œè€Œè‡ª1998å¹´å¾€åçš„GPUç§°ä¹‹ä¸ºmodern GPUã€‚åœ¨pre-GPUæ—¶æœŸï¼Œä¸€äº›å›¾å½¢å‚å•†ï¼Œå¦‚SGIã€Evans \u0026amp; Sutherlandï¼Œéƒ½ç ”å‘äº†å„è‡ªçš„GPUï¼Œè¿™äº›GPUåœ¨ç°åœ¨å¹¶æ²¡æœ‰è¢«æ·˜æ±°ï¼Œä¾ç„¶åœ¨æŒç»­æ”¹è¿›å’Œè¢«å¹¿æ³›çš„ä½¿ç”¨ï¼Œå½“ç„¶ä»·æ ¼ä¹Ÿæ˜¯éå¸¸çš„é«˜æ˜‚ã€‚modern GPU ä½¿ç”¨æ™¶ä½“ç®¡(transistors) è¿›è¡Œè®¡ç®—ï¼Œåœ¨å¾®èŠ¯ç‰‡(microchip)ä¸­ï¼ŒGPUæ‰€ä½¿ç”¨çš„æ™¶ä½“ç®¡å·²ç»è¿œè¿œè¶…è¿‡ CPUã€‚ä¾‹å¦‚ï¼ŒIntelåœ¨2.4GHzçš„Pentium IVä¸Šä½¿ç”¨5åƒ5ç™¾ä¸‡ (55 million)ä¸ªæ™¶ä½“ç®¡;è€ŒNVIDIA åœ¨GeForce FX GPUä¸Šä½¿ç”¨è¶…è¿‡1äº¿2åƒ5ç™¾ä¸‡(125 million)ä¸ªæ™¶ä½“ç®¡ï¼Œåœ¨NVIDDIA 7800 GXTä¸Šçš„æ™¶14ä½“ç®¡è¾¾åˆ°3äº¿2ç™¾ä¸‡(302 million)ä¸ªã€‚\nå›é¡¾GPUçš„å‘å±•å†å² è‡ª1998å¹´åå¯ä»¥åˆ†ä¸º4ä¸ªé˜¶æ®µã€‚NVIDIAäº1998å¹´å®£å¸ƒModern GPUç ”å‘æˆåŠŸï¼Œè¿™æ ‡å¿—ç€ç¬¬ä¸€ä»£ Modern GPUçš„è¯ç”Ÿï¼Œç¬¬ä¸€ä»£GPUåŒ…æ‹¬NVIDIA TNT2, ATI çš„Rageå’Œ3Dfxçš„Voodooã€‚è¿™äº›GPUå¯ä»¥ç‹¬ç«‹äºCPUè¿›è¡Œåƒç´ ç¼“å­˜åŒºçš„æ›´æ–°ï¼Œå¹¶å¯ä»¥å…‰æ …åŒ–ä¸‰è§’é¢ç‰‡ä»¥åŠè¿›è¡Œçº¹ç†æ“ä½œï¼Œä½†æ˜¯ç¼ºä¹ä¸‰ç»´é¡¶ç‚¹çš„ç©ºé—´åæ ‡å˜æ¢èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€â€œå¿…é¡»ä¾èµ–äºCPU æ‰§è¡Œé¡¶ç‚¹åæ ‡å˜æ¢çš„è®¡ç®—â€ã€‚è¿™ä¸€æ—¶æœŸçš„GPUåŠŸèƒ½éå¸¸æœ‰é™ï¼Œåªèƒ½ç”¨äºçº¹ç†ç»„åˆçš„æ•°å­¦è®¡ç®—æˆ–è€…åƒç´ é¢œè‰²å€¼çš„è®¡ç®—ã€‚ 1999å¹´ï¼Œnvidiaæ¨å‡ºäº†ä¸€æ¬¾å¯ä»¥ç”¨â€œæƒŠå˜â€æ¥å½¢å®¹çš„æ˜¾ç¤ºæ ¸å¿ƒä»£å·NV10çš„geforce 256ã€‚nVidiaç‡å…ˆå°†ç¡¬ä½“T\u0026amp;Læ•´åˆåˆ°æ˜¾ç¤ºæ ¸ä¸­ã€‚T\u0026amp;LåŸå…ˆç”±CPUè´Ÿè´£ï¼Œæˆ–è€…ç”±å¦ä¸€ä¸ªç‹¬ç«‹å¤„ç†æœºå¤„ç†ã€‚T\u0026amp;Læ˜¯ä¸€å¤§è¿›æ­¥,åŸå› æ˜¯æ˜¾è§†æ ¸å¿ƒä»CPUæ¥ç®¡äº†å¤§é‡å·¥ä½œã€‚ç¡¬ä»¶T\u0026amp;Lå¼•æ“å¸¦æ¥çš„æ•ˆæœæ˜¯ï¼Œ3Dæ¨¡å‹å¯ä»¥ç”¨æ›´å¤šçš„å¤šè¾¹å½¢æ¥æç»˜ï¼Œè¿™æ ·å°±æ‹¥æœ‰äº†æ›´åŠ ç»†è…»çš„æ•ˆæœã€‚è€Œå¯¹äºLightingæ¥è¯´ï¼ŒCPUä¸å¿…å†è®¡ç®—å¤§é‡çš„å…‰ç…§æ•°æ®ï¼Œç›´æ¥é€šè¿‡æ˜¾å¡å°±èƒ½è·å¾—æ›´å¥½çš„æ•ˆèƒ½ã€‚åŒæ—¶ï¼Œè¿™ä¸€é˜¶æ®µçš„GPUå¯¹äºçº¹ç†çš„æ“ä½œä¹Ÿæ‰©å±•åˆ°äº†ç«‹æ–¹ä½“çº¹ç†(cube map)ã€‚NVIDIAçš„GeForce MAX, ATIçš„Radeon 7500ç­‰éƒ½æ˜¯åœ¨è¿™ä¸€é˜¶æ®µç ”å‘çš„ã€‚\n1999å¹´ï¼Œnvidiaæ¨å‡ºäº†ä¸€æ¬¾å¯ä»¥ç”¨â€œæƒŠå˜â€æ¥å½¢å®¹çš„æ˜¾ç¤ºæ ¸å¿ƒä»£å·NV10çš„geforce 256ã€‚ nVidiaç‡å…ˆå°†ç¡¬ä½“T\u0026amp;Læ•´åˆåˆ°æ˜¾ç¤ºæ ¸ä¸­ã€‚T\u0026amp;LåŸå…ˆç”±CPUè´Ÿè´£ï¼Œæˆ–è€…ç”±å¦ä¸€ä¸ªç‹¬ç«‹å¤„ç†æœºå¤„ç†ã€‚T\u0026amp;Læ˜¯ä¸€å¤§è¿›æ­¥,åŸå› æ˜¯æ˜¾è§†æ ¸å¿ƒä»CPUæ¥ç®¡äº†å¤§é‡å·¥ä½œã€‚ç¡¬ä»¶T\u0026amp;Lå¼•æ“å¸¦æ¥çš„æ•ˆæœæ˜¯ï¼Œ3Dæ¨¡å‹å¯ä»¥ç”¨æ›´å¤šçš„å¤šè¾¹å½¢æ¥æç»˜ï¼Œè¿™æ ·å°±æ‹¥æœ‰äº†æ›´åŠ ç»†è…»çš„æ•ˆæœã€‚è€Œå¯¹äºLightingæ¥è¯´ï¼ŒCPUä¸å¿…å†è®¡ç®—å¤§é‡çš„å…‰ç…§æ•°æ®ï¼Œç›´æ¥é€šè¿‡æ˜¾å¡å°±èƒ½è·å¾—æ›´å¥½çš„æ•ˆèƒ½ã€‚åŒæ—¶ï¼Œè¿™ä¸€é˜¶æ®µçš„GPUå¯¹äºçº¹ç†çš„æ“ä½œä¹Ÿæ‰©å±•åˆ°äº†ç«‹æ–¹ä½“çº¹ç†(cube map)ã€‚NVIDIAçš„GeForce MAX, ATIçš„Radeon 7500ç­‰éƒ½æ˜¯åœ¨è¿™ä¸€é˜¶æ®µç ”å‘çš„ã€‚\n2001å¹´æ˜¯ç¬¬ä¸‰ä»£modern GPUçš„å‘å±•æ—¶æœŸï¼Œè¿™ä¸€æ—¶æœŸç ”å‘çš„ GPUæä¾›vertex programmability(é¡¶ç‚¹ç¼–ç¨‹èƒ½åŠ›)ï¼Œå¦‚GeForce 3,GeForce 4Ti, ATI çš„8500ç­‰ã€‚ è¿™äº›GPU å…è®¸åº”ç”¨ç¨‹åºæŒ‡å®šä¸€ä¸ªåºåˆ—çš„æŒ‡ä»¤è¿›è¡Œé¡¶ç‚¹æ“ä½œæ§åˆ¶(GPUç¼–ç¨‹çš„æœ¬è´¨!)ï¼Œè¿™åŒæ ·æ˜¯ä¸€ä¸ªå…·æœ‰å¼€åˆ›æ„ä¹‰çš„æ—¶æœŸï¼Œè¿™ä¸€æ—¶æœŸç¡®ç«‹çš„GPUç¼–ç¨‹æ€æƒ³ä¸€ç›´å»¶ç»­åˆ°ä»Šå¤©ï¼Œä¸ä½†æ·±å…¥åˆ°å·¥ç¨‹é¢†åŸŸå¸®åŠ©æ”¹å–„äººç±»æ—¥å¸¸ç”Ÿæ´»(åŒ»ç–—ã€åœ°è´¨å‹˜æ¢ã€æ¸¸æˆã€ç”µå½±ç­‰)ï¼Œè€Œæ˜“å¼€åˆ›æˆ–å»¶ä¼¸äº†è®¡ç®—æœºç§‘å­¦çš„è¯¸å¤šç ”ç©¶é¢†åŸŸ(ä½“ç»˜åˆ¶ã€å…‰ç…§æ¨¡æ‹Ÿã€äººç¾¤åŠ¨ç”»ã€é€šç”¨è®¡ç®—ç­‰)ã€‚åŒæ—¶ï¼ŒDirect8 å’ŒOpenGléƒ½æœ¬ç€ä¸æ—¶ä¿±è¿›çš„ç²¾ç¥ï¼Œæä¾›äº†æ”¯æŒvertex programmabilityçš„æ‰©å±•ã€‚ä¸è¿‡ï¼Œè¿™ä¸€æ—¶æœŸçš„GPUè¿˜ä¸æ”¯æŒåƒç´ çº§çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œå³fragment programmability (ç‰‡æ®µç¼–ç¨‹èƒ½åŠ›)\næ‰€è°“Vertexï¼Œå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ç»„æˆ3Då›¾å½¢çš„é¡¶ç‚¹ï¼Œç”±äºè®¾è®¡3Dæ¨¡å‹æ˜¯åŸºäºåæ ‡ç©ºé—´å†…éƒ¨è®¾è®¡çš„ï¼Œæ‰€ä»¥Vertexä¿¡æ¯åŒ…å«äº†3Dæ¨¡å‹åœ¨ç©ºé—´å†…çš„åæ ‡ç­‰ä¿¡æ¯ã€‚Vertex Shaderåˆ™æ˜¯å¯¹äºVertexä¿¡æ¯å“Ÿè¿ç®—ç¼–ç¨‹å™¨ï¼Œå¯ä»¥é€šè¿‡èµ‹äºˆç‰¹å®šçš„ç®—æ³•è€Œåœ¨å·¥ä½œä¸­æ”¹å˜3Dæ¨¡å‹çš„å¤–å½¢ï¼Œ Vertex Shaderé¡¶ç‚¹è¿ç®—å•å…ƒå¯ä»¥ç›´æ¥æ£€ç´¢æ˜¾å­˜ä¸­çš„æè´¨æ•°æ®ã€‚ç°åœ¨çš„æ¸¸æˆåœºæ™¯è¶Šæ¥è¶Šå¤æ‚äº†ã€‚æ‰€æ¶‰åŠåˆ°çš„æè´¨å’Œå¤šè¾¹å½¢æ•°é‡éƒ½éå¸¸æƒŠäººã€‚é¡¶ç‚¹æè´¨æŠ€æœ¯å¯ä»¥æå¤§çš„æé«˜GPUåœ¨å¤„ç†å¤æ‚çš„æ¸¸æˆåœºæ™¯æ—¶çš„æ•ˆç‡ã€‚å¹¶ä¸”æ¸¸æˆå¼€å‘äººå‘˜è¿˜å¯ä»¥åˆ©ç”¨Vertex Shaderçš„è¿™ä¸€æ–°çš„ç‰¹æ€§ï¼Œå……åˆ†å‘æŒ¥æƒ³è±¡ï¼Œå®ç°å¾ˆå¤šéå¸¸æ¼‚äº®çš„ç‰¹æ•ˆã€‚ä¾‹å¦‚åœ¨æ˜Ÿé™…äº‰éœ¸2demoç‰‡ä¸­å±•ç¤ºçš„ç¥æ—æ¯èˆ°é»‘æ´çš„æŠ€èƒ½æ•ˆæœã€‚\nç¬¬å››ä»£GPU çš„å‘å±•æ—¶æœŸä»2002å¹´æœ«åˆ°2003å¹´ã€‚NVIDIAçš„GeForceFX å’ŒATI Radeon 9700åŒæ—¶åœ¨å¸‚åœºçš„èˆå°ä¸Šé—ªäº®ç™»åœºï¼Œè¿™GPUvertex programmability lfragment Programmability. miDirectx flOpenGL T#JAPI. Ğ¯ #vertex programmability flfragment programmabilityã€‚ Ã­2003å¹´èµ·ï¼Œå¯ç¼–ç¨‹å›¾å½¢å¤„ç†å™¨æ­£å¼è¯ç”Ÿï¼Œå¹¶ä¸”ç”±äºDirectX å’Œ OpenGLé”²è€Œä¸èˆçš„è¿½èµ¶æ½®æµï¼Œå¯¼è‡´åŸºäºå›¾å½¢ç¡¬ä»¶çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œ ç®€ç§°GPU ç¼–ç¨‹ï¼Œä¹Ÿå®£å‘Šè¯ç”Ÿã€‚\nGPUçš„ä¼˜è¶Šæ€§ ç”±äºGPUå…·æœ‰é«˜å¹¶è¡Œç»“æ„ï¼Œæ‰€ä»¥GPUåœ¨å¤„ç†å›¾å½¢æ•°æ®å’Œå¤æ‚ ç®—æ³•æ–¹é¢æ‹¥æœ‰æ¯”CPUæ›´é«˜çš„æ•ˆç‡ã€‚CPUå¤§éƒ¨åˆ†é¢ç§¯ä¸ºæ§åˆ¶å™¨å’Œå¯„ å­˜å™¨ï¼Œä¸ä¹‹ç›¸æ¯”ï¼ŒGPUæ‹¥æœ‰æ›´å¤šçš„ALUï¼ˆArithmetic Logic Unit,é€» è¾‘è¿ç®—å•å…ƒ)ç”¨äºæ•°æ®å¤„ç†ï¼Œè¿™æ ·çš„ç»“æ„é€‚åˆå¯¹å¯†é›†å‹æ•°æ®è¿›è¡Œ å¹¶è¡Œå¤„ç†ã€‚\nGPU é‡‡ç”¨æµå¼å¹¶è¡Œè®¡ç®—æ¨¡å¼ï¼Œå¯å¯¹æ¯ä¸ªæ•°æ®è¿›è¡Œç‹¬ç«‹çš„å¹¶ è¡Œè®¡ç®—ï¼Œæ‰€è°“â€œå¯¹æ•°æ®è¿›è¡Œç‹¬ç«‹è®¡ç®—â€ï¼Œå³ï¼Œæµå†…ä»»æ„å…ƒç´ çš„è®¡ ç®—ä¸ä¾èµ–äºå…¶å®ƒåŒç±»å‹æ•°æ®ï¼Œä¾‹å¦‚ï¼Œè®¡ç®—ä¸€ä¸ªé¡¶ç‚¹çš„ä¸–ç•Œä½ç½®å æ ‡ï¼Œä¸ä¾èµ–äºå…¶ä»–é¡¶ç‚¹çš„ä½ç½®ï¼Œæ‰€è°“â€œå¹¶è¡Œè®¡ç®—â€æ˜¯æŒ‡â€œå¤šä¸ªæ•° æ®å¯ä»¥åŒæ—¶è¢«ä½¿ç”¨ï¼Œå¤šä¸ªæ•°æ®å¹¶è¡Œè¿ç®—çš„æ—¶é—´å’Œ1ä¸ªæ•°æ®å•ç‹¬æ‰§ è¡Œçš„æ—¶é—´æ˜¯ä¸€æ ·çš„â€ã€‚æ‰€ä»¥ï¼Œåœ¨é¡¶ç‚¹å¤„ç†ç¨‹åºä¸­ï¼Œå¯ä»¥åŒæ—¶å¤„ç† Nä¸ªé¡¶ç‚¹æ•°æ®ã€‚\nGPUçš„ç¼ºé™· ç”±äºâ€œä»»æ„ä¸€ä¸ªå…ƒç´ çš„è®¡ç®—ä¸ä¾èµ–äºå…¶å®ƒåŒç±»å‹æ•°æ®â€ï¼Œå¯¼ è‡´â€œéœ€è¦çŸ¥é“æ•°æ®ä¹‹é—´ç›¸å…³æ€§çš„â€ç®—æ³•ï¼Œåœ¨GPU ä¸Šéš¾ä»¥å¾—åˆ°å®ç°ï¼Œ ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯å°„çº¿ä¸ç‰©ä½“çš„æ±‚äº¤è¿ç®—ã€‚GPU ä¸­çš„æ§åˆ¶å™¨å°‘ äºCPUï¼Œè‡´ä½¿æ§åˆ¶èƒ½åŠ›æœ‰é™ã€‚å¦å¤–ï¼Œè¿›è¡ŒGPUç¼–ç¨‹å¿…é¡»æŒæ¡è®¡ç®— æœºå›¾å½¢å­¦ç›¸å…³çŸ¥è¯†ï¼Œä»¥åŠå›¾å½¢å¤„ç†APIï¼Œå…¥é—¨é—¨æ§›è¾ƒé«˜ï¼Œå­¦ä¹ å‘¨ æœŸè¾ƒé•¿ï¼Œå°¤å…¶å›½å†…å…³äºGPUç¼–ç¨‹çš„èµ„æ–™è¾ƒä¸ºåŒ®ä¹‹ï¼Œè¿™äº›éƒ½å¯¼è‡´äº† å­¦ä¹ çš„éš¾åº¦ã€‚åœ¨æ—©æœŸï¼ŒGPUç¼–ç¨‹åªèƒ½ä½¿ç”¨æ±‡ç¼–è¯­è¨€ï¼Œå¼€å‘éš¾åº¦é«˜ã€ æ•ˆç‡ä½ï¼Œä¸è¿‡ï¼Œéšç€é«˜çº§Shader language çš„å…´èµ·ï¼Œåœ¨GPU ä¸Šç¼–ç¨‹ å·²ç»å®¹æ˜“å¤šäº†ã€‚\nGPUçš„æ›´å¤šåº”ç”¨ ç§‘å­¦å¯è§†åŒ–è®¡ç®—ï¼šç”±äºäººä½“CTã€åœ°è´¨å‹˜æ¢ã€æ°”è±¡æ•°æ®ã€æµä½“åŠ›å­¦ ç­‰ç§‘å­¦å¯è§†åŒ–è®¡ç®—å¤„ç†çš„æ•°æ®é‡æå¤§ï¼Œä»…ä»…åŸºäºCPU è¿›è¡Œè®¡ç®—å®Œ å…¨ä¸èƒ½æ»¡è¶³å®æ—¶æ€§è¦æ±‚ï¼Œè€Œåœ¨GPU ä¸Šè¿›è¡Œè®¡ç®—åˆ™å¯ä»¥åœ¨æ•ˆç‡ä¸Šè¾¾ åˆ°è´¨çš„çªç ´ï¼Œè®¸å¤šåœ¨cPU ä¸Šéå¸¸è€—æ—¶çš„ç®—æ³•ï¼Œå¦‚ä½“ç»˜åˆ¶ä¸­çš„å…‰çº¿ æŠ•å°„ç®—æ³•ï¼Œéƒ½å¯ä»¥æˆåŠŸç§»æ¤åˆ°GPUä¸Šï¼Œæ‰€ä»¥åŸºäºGPUçš„ç§‘å­¦å¯è§† åŒ–ç ”ç©¶ç›®å‰å·±ç»æˆä¸ºä¸»æµã€‚ é€šç”¨ç®—æ³•ï¼šåŸºäºGPUè¿›è¡Œé€šç”¨è®¡ç®—çš„ç ”ç©¶é€æ¸æˆä¸ºçƒ­ç‚¹ï¼Œè¢«ç§°ä¹‹ AIESEE\u0026amp; S SSPGESSREOTPå™¨å“å…´è£…æ˜¯ç‰‡æˆ‘å¤´å™¨ ç»åœ¨GPUä¸Šå¾—åˆ°äº†å®ç°ï¼Œå¹¶æœ‰ä¸è°·çš„æ€§èƒ½è¡¨ç°ï¼Œç›®å‰ï¼Œçº¿æ€§ä»£æ•°ï¼Œ ç‰©ç†ä»¿çœŸå’Œå…‰çº¿è·Ÿè¸ªç®—æ³•éƒ½å·²ç»æˆåŠŸçš„ç§»æ¤åˆ°GPUä¸Šã€‚åœ¨å›½å†…ï¼Œ ä¸­å›½ç§‘å­¦é™¢è®¡ç®—æŠ€æœ¯ç ”ç©¶æ‰€è¿›è¡Œäº†åŸºäºGPUçš„ä¸²åŒ¹é…ç®—æ³•çš„å®ç°\n","permalink":"https://EitanWong.github.io/en/posts/shader/%E5%9B%BE%E5%BD%A2%E5%A4%84%E7%90%86%E5%99%A8gpu%E7%AE%80%E5%8F%B2/","summary":"GPUå‘å±•ç®€å² GPUï¼ˆGraphic Processing Unitï¼‰ï¼Œä¸­æ–‡ç¿»è¯‘ä¸ºâ€œå›¾å½¢å¤„ç†å™¨â€ï¼Œåœ¨ç°ä»£è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä½œç”¨å˜å¾—åŸæ¥è¶Šé‡è¦ã€‚ 20ä¸–çºªå…­ã€ä¸ƒåå¹´ä»£ï¼Œå—ç¡¬ä»¶æ¡ä»¶çš„é™åˆ¶ï¼Œå›¾å½¢æ˜¾ç¤ºå™¨åªæ˜¯è®¡ç®—æœºè¾“å‡ºçš„ä¸€ç§å·¥å…·ã€‚é™äºç¡¬ä»¶å‘å±•æ°´å¹³ï¼Œäººä»¬åªæ˜¯çº¯ç²¹èªè½¯ä»¶å®ç°çš„è§’åº¦æ¥è€ƒè™‘å›¾å½¢ç”¨æˆ·ç•Œé¢çš„è§„èŒƒé—®é¢˜ã€‚æ­¤æ—¶è¿˜æ²¡æœ‰G","title":"å›¾å½¢å¤„ç†å™¨ï¼ˆGPUï¼‰ç®€å²"},{"content":"ä»€ä¹ˆæ˜¯Shader Shaderç€è‰²å™¨ï¼Œæ˜¯ä¸€ç§è¾ƒä¸ºçŸ­å°çš„ç¨‹åºç‰‡æ®µï¼Œç”¨äºå‘Šè¯‰å›¾å½¢ç¡¬ä»¶å¦‚ä½•è®¡ç®—å’Œè¾“å‡ºå›¾åƒï¼Œè¿‡å»ç”±æ±‡ç¼–è¯­è¨€æ¥ç¼–å†™ï¼Œç°åœ¨ä¹Ÿå¯ä»¥ä½¿ç”¨é«˜çº§è¯­è¨€æ¥ç¼–å†™ã€‚ ğŸ’¡ Shaderæ˜¯å¯ç¼–ç¨‹å›¾å½¢ç®¡çº¿çš„ç®—æ³•ç‰‡æ®µ å®ƒä¸»è¦åˆ†ä¸ºVertex Shaderå’ŒFragment Shader\nä»€ä¹ˆæ˜¯æ¸²æŸ“ç®¡çº¿ æ¸²æŸ“ç®¡çº¿ä¹Ÿç§°ä¸ºæ¸²æŸ“æµæ°´çº¿ï¼Œæ˜¯æ˜¾ç¤ºèŠ¯ç‰‡å†…éƒ¨å¤„ç†å›¾å½¢ä¿¡å·ç›¸äº’ç‹¬ç«‹çš„å¹¶è¡Œå¤„ç†å•å…ƒã€‚ä¸€ä¸ªæµæ°´çº¿æ˜¯ä¸€åºåˆ—å¯ä»¥å¹¶è¡Œå’ŒæŒ‰ç…§å›ºå®šçš„é¡ºåºè¿›è¡Œçš„é˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µéƒ½ä»å®ƒçš„å‰ä¸€é˜¶æ®µæ¥æ”¶è¾“å…¥ï¼Œç„¶åæŠŠè¾“å‡ºå‘ç»™éšåçš„é…è£…çº¿ã€‚å°±åƒä¸€ä¸ªåœ¨åŒä¸€æ—¶é—´å†…ï¼Œä¸åŒé˜¶æ®µä¸åŒæ±½è½¦ä¸€èµ·åˆ¶é€ çš„è£…é…çº¿ï¼Œä¼ ç»Ÿçš„å›¾å½¢ç¡¬ä»¶æµæ°´çº¿ä»¥æµæ°´çš„æ–¹å¼å¤„ç†å¤§é‡çš„é¡¶ç‚¹ã€å‡ ä½•å›¾å…ƒå’Œç‰‡æ®µã€‚\nğŸ’¡ æ‰€è°“GPUçš„æ¸²æŸ“ç®¡çº¿ï¼Œå¬èµ·æ¥å¥½åƒå¾ˆé«˜æ·±çš„æ ·å­ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªæµç¨‹ï¼Œå°±æ˜¯æˆ‘ä»¬å‘Šè¯‰GPUä¸€å †æ•°æ®ï¼Œæœ€åå¾—å‡ºæ¥ä¸€å‰¯äºŒç»´å›¾åƒï¼Œè€Œè¿™äº›æ•°æ®å°±åŒ…æ‹¬äº†â€è§†ç‚¹ã€ä¸‰ç»´ç‰©ä½“ã€å…‰æºã€ç…§æ˜æ¨¡å‹ã€çº¹ç†â€ç­‰å…ƒç´ ã€‚ åœ¨å„ç§å›¾å½¢å­¦çš„ä¹¦ä¸­ï¼Œæ¸²æŸ“ç®¡çº¿ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šåº”ç”¨ç¨‹åºé˜¶æ®µã€å‡ ä½•é˜¶æ®µã€å…‰æ …é˜¶æ®µã€‚\n1ã€åº”ç”¨ç¨‹åºé˜¶æ®µ è¿™ä¸ªé˜¶æ®µç›¸å¯¹æ¯”è¾ƒå¥½ç†è§£ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬åœ¨Unityé‡Œå¼€å‘äº†ä¸€ä¸ªæ¸¸æˆï¼Œå…¶å®å¾ˆå¤šåº•å±‚çš„ä¸œè¥¿Unityéƒ½å¸®æˆ‘ä»¬å®ç°å¥½äº†ï¼Œä¾‹å¦‚ç¢°æ’æ£€æµ‹ã€è§†é”¥å‰ªè£ç­‰ç­‰ï¼Œè¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯å’ŒCPUã€å†…å­˜æ‰“äº¤é“ï¼Œåœ¨æŠŠè¯¥è®¡ç®—çš„éƒ½è®¡ç®—å®Œä»¥åï¼Œåœ¨è¿™ä¸ªé˜¶æ®µçš„æœ«ç«¯ï¼Œè¿™äº›è®¡ç®—å¥½çš„æ•°æ®ï¼ˆé¡¶ç‚¹åæ ‡ã€æ³•å‘é‡ã€çº¹ç†åæ ‡ã€çº¹ç†ï¼‰å°±ä¼šé€šè¿‡æ•°æ®æ€»çº¿ä¼ ç»™å›¾å½¢ç¡¬ä»¶ï¼Œä½œä¸ºæˆ‘ä»¬è¿›ä¸€æ­¥å¤„ç†çš„æºæ•°æ®ã€‚\n2ã€å‡ ä½•é˜¶æ®µ ä¸»è¦è´Ÿè´£é¡¶ç‚¹åæ ‡å˜æ¢ã€å…‰ç…§ã€è£å‰ªã€æŠ•å½±ä»¥åŠå±å¹•æ˜ å°„ï¼Œæ”¹é˜¶æ®µåŸºäºGPUè¿›è¡Œè¿ç®—ï¼Œåœ¨è¯¥é˜¶æ®µçš„æœ«ç«¯å¾—åˆ°äº†ç»è¿‡å˜æ¢å’ŒæŠ•å½±ä¹‹åçš„é¡¶ç‚¹åæ ‡ã€é¢œè‰²ã€ä»¥åŠçº¹ç†åæ ‡ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå‡ ä½•é˜¶æ®µçš„ä¸»è¦å·¥ä½œå°±æ˜¯â€œå˜æ¢ä¸‰ç»´é¡¶ç‚¹åæ ‡â€å’Œâ€œå…‰ç…§è®¡ç®—â€ã€‚ é—®é¢˜éšä¹‹è€Œæ¥ï¼Œä¸ºä»€ä¹ˆè¦å˜æ¢é¡¶ç‚¹åæ ‡ï¼Ÿæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ä¸ªä¸‰ç»´æ¸¸æˆåœºæ™¯ï¼Œåœºæ™¯ä¸­çš„æ¯ä¸ªæ¨¡å‹éƒ½å¯ä»¥ç”¨ä¸€ä¸ªå‘é‡æ¥ç¡®å®šå®ƒçš„ä½ç½®ï¼Œä½†å¦‚ä½•è®©è®¡ç®—æœºæ ¹æ®è¿™äº›åæ ‡æŠŠæ¨¡å‹æ­£ç¡®çš„ã€æœ‰å±‚æ¬¡çš„ç”»åœ¨å±å¹•ä¸Šï¼Ÿè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦å˜æ¢ä¸‰ç»´é¡¶ç‚¹åæ ‡çš„åŸå› ï¼Œæœ€ç»ˆç›®çš„å°±æ˜¯è®©GPUå¯ä»¥å°†è¿™äº›ä¸‰ç»´æ•°æ®ç»˜åˆ¶åˆ°äºŒç»´å±å¹•ä¸Šã€‚ æ ¹æ®é¡¶ç‚¹åæ ‡å˜æ¢çš„å…ˆåé¡ºåºï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ä¸ªåæ ‡ç©ºé—´ï¼šObject spaceï¼Œæ¨¡å‹åæ ‡ç©ºé—´ï¼›World spaceï¼Œä¸–ç•Œåæ ‡ç©ºé—´ï¼›Eye spaceï¼Œè§‚å¯Ÿåæ ‡ç©ºé—´ï¼›Clip and Project spaceï¼Œå±å¹•åæ ‡ç©ºé—´ã€‚ä¸‹å›¾å°±æ˜¯GPUçš„æ•´ä¸ªå¤„ç†æµç¨‹ï¼Œæ·±è‰²åŒºåŸŸå°±æ˜¯é¡¶ç‚¹åæ ‡ç©ºé—´çš„å˜æ¢æµç¨‹ï¼Œå¤§å®¶äº†è§£ä¸€ä¸‹å³å¯ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯æ¯ä¸ªåæ ‡ç©ºé—´çš„å…·ä½“å«ä¹‰å’Œåæ ‡ç©ºé—´ä¹‹é—´è½¬æ¢çš„æ–¹æ³•ã€‚\n2.1ã€ä»object spaceåˆ°world space object spaceæœ‰ä¸¤å±‚æ ¸å¿ƒå«ä¹‰ï¼Œç¬¬ä¸€ï¼Œobject spaceä¸­çš„åæ ‡å€¼å°±æ˜¯æ¨¡å‹æ–‡ä»¶ä¸­çš„é¡¶ç‚¹å€¼ï¼Œè¿™äº›å€¼æ˜¯åœ¨å»ºç«‹æ¨¡å‹æ—¶å¾—åˆ°çš„ï¼Œä¾‹å¦‚ä¸€ä¸ª.maxæ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«çš„æ•°æ®å°±æ˜¯object spaceçš„åæ ‡ã€‚ç¬¬äºŒï¼Œobject spaceçš„åæ ‡ä¸å…¶ä»–ç‰©ä½“æ²¡æœ‰ä»»ä½•å‚ç…§å…³ç³»ï¼Œè¿™æ˜¯object spaceå’Œworld spaceåŒºåˆ†çš„å…³é”®ã€‚world spaceåæ ‡çš„å®é™…æ„ä¹‰å°±æœ‰æœ‰ä¸€ä¸ªåæ ‡åŸç‚¹ï¼Œç‰©ä½“è·Ÿåæ ‡åŸç‚¹ç›¸æ¯”è¾ƒæ‰èƒ½çŸ¥é“è‡ªå·±çš„ç¡®åˆ‡ä½ç½®ã€‚ä¾‹å¦‚åœ¨unityä¸­ï¼Œæˆ‘ä»¬å°†ä¸€ä¸ªæ¨¡å‹å¯¼å…¥åˆ°åœºæ™¯ä¸­ä»¥åï¼Œå®ƒçš„transformå°±æ˜¯ä¸–ç•Œåæ ‡ã€‚\n2.2ã€ä»world spaceåˆ°eye space æ‰€è°“eye spaceï¼Œå°±æ˜¯ä»¥æ‘„åƒæœºä¸ºåŸç‚¹ï¼Œç”±è§†çº¿æ–¹å‘ã€è§†è§’å’Œè¿œè¿‘å¹³é¢ï¼Œå…±åŒç»„æˆçš„ä¸€ä¸ªæ¢¯å½¢ä½“ï¼Œå¦‚ä¸‹å›¾ï¼Œç§°ä¹‹ä¸ºè§†é”¥(viewing frustum)ã€‚è¿‘å¹³é¢ï¼Œæ˜¯æ¢¯å½¢ä½“è¾ƒå°çš„çŸ©å½¢é¢ï¼Œä¹Ÿæ˜¯é è¿‘æ‘„åƒæœºçš„å¹³é¢ï¼Œè¿œå¹³é¢å°±æ˜¯æ¢¯å½¢ä½“è¾ƒå¤§çš„çŸ©å½¢ï¼Œä½œä¸ºæŠ•å½±å¹³é¢ã€‚åœ¨è¿™ä¸ªæ¢¯å½¢ä½“çš„å†…çš„æ•°æ®æ˜¯å¯è§çš„ï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šè¢«è§†ç‚¹å»é™¤ï¼Œä¹Ÿå«è§†é”¥å‰ªè£ã€‚ ä¾‹å¦‚åœ¨æ¸¸æˆä¸­çš„æ¼«æ¸¸åŠŸèƒ½ï¼Œå±å¹•çš„å†…å®¹éšæ‘„åƒæœºçš„ç§»åŠ¨è€Œå˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºGPUå°†ç‰©ä½“çš„é¡¶ç‚¹åæ ‡ä»world spaceè½¬æ¢åˆ°äº†eye spaceã€‚\n2.3ã€ä»eye spaceåˆ°project and clip space eye spaceåæ ‡è½¬æ¢åˆ°project and clip spaceåæ ‡çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªæŠ•å½±ã€å‰ªè£ã€æ˜ å°„çš„è¿‡ç¨‹ã€‚å› ä¸ºåœ¨ä¸è§„åˆ™çš„è§†é”¥ä½“å†…å‰ªè£æ˜¯ä¸€ä»¶éå¸¸å›°éš¾çš„äº‹ï¼Œæ‰€ä»¥å‰äººä»¬å°†å‰ªè£å®‰æ’åˆ°ä¸€ä¸ªå•ä½ç«‹æ–¹ä½“ä¸­è¿›è¡Œï¼Œè¿™ä¸ªç«‹æ–¹ä½“è¢«ç§°ä¸ºè§„èŒƒç«‹æ–¹ä½“ï¼ˆCCVï¼‰ï¼ŒCVVçš„è¿‘å¹³é¢ï¼ˆå¯¹åº”è§†é”¥ä½“çš„è¿‘å¹³é¢ï¼‰çš„xã€yåæ ‡å¯¹åº”å±å¹•åƒç´ åæ ‡ï¼ˆå·¦ä¸‹è§’0ã€0ï¼‰ï¼Œzä»£è¡¨ç”»é¢åƒç´ æ·±åº¦ã€‚æ‰€ä»¥è¿™ä¸ªè½¬æ¢è¿‡ç¨‹äº‹å®ä¸Šç”±ä¸‰æ­¥ç»„æˆï¼š ï¼ˆ1ï¼‰ã€ç”¨é€è§†å˜æ¢çŸ©é˜µæŠŠé¡¶ç‚¹ä»è§†é”¥ä½“å˜æ¢åˆ°CVVä¸­ï¼› ï¼ˆ2ï¼‰ã€åœ¨CVVå†…è¿›è¡Œå‰ªè£ï¼› ï¼ˆ3ï¼‰ã€å±å¹•æ˜ å°„ï¼šå°†ç»è¿‡å‰ä¸¤æ­¥å¾—åˆ°çš„åæ ‡æ˜ å°„åˆ°å±å¹•åæ ‡ç³»ä¸Šã€‚\n2.4ã€primitive assemblyï¼ˆå›¾å…ƒè£…é…ï¼‰å’Œtriangle setupï¼ˆä¸‰è§’å½¢å¤„ç†ï¼‰ åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬å¾—åˆ°äº†ä¸€å †é¡¶ç‚¹çš„æ•°æ®ï¼Œè¿™ä¸€æ­¥å°±æ˜¯æ ¹æ®è¿™äº›é¡¶ç‚¹çš„åŸå§‹è¿æ¥å…³ç³»è¿˜åŸå‡ºç½‘æ ¼ç»“æ„ã€‚ç½‘æ ¼ç”±é¡¶ç‚¹å’Œç´¢å¼•ç»„æˆï¼Œè¿™ä¸ªé˜¶æ®µå°±æ˜¯æ ¹æ®ç´¢å¼•å°†é¡¶ç‚¹é“¾æ¥åˆ°ä¸€èµ·ï¼Œç»„æˆçº¿ã€é¢å•å…ƒï¼Œç„¶åè¿›è¡Œå‰ªè£ï¼Œå¦‚æœä¸€ä¸ªä¸‰è§’å½¢è¶…å‡ºå±å¹•ä»¥å¤–ï¼Œä¾‹å¦‚ä¸¤ä¸ªé¡¶ç‚¹åœ¨å±å¹•å†…ï¼Œä¸€ä¸ªé¡¶ç‚¹åœ¨å±å¹•å¤–ï¼Œè¿™æ—¶æˆ‘ä»¬åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å°±æ˜¯ä¸€ä¸ªå››è¾¹å½¢ï¼Œç„¶åæŠŠè¿™ä¸ªå››è¾¹å½¢åˆ‡æˆä¸¤ä¸ªå°çš„ä¸‰è§’å½¢ã€‚ ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†ä¸€å †åœ¨å±å¹•åæ ‡ä¸Šçš„ä¸‰è§’å½¢é¢ç‰‡ï¼Œè¿™äº›é¢ç‰‡æ˜¯ç”¨äºå…‰æ …åŒ–çš„ã€‚\n3ã€å…‰æ …åŒ–é˜¶æ®µ ç»è¿‡ä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ¯ä¸ªç‚¹çš„å±å¹•åæ ‡å€¼ï¼Œå’Œæˆ‘ä»¬éœ€è¦ç»˜åˆ¶çš„å›¾å…ƒï¼Œä½†æ­¤æ—¶è¿˜æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š ï¼ˆ1ï¼‰ã€å±å¹•åæ ‡æ˜¯æµ®ç‚¹æ•°ï¼Œä½†åƒç´ æ˜¯ç”¨æ•´æ•°æ¥è¡¨ç¤ºçš„ï¼Œå¦‚ä½•ç¡®å®šå±å¹•åæ ‡å€¼æ‰€å¯¹åº”çš„åƒç´ ï¼Ÿ ï¼ˆ2ï¼‰ã€å¦‚ä½•æ ¹æ®å·²ç¡®å®šä½ç½®çš„ç‚¹ï¼Œåœ¨å±å¹•ä¸Šç”»å‡ºçº¿æ®µæˆ–è€…ä¸‰è§’å½¢ï¼Ÿ å¯¹äºé—®é¢˜1ï¼Œç»˜åˆ¶çš„ä½ç½®åªèƒ½æ¥è¿‘ä¸¤æŒ‡å®šç«¯ç‚¹é—´çš„å®é™…çº¿æ®µä½ç½®ï¼Œä¾‹å¦‚ï¼Œä¸€æ¡çº¿æ®µçš„ä½ç½®æ˜¯ï¼ˆ10.48ï¼Œ 20.51ï¼‰ï¼Œè½¬æ¢ä¸ºåƒç´ ä½ç½®å°±æ˜¯ï¼ˆ10ï¼Œ21ï¼‰ã€‚ é—®é¢˜2ï¼Œæ¶‰åŠåˆ°å…·ä½“çš„ç”»çº¿å’Œå¡«å……ç®—æ³•ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥ç ”ç©¶ã€‚ è¿™ä¸ªè¿‡ç¨‹ç»“æŸåï¼Œé¡¶ç‚¹å’Œå›¾å…ƒå·²ç»å¯¹åº”åˆ°åƒç´ ï¼Œä¹‹åçš„æµç¨‹å°±æ˜¯å¦‚ä½•å¤„ç†åƒç´ ï¼Œå³ç»™åƒç´ èµ‹äºˆé¢œè‰²å€¼ã€‚ ç»™åƒç´ èµ‹äºˆé¢œè‰²çš„é˜¶æ®µç§°ä¸ºPixel Operationï¼Œæ˜¯åœ¨æ›´æ–°å¸§ç¼“å­˜ä¹‹å‰ï¼Œæ‰§è¡Œæœ€åä¸€ç³»åˆ—é’ˆå¯¹æ¯ä¸ªç‰‡æ®µçš„æ“ä½œï¼Œå…¶ç›®çš„æ˜¯è®¡ç®—å‡ºæ¯ä¸ªåƒç´ çš„é¢œè‰²å€¼ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œè¢«é®æŒ¡çš„é¢é€šè¿‡ä¸€ä¸ªè¢«ç§°ä¸ºæ·±åº¦æµ‹è¯•çš„è¿‡ç¨‹æ¶ˆé™¤ã€‚ pixel operationåŒ…å«ä¸‹é¢è¿™äº›æµç¨‹ï¼š ï¼ˆ1ï¼‰ã€æ¶ˆé™¤é®æŒ¡é¢ï¼› ï¼ˆ2ï¼‰ã€Texture operationï¼Œçº¹ç†æ“ä½œï¼Œæ ¹æ®åƒç´ çš„çº¹ç†åæ ‡ï¼ŒæŸ¥è¯¢å¯¹åº”çš„çº¹ç†å€¼ï¼› ï¼ˆ3ï¼‰ã€Blendingï¼Œé€šå¸¸ç§°ä¸ºalpha blendingï¼Œæ ¹æ®ç›®å‰å·²ç»ç”»å¥½çš„é¢œè‰²ï¼Œä¸æ­£åœ¨è®¡ç®—çš„é¢œè‰²çš„alphaå€¼æ··åˆï¼Œå½¢æˆæ–°çš„é¢œè‰²ã€‚ ï¼ˆ4ï¼‰ã€Filteringï¼Œå°†æ­£åœ¨è®¡ç®—çš„é¢œè‰²ç»è¿‡æŸç§æ»¤é•œåè¾“å‡ºã€‚ è¯¥é˜¶æ®µä¹‹åï¼Œåƒç´ çš„é¢œè‰²å€¼è¢«å†™å…¥å¸§ç¼“å­˜ä¸­ã€‚\nShaderå’Œæè´¨ã€è´´å›¾çš„å…³ç³» Shader(ç€è‰²å™¨)å®é™…ä¸Šå°±æ˜¯ä¸€å°æ®µç¨‹åºï¼Œå®ƒè´Ÿè´£å°†è¾“å…¥çš„é¡¶ç‚¹æ•°æ®ä»¥æŒ‡å®šçš„æ–¹å¼å’Œè¾“å…¥çš„è´´å›¾æˆ–è€…é¢œè‰²ç­‰ç»„åˆèµ·æ¥ï¼Œç„¶åè¾“1.å‡ºã€‚ç»˜å›¾å•å…ƒå¯ä»¥ä¾æ®è¿™ä¸ªè¾“å‡ºæ¥å°†å›¾åƒç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚è¾“å…¥çš„è´´å›¾æˆ–è€…é¢œè‰²ç­‰ï¼ŒåŠ ä¸Šå¯¹åº”çš„Shaderï¼Œä»¥åŠå¯¹Shaderçš„ç‰¹å®šå‚æ•°è®¾ç½®ï¼Œå°†è¿™äº›å†…å®¹ï¼ˆShaderåŠè¾“å…¥å‚æ•°ï¼‰æ‰“åŒ…å­˜å‚¨åœ¨ä¸€èµ·å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªMaterialï¼ˆæè´¨ï¼‰ã€‚ ä¹‹åæˆ‘ä»¬ä¾¿å¯ä»¥å°†æè´¨èµ‹äºˆä¸‰ç»´ç‰©ä½“æ¥è¿›è¡Œæ¸²æŸ“è¾“å‡º ğŸ’¡ æè´¨å¥½æ¯”æ˜¯å¼•æ“æœ€ç»ˆä½¿ç”¨çš„å•†å“ï¼ŒShaderå¥½æ¯”æ˜¯ç”Ÿäº§è¿™ç§å•†å“çš„åŠ å·¥æ–¹æ³•ï¼Œè€Œè´´å›¾å°±æ˜¯åŸææ–™\nShader Language Shader Languageçš„å‘å±•æ–¹å‘æ˜¯è®¾è®¡å‡ºåœ¨ä¾¿æºæ€§æ–¹é¢å¯ä»¥å’ŒC++\\Javaç›¸æ¯”çš„é«˜çº§è¯­è¨€ï¼Œ ğŸ’¡ â€œèµ‹äºˆç¨‹åºå‘˜æ›´çµæ´»è€Œæ–¹ä¾¿çš„ç¼–ç¨‹æ–¹å¼â€ï¼Œå¹¶â€œå°½å¯èƒ½çš„æ§åˆ¶æ¸²æŸ“è¿‡ç¨‹â€åŒæ—¶â€œåˆ©ç”¨å›¾å½¢ç¡¬ä»¶çš„å¹¶è¡Œæ€§ï¼Œæé«˜ç®—æ³•çš„æ•ˆç‡â€ã€‚ ShaderLanguageç›®å‰ä¸»è¦æœ‰3ç§è¯­è¨€\nåŸºäºOpenGLçš„\nOpenGLShadingLanguage (GLSL) åŸºäºDirectXçš„\nHigh LevelShading Languageï¼ˆHLSLï¼‰ NVIDIAå…¬å¸çš„\nC for Graphicï¼ˆCgï¼‰ ","permalink":"https://EitanWong.github.io/en/posts/shader/shader%E5%92%8C%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/","summary":"ä»€ä¹ˆæ˜¯Shader Shaderç€è‰²å™¨ï¼Œæ˜¯ä¸€ç§è¾ƒä¸ºçŸ­å°çš„ç¨‹åºç‰‡æ®µï¼Œç”¨äºå‘Šè¯‰å›¾å½¢ç¡¬ä»¶å¦‚ä½•è®¡ç®—å’Œè¾“å‡ºå›¾åƒï¼Œè¿‡å»ç”±æ±‡ç¼–è¯­è¨€æ¥ç¼–å†™ï¼Œç°åœ¨ä¹Ÿå¯ä»¥ä½¿ç”¨é«˜çº§è¯­è¨€æ¥ç¼–å†™ã€‚ ğŸ’¡ Shaderæ˜¯å¯ç¼–ç¨‹å›¾å½¢ç®¡çº¿çš„ç®—æ³•ç‰‡æ®µ å®ƒä¸»è¦åˆ†ä¸ºVertex Shaderå’ŒFragment Shader ä»€ä¹ˆæ˜¯æ¸²æŸ“ç®¡çº¿ æ¸²æŸ“ç®¡çº¿ä¹Ÿç§°ä¸ºæ¸²æŸ“æµ","title":"Shaderå’Œæ¸²æŸ“ç®¡çº¿"},{"content":"About Me\nName: Eitan Wong Occupation: Programmer ","permalink":"https://EitanWong.github.io/en/about/","summary":"About Me Name: Eitan Wong Occupation: Programmer","title":"ğŸ™‹ğŸ»â€â™‚ï¸About"},{"content":"Joshuto å›¾ç‰‡é¢„è§ˆ brew install ueberzug\n","permalink":"https://EitanWong.github.io/en/posts/other/%E6%88%91mac%E4%B8%8B%E7%9A%84%E9%85%8D%E7%BD%AE/","summary":"Joshuto å›¾ç‰‡é¢„è§ˆ brew install ueberzug","title":""}]